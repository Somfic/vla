var Qr=Object.defineProperty;var jr=(t,e,n)=>e in t?Qr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ui=(t,e,n)=>(jr(t,typeof e!="symbol"?e+"":e,n),n);import{r as St,R as G,s as be,o as Ge,e as ue,c as fe,d as Q,g as O,x as v,S as ce,j as L,T as Ne,u as Je,p as Qe,q as je,U as pn,m as J,b as de,t as Ve,h as he,f as Xe,l as Fe,V as Ke,i as De,B as _e,v as Se,z as ve,w as Ee,W as Vn,y as gn,X as Ei,Y as mn,C as jt,Z as Sl,_ as El,D as Xn,$ as Ce,k as x,a0 as Ze,n as we,a1 as Kt,a2 as Ft,a3 as Ti,a4 as Dt,I as xr,a5 as $r,a6 as es,a7 as ts,a as ns,a8 as xi,a9 as An,aa as pi}from"../chunks/scheduler.DBQXd8cO.js";import{a as R,t as X,S as ge,i as me,c as ne,b as re,m as ie,d as oe,g as Ae,e as Oe,f as Vi}from"../chunks/index.CQr_38T9.js";import{w as ee,d as Zt,r as ft}from"../chunks/index.CAP-KSCe.js";import{i as is}from"../chunks/tauri.Lbq3P7Ci.js";const os=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function We(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function $n(t,e){R(t,1,1,()=>{e.delete(t.key)})}function ei(t,e,n,i,o,l,s,r,a,u,f,d){let c=t.length,h=l.length,m=c;const _={};for(;m--;)_[t[m].key]=m;const b=[],g=new Map,E=new Map,N=[];for(m=h;m--;){const P=d(o,l,m),S=n(P);let D=s.get(S);D?N.push(()=>D.p(P,e)):(D=u(S,P),D.c()),g.set(S,b[m]=D),S in _&&E.set(S,Math.abs(m-_[S]))}const k=new Set,M=new Set;function z(P){X(P,1),P.m(r,f),s.set(P.key,P),f=P.first,h--}for(;c&&h;){const P=b[h-1],S=t[c-1],D=P.key,p=S.key;P===S?(f=P.first,c--,h--):g.has(p)?!s.has(D)||k.has(D)?z(P):M.has(p)?c--:E.get(D)>E.get(p)?(M.add(D),z(P)):(k.add(p),c--):(a(S,s),c--)}for(;c--;){const P=t[c];g.has(P.key)||a(P,s)}for(;h;)z(b[h-1]);return St(N),b}function kt(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const s=t[l],r=e[l];if(r){for(const a in s)a in r||(i[a]=1);for(const a in r)o[a]||(n[a]=r[a],o[a]=1);t[l]=r}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function qt(t){return typeof t=="object"&&t!==null?t:{}}const At=ee([]),Yn=ee(""),an=ee(""),Rn=ee(),Cl=ee();let $i=!1;At.subscribe(t=>{var e;!$i&&t.length>0&&($i=!0,Yn.set((e=G(At)[0])==null?void 0:e.name),is("close_splashscreen"))});function ls(){At.set([]),an.set(""),At.subscribe(()=>fi()),At.subscribe(()=>ci()),Yn.subscribe(()=>fi()),Yn.subscribe(()=>ci()),an.subscribe(()=>fi()),an.subscribe(()=>ci())}function fi(){Rn.set(G(At).find(t=>t.name==G(Yn)))}function ci(){var t;Cl.set((t=G(Rn))==null?void 0:t.webs.find(e=>e.name==G(an)))}function rs(){Xi("workspace list")}function ss(t,e){Xi("web create",{workspacePath:t.path,name:e})}function as(t,e){Xi("web update",{workspacePath:t.path,web:e})}let _t=null,eo=ee(!1),us=ee([]);function zl(){ls(),console.debug("Websocket is connecting ..."),_t=new WebSocket("ws://127.0.0.1:55155"),_t.onopen=()=>{console.info("Websocket connected"),eo.set(!0),rs()},_t.onmessage=t=>{us.update(n=>[...n,t.data]);const e=JSON.parse(t.data);switch(e.id.toLowerCase()){case"workspaces":At.set(e.data.workspaces);break}},_t.onerror=t=>{console.error("Websocket error",t)},_t.onclose=t=>{console.info("Websocket closed",t),eo.set(!1),setTimeout(()=>{zl()},5e3)}}function Xi(t,e=null){if(!_t)return;if(_t.readyState!==_t.OPEN)return console.log("Not open");let n=new fs(t,e);_t.send(JSON.stringify(n))}class fs{constructor(e,n=null){ui(this,"id");ui(this,"data");this.id=e,this.data=n}}function Me(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Me(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var cs={value:()=>{}};function ti(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new On(n)}function On(t){this._=t}function ds(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}On.prototype=ti.prototype={constructor:On,on:function(t,e){var n=this._,i=ds(t+"",n),o,l=-1,s=i.length;if(arguments.length<2){for(;++l<s;)if((o=(t=i[l]).type)&&(o=hs(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<s;)if(o=(t=i[l]).type)n[o]=to(n[o],t.name,e);else if(e==null)for(o in n)n[o]=to(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new On(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,l;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,o=l.length;i<o;++i)l[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,l=i.length;o<l;++o)i[o].value.apply(e,n)}};function hs(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function to(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=cs,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ci="http://www.w3.org/1999/xhtml";const no={svg:"http://www.w3.org/2000/svg",xhtml:Ci,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ni(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),no.hasOwnProperty(e)?{space:no[e],local:t}:t}function gs(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ci&&e.documentElement.namespaceURI===Ci?e.createElement(t):e.createElementNS(n,t)}}function ms(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ml(t){var e=ni(t);return(e.local?ms:gs)(e)}function _s(){}function Yi(t){return t==null?_s:function(){return this.querySelector(t)}}function bs(t){typeof t!="function"&&(t=Yi(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),r[f]=u);return new $e(i,this._parents)}function ys(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ws(){return[]}function Pl(t){return t==null?ws:function(){return this.querySelectorAll(t)}}function ks(t){return function(){return ys(t.apply(this,arguments))}}function vs(t){typeof t=="function"?t=ks(t):t=Pl(t);for(var e=this._groups,n=e.length,i=[],o=[],l=0;l<n;++l)for(var s=e[l],r=s.length,a,u=0;u<r;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new $e(i,o)}function Nl(t){return function(){return this.matches(t)}}function Hl(t){return function(e){return e.matches(t)}}var Ss=Array.prototype.find;function Es(t){return function(){return Ss.call(this.children,t)}}function Cs(){return this.firstElementChild}function zs(t){return this.select(t==null?Cs:Es(typeof t=="function"?t:Hl(t)))}var Ms=Array.prototype.filter;function Ps(){return Array.from(this.children)}function Ns(t){return function(){return Ms.call(this.children,t)}}function Hs(t){return this.selectAll(t==null?Ps:Ns(typeof t=="function"?t:Hl(t)))}function As(t){typeof t!="function"&&(t=Nl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=[],a,u=0;u<s;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&r.push(a);return new $e(i,this._parents)}function Al(t){return new Array(t.length)}function Os(){return new $e(this._enter||this._groups.map(Al),this._parents)}function Wn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Wn.prototype={constructor:Wn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Is(t){return function(){return t}}function Ds(t,e,n,i,o,l){for(var s=0,r,a=e.length,u=l.length;s<u;++s)(r=e[s])?(r.__data__=l[s],i[s]=r):n[s]=new Wn(t,l[s]);for(;s<a;++s)(r=e[s])&&(o[s]=r)}function Ts(t,e,n,i,o,l,s){var r,a,u=new Map,f=e.length,d=l.length,c=new Array(f),h;for(r=0;r<f;++r)(a=e[r])&&(c[r]=h=s.call(a,a.__data__,r,e)+"",u.has(h)?o[r]=a:u.set(h,a));for(r=0;r<d;++r)h=s.call(t,l[r],r,l)+"",(a=u.get(h))?(i[r]=a,a.__data__=l[r],u.delete(h)):n[r]=new Wn(t,l[r]);for(r=0;r<f;++r)(a=e[r])&&u.get(c[r])===a&&(o[r]=a)}function ps(t){return t.__data__}function Vs(t,e){if(!arguments.length)return Array.from(this,ps);var n=e?Ts:Ds,i=this._parents,o=this._groups;typeof t!="function"&&(t=Is(t));for(var l=o.length,s=new Array(l),r=new Array(l),a=new Array(l),u=0;u<l;++u){var f=i[u],d=o[u],c=d.length,h=Xs(t.call(f,f&&f.__data__,u,i)),m=h.length,_=r[u]=new Array(m),b=s[u]=new Array(m),g=a[u]=new Array(c);n(f,d,_,b,g,h,e);for(var E=0,N=0,k,M;E<m;++E)if(k=_[E]){for(E>=N&&(N=E+1);!(M=b[N])&&++N<m;);k._next=M||null}}return s=new $e(s,i),s._enter=r,s._exit=a,s}function Xs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ys(){return new $e(this._exit||this._groups.map(Al),this._parents)}function Rs(t,e,n){var i=this.enter(),o=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?l.remove():n(l),i&&o?i.merge(o).order():o}function Ws(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,l=i.length,s=Math.min(o,l),r=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],d=u.length,c=r[a]=new Array(d),h,m=0;m<d;++m)(h=u[m]||f[m])&&(c[m]=h);for(;a<o;++a)r[a]=n[a];return new $e(r,this._parents)}function Bs(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,l=i[o],s;--o>=0;)(s=i[o])&&(l&&s.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(s,l),l=s);return this}function Ls(t){t||(t=Ks);function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var n=this._groups,i=n.length,o=new Array(i),l=0;l<i;++l){for(var s=n[l],r=s.length,a=o[l]=new Array(r),u,f=0;f<r;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new $e(o,this._parents).order()}function Ks(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Fs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Zs(){return Array.from(this)}function qs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length;o<l;++o){var s=i[o];if(s)return s}return null}function Us(){let t=0;for(const e of this)++t;return t}function Gs(){return!this.node()}function Js(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],l=0,s=o.length,r;l<s;++l)(r=o[l])&&t.call(r,r.__data__,l,o);return this}function Qs(t){return function(){this.removeAttribute(t)}}function js(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xs(t,e){return function(){this.setAttribute(t,e)}}function $s(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ea(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ta(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function na(t,e){var n=ni(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?js:Qs:typeof e=="function"?n.local?ta:ea:n.local?$s:xs)(n,e))}function Ol(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ia(t){return function(){this.style.removeProperty(t)}}function oa(t,e,n){return function(){this.style.setProperty(t,e,n)}}function la(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ra(t,e,n){return arguments.length>1?this.each((e==null?ia:typeof e=="function"?la:oa)(t,e,n==null?"":n)):Ut(this.node(),t)}function Ut(t,e){return t.style.getPropertyValue(e)||Ol(t).getComputedStyle(t,null).getPropertyValue(e)}function sa(t){return function(){delete this[t]}}function aa(t,e){return function(){this[t]=e}}function ua(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function fa(t,e){return arguments.length>1?this.each((e==null?sa:typeof e=="function"?ua:aa)(t,e)):this.node()[t]}function Il(t){return t.trim().split(/^|\s+/)}function Ri(t){return t.classList||new Dl(t)}function Dl(t){this._node=t,this._names=Il(t.getAttribute("class")||"")}Dl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Tl(t,e){for(var n=Ri(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function pl(t,e){for(var n=Ri(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function ca(t){return function(){Tl(this,t)}}function da(t){return function(){pl(this,t)}}function ha(t,e){return function(){(e.apply(this,arguments)?Tl:pl)(this,t)}}function ga(t,e){var n=Il(t+"");if(arguments.length<2){for(var i=Ri(this.node()),o=-1,l=n.length;++o<l;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?ha:e?ca:da)(n,e))}function ma(){this.textContent=""}function _a(t){return function(){this.textContent=t}}function ba(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function ya(t){return arguments.length?this.each(t==null?ma:(typeof t=="function"?ba:_a)(t)):this.node().textContent}function wa(){this.innerHTML=""}function ka(t){return function(){this.innerHTML=t}}function va(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Sa(t){return arguments.length?this.each(t==null?wa:(typeof t=="function"?va:ka)(t)):this.node().innerHTML}function Ea(){this.nextSibling&&this.parentNode.appendChild(this)}function Ca(){return this.each(Ea)}function za(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ma(){return this.each(za)}function Pa(t){var e=typeof t=="function"?t:Ml(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Na(){return null}function Ha(t,e){var n=typeof t=="function"?t:Ml(t),i=e==null?Na:typeof e=="function"?e:Yi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Aa(){var t=this.parentNode;t&&t.removeChild(this)}function Oa(){return this.each(Aa)}function Ia(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Da(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ta(t){return this.select(t?Da:Ia)}function pa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Va(t){return function(e){t.call(this,e,this.__data__)}}function Xa(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Ya(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,l;n<o;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function Ra(t,e,n){return function(){var i=this.__on,o,l=Va(e);if(i){for(var s=0,r=i.length;s<r;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=e;return}}this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,options:n},i?i.push(o):this.__on=[o]}}function Wa(t,e,n){var i=Xa(t+""),o,l=i.length,s;if(arguments.length<2){var r=this.node().__on;if(r){for(var a=0,u=r.length,f;a<u;++a)for(o=0,f=r[a];o<l;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(r=e?Ra:Ya,o=0;o<l;++o)this.each(r(i[o],e,n));return this}function Vl(t,e,n){var i=Ol(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ba(t,e){return function(){return Vl(this,t,e)}}function La(t,e){return function(){return Vl(this,t,e.apply(this,arguments))}}function Ka(t,e){return this.each((typeof e=="function"?La:Ba)(t,e))}function*Fa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length,s;o<l;++o)(s=i[o])&&(yield s)}var Xl=[null];function $e(t,e){this._groups=t,this._parents=e}function _n(){return new $e([[document.documentElement]],Xl)}function Za(){return this}$e.prototype=_n.prototype={constructor:$e,select:bs,selectAll:vs,selectChild:zs,selectChildren:Hs,filter:As,data:Vs,enter:Os,exit:Ys,join:Rs,merge:Ws,selection:Za,order:Bs,sort:Ls,call:Fs,nodes:Zs,node:qs,size:Us,empty:Gs,each:Js,attr:na,style:ra,property:fa,classed:ga,text:ya,html:Sa,raise:Ca,lower:Ma,append:Pa,insert:Ha,remove:Oa,clone:Ta,datum:pa,on:Wa,dispatch:Ka,[Symbol.iterator]:Fa};function nt(t){return typeof t=="string"?new $e([[document.querySelector(t)]],[document.documentElement]):new $e([[t]],Xl)}function qa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ot(t,e){if(t=qa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Ua={passive:!1},un={capture:!0,passive:!1};function di(t){t.stopImmediatePropagation()}function Wt(t){t.preventDefault(),t.stopImmediatePropagation()}function Yl(t){var e=t.document.documentElement,n=nt(t).on("dragstart.drag",Wt,un);"onselectstart"in e?n.on("selectstart.drag",Wt,un):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Rl(t,e){var n=t.document.documentElement,i=nt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Wt,un),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sn=t=>()=>t;function zi(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:l,x:s,y:r,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}zi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ga(t){return!t.ctrlKey&&!t.button}function Ja(){return this.parentNode}function Qa(t,e){return e==null?{x:t.x,y:t.y}:e}function ja(){return navigator.maxTouchPoints||"ontouchstart"in this}function xa(){var t=Ga,e=Ja,n=Qa,i=ja,o={},l=ti("start","drag","end"),s=0,r,a,u,f,d=0;function c(k){k.on("mousedown.drag",h).filter(i).on("touchstart.drag",b).on("touchmove.drag",g,Ua).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(k,M){if(!(f||!t.call(this,k,M))){var z=N(this,e.call(this,k,M),k,M,"mouse");z&&(nt(k.view).on("mousemove.drag",m,un).on("mouseup.drag",_,un),Yl(k.view),di(k),u=!1,r=k.clientX,a=k.clientY,z("start",k))}}function m(k){if(Wt(k),!u){var M=k.clientX-r,z=k.clientY-a;u=M*M+z*z>d}o.mouse("drag",k)}function _(k){nt(k.view).on("mousemove.drag mouseup.drag",null),Rl(k.view,u),Wt(k),o.mouse("end",k)}function b(k,M){if(t.call(this,k,M)){var z=k.changedTouches,P=e.call(this,k,M),S=z.length,D,p;for(D=0;D<S;++D)(p=N(this,P,k,M,z[D].identifier,z[D]))&&(di(k),p("start",k,z[D]))}}function g(k){var M=k.changedTouches,z=M.length,P,S;for(P=0;P<z;++P)(S=o[M[P].identifier])&&(Wt(k),S("drag",k,M[P]))}function E(k){var M=k.changedTouches,z=M.length,P,S;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),P=0;P<z;++P)(S=o[M[P].identifier])&&(di(k),S("end",k,M[P]))}function N(k,M,z,P,S,D){var p=l.copy(),y=ot(D||z,M),W,T,w;if((w=n.call(k,new zi("beforestart",{sourceEvent:z,target:c,identifier:S,active:s,x:y[0],y:y[1],dx:0,dy:0,dispatch:p}),P))!=null)return W=w.x-y[0]||0,T=w.y-y[1]||0,function I(C,V,B){var K=y,Y;switch(C){case"start":o[S]=I,Y=s++;break;case"end":delete o[S],--s;case"drag":y=ot(B||V,M),Y=s;break}p.call(C,k,new zi(C,{sourceEvent:V,subject:w,target:c,identifier:S,active:Y,x:y[0]+W,y:y[1]+T,dx:y[0]-K[0],dy:y[1]-K[1],dispatch:p}),P)}}return c.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Sn(!!k),c):t},c.container=function(k){return arguments.length?(e=typeof k=="function"?k:Sn(k),c):e},c.subject=function(k){return arguments.length?(n=typeof k=="function"?k:Sn(k),c):n},c.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:Sn(!!k),c):i},c.on=function(){var k=l.on.apply(l,arguments);return k===l?c:k},c.clickDistance=function(k){return arguments.length?(d=(k=+k)*k,c):Math.sqrt(d)},c}function Wi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Wl(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function bn(){}var fn=.7,Bn=1/fn,Bt="\\s*([+-]?\\d+)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$a=/^#([0-9a-f]{3,8})$/,eu=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),tu=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),nu=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${cn}\\)$`),iu=new RegExp(`^rgba\\(${ct},${ct},${ct},${cn}\\)$`),ou=new RegExp(`^hsl\\(${cn},${ct},${ct}\\)$`),lu=new RegExp(`^hsla\\(${cn},${ct},${ct},${cn}\\)$`),io={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wi(bn,dn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oo,formatHex:oo,formatHex8:ru,formatHsl:su,formatRgb:lo,toString:lo});function oo(){return this.rgb().formatHex()}function ru(){return this.rgb().formatHex8()}function su(){return Bl(this).formatHsl()}function lo(){return this.rgb().formatRgb()}function dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$a.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ro(e):n===3?new Ue(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?En(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?En(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eu.exec(t))?new Ue(e[1],e[2],e[3],1):(e=tu.exec(t))?new Ue(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nu.exec(t))?En(e[1],e[2],e[3],e[4]):(e=iu.exec(t))?En(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ou.exec(t))?uo(e[1],e[2]/100,e[3]/100,1):(e=lu.exec(t))?uo(e[1],e[2]/100,e[3]/100,e[4]):io.hasOwnProperty(t)?ro(io[t]):t==="transparent"?new Ue(NaN,NaN,NaN,0):null}function ro(t){return new Ue(t>>16&255,t>>8&255,t&255,1)}function En(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ue(t,e,n,i)}function au(t){return t instanceof bn||(t=dn(t)),t?(t=t.rgb(),new Ue(t.r,t.g,t.b,t.opacity)):new Ue}function Mi(t,e,n,i){return arguments.length===1?au(t):new Ue(t,e,n,i==null?1:i)}function Ue(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Wi(Ue,Mi,Wl(bn,{brighter(t){return t=t==null?Bn:Math.pow(Bn,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fn:Math.pow(fn,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ue(Ot(this.r),Ot(this.g),Ot(this.b),Ln(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:so,formatHex:so,formatHex8:uu,formatRgb:ao,toString:ao}));function so(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}`}function uu(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}${Ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function ao(){const t=Ln(this.opacity);return`${t===1?"rgb(":"rgba("}${Ot(this.r)}, ${Ot(this.g)}, ${Ot(this.b)}${t===1?")":`, ${t})`}`}function Ln(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ot(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ht(t){return t=Ot(t),(t<16?"0":"")+t.toString(16)}function uo(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lt(t,e,n,i)}function Bl(t){if(t instanceof lt)return new lt(t.h,t.s,t.l,t.opacity);if(t instanceof bn||(t=dn(t)),!t)return new lt;if(t instanceof lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),l=Math.max(e,n,i),s=NaN,r=l-o,a=(l+o)/2;return r?(e===l?s=(n-i)/r+(n<i)*6:n===l?s=(i-e)/r+2:s=(e-n)/r+4,r/=a<.5?l+o:2-l-o,s*=60):r=a>0&&a<1?0:s,new lt(s,r,a,t.opacity)}function fu(t,e,n,i){return arguments.length===1?Bl(t):new lt(t,e,n,i==null?1:i)}function lt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Wi(lt,fu,Wl(bn,{brighter(t){return t=t==null?Bn:Math.pow(Bn,t),new lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fn:Math.pow(fn,t),new lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Ue(hi(t>=240?t-240:t+120,o,i),hi(t,o,i),hi(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new lt(fo(this.h),Cn(this.s),Cn(this.l),Ln(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ln(this.opacity);return`${t===1?"hsl(":"hsla("}${fo(this.h)}, ${Cn(this.s)*100}%, ${Cn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fo(t){return t=(t||0)%360,t<0?t+360:t}function Cn(t){return Math.max(0,Math.min(1,t||0))}function hi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ll=t=>()=>t;function cu(t,e){return function(n){return t+n*e}}function du(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function hu(t){return(t=+t)==1?Kl:function(e,n){return n-e?du(e,n,t):Ll(isNaN(e)?n:e)}}function Kl(t,e){var n=e-t;return n?cu(t,n):Ll(isNaN(t)?e:t)}const co=function t(e){var n=hu(e);function i(o,l){var s=n((o=Mi(o)).r,(l=Mi(l)).r),r=n(o.g,l.g),a=n(o.b,l.b),u=Kl(o.opacity,l.opacity);return function(f){return o.r=s(f),o.g=r(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function Mt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gi=new RegExp(Pi.source,"g");function gu(t){return function(){return t}}function mu(t){return function(e){return t(e)+""}}function _u(t,e){var n=Pi.lastIndex=gi.lastIndex=0,i,o,l,s=-1,r=[],a=[];for(t=t+"",e=e+"";(i=Pi.exec(t))&&(o=gi.exec(e));)(l=o.index)>n&&(l=e.slice(n,l),r[s]?r[s]+=l:r[++s]=l),(i=i[0])===(o=o[0])?r[s]?r[s]+=o:r[++s]=o:(r[++s]=null,a.push({i:s,x:Mt(i,o)})),n=gi.lastIndex;return n<e.length&&(l=e.slice(n),r[s]?r[s]+=l:r[++s]=l),r.length<2?a[0]?mu(a[0].x):gu(e):(e=a.length,function(u){for(var f=0,d;f<e;++f)r[(d=a[f]).i]=d.x(u);return r.join("")})}var ho=180/Math.PI,Ni={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fl(t,e,n,i,o,l){var s,r,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(r=Math.sqrt(n*n+i*i))&&(n/=r,i/=r,a/=r),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:l,rotate:Math.atan2(e,t)*ho,skewX:Math.atan(a)*ho,scaleX:s,scaleY:r}}var zn;function bu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ni:Fl(e.a,e.b,e.c,e.d,e.e,e.f)}function yu(t){return t==null||(zn||(zn=document.createElementNS("http://www.w3.org/2000/svg","g")),zn.setAttribute("transform",t),!(t=zn.transform.baseVal.consolidate()))?Ni:(t=t.matrix,Fl(t.a,t.b,t.c,t.d,t.e,t.f))}function Zl(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function l(u,f,d,c,h,m){if(u!==d||f!==c){var _=h.push("translate(",null,e,null,n);m.push({i:_-4,x:Mt(u,d)},{i:_-2,x:Mt(f,c)})}else(d||c)&&h.push("translate("+d+e+c+n)}function s(u,f,d,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:d.push(o(d)+"rotate(",null,i)-2,x:Mt(u,f)})):f&&d.push(o(d)+"rotate("+f+i)}function r(u,f,d,c){u!==f?c.push({i:d.push(o(d)+"skewX(",null,i)-2,x:Mt(u,f)}):f&&d.push(o(d)+"skewX("+f+i)}function a(u,f,d,c,h,m){if(u!==d||f!==c){var _=h.push(o(h)+"scale(",null,",",null,")");m.push({i:_-4,x:Mt(u,d)},{i:_-2,x:Mt(f,c)})}else(d!==1||c!==1)&&h.push(o(h)+"scale("+d+","+c+")")}return function(u,f){var d=[],c=[];return u=t(u),f=t(f),l(u.translateX,u.translateY,f.translateX,f.translateY,d,c),s(u.rotate,f.rotate,d,c),r(u.skewX,f.skewX,d,c),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,c),u=f=null,function(h){for(var m=-1,_=c.length,b;++m<_;)d[(b=c[m]).i]=b.x(h);return d.join("")}}}var wu=Zl(bu,"px, ","px)","deg)"),ku=Zl(yu,", ",")",")"),vu=1e-12;function go(t){return((t=Math.exp(t))+1/t)/2}function Su(t){return((t=Math.exp(t))-1/t)/2}function Eu(t){return((t=Math.exp(2*t))-1)/(t+1)}const Cu=function t(e,n,i){function o(l,s){var r=l[0],a=l[1],u=l[2],f=s[0],d=s[1],c=s[2],h=f-r,m=d-a,_=h*h+m*m,b,g;if(_<vu)g=Math.log(c/u)/e,b=function(P){return[r+P*h,a+P*m,u*Math.exp(e*P*g)]};else{var E=Math.sqrt(_),N=(c*c-u*u+i*_)/(2*u*n*E),k=(c*c-u*u-i*_)/(2*c*n*E),M=Math.log(Math.sqrt(N*N+1)-N),z=Math.log(Math.sqrt(k*k+1)-k);g=(z-M)/e,b=function(P){var S=P*g,D=go(M),p=u/(n*E)*(D*Eu(e*S+M)-Su(M));return[r+p*h,a+p*m,u*D/go(e*S+M)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return o.rho=function(l){var s=Math.max(.001,+l),r=s*s,a=r*r;return t(s,r,a)},o}(Math.SQRT2,2,4);var Gt=0,rn=0,tn=0,ql=1e3,Kn,sn,Fn=0,It=0,ii=0,hn=typeof performance=="object"&&performance.now?performance:Date,Ul=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Bi(){return It||(Ul(zu),It=hn.now()+ii)}function zu(){It=0}function Zn(){this._call=this._time=this._next=null}Zn.prototype=Gl.prototype={constructor:Zn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Bi():+n)+(e==null?0:+e),!this._next&&sn!==this&&(sn?sn._next=this:Kn=this,sn=this),this._call=t,this._time=n,Hi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hi())}};function Gl(t,e,n){var i=new Zn;return i.restart(t,e,n),i}function Mu(){Bi(),++Gt;for(var t=Kn,e;t;)(e=It-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Gt}function mo(){It=(Fn=hn.now())+ii,Gt=rn=0;try{Mu()}finally{Gt=0,Nu(),It=0}}function Pu(){var t=hn.now(),e=t-Fn;e>ql&&(ii-=e,Fn=t)}function Nu(){for(var t,e=Kn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Kn=n);sn=t,Hi(i)}function Hi(t){if(!Gt){rn&&(rn=clearTimeout(rn));var e=t-It;e>24?(t<1/0&&(rn=setTimeout(mo,t-hn.now()-ii)),tn&&(tn=clearInterval(tn))):(tn||(Fn=hn.now(),tn=setInterval(Pu,ql)),Gt=1,Ul(mo))}}function _o(t,e,n){var i=new Zn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Hu=ti("start","end","cancel","interrupt"),Au=[],Jl=0,bo=1,Ai=2,In=3,yo=4,Oi=5,Dn=6;function oi(t,e,n,i,o,l){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Ou(t,n,{name:e,index:i,group:o,on:Hu,tween:Au,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Jl})}function Li(t,e){var n=rt(t,e);if(n.state>Jl)throw new Error("too late; already scheduled");return n}function ht(t,e){var n=rt(t,e);if(n.state>In)throw new Error("too late; already running");return n}function rt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ou(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Gl(l,0,n.time);function l(u){n.state=bo,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,c,h;if(n.state!==bo)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===In)return _o(s);h.state===yo?(h.state=Dn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=Dn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(_o(function(){n.state===In&&(n.state=yo,n.timer.restart(r,n.delay,n.time),r(u))}),n.state=Ai,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ai){for(n.state=In,o=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function r(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Oi,1),d=-1,c=o.length;++d<c;)o[d].call(t,f);n.state===Oi&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Dn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Tn(t,e){var n=t.__transition,i,o,l=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){l=!1;continue}o=i.state>Ai&&i.state<Oi,i.state=Dn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}l&&delete t.__transition}}function Iu(t){return this.each(function(){Tn(this,t)})}function Du(t,e){var n,i;return function(){var o=ht(this,t),l=o.tween;if(l!==n){i=n=l;for(var s=0,r=i.length;s<r;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Tu(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var l=ht(this,t),s=l.tween;if(s!==i){o=(i=s).slice();for(var r={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=r;break}a===u&&o.push(r)}l.tween=o}}function pu(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=rt(this.node(),n).tween,o=0,l=i.length,s;o<l;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Du:Tu)(n,t,e))}function Ki(t,e,n){var i=t._id;return t.each(function(){var o=ht(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return rt(o,i).value[e]}}function Ql(t,e){var n;return(typeof e=="number"?Mt:e instanceof dn?co:(n=dn(e))?(e=n,co):_u)(t,e)}function Vu(t){return function(){this.removeAttribute(t)}}function Xu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yu(t,e,n){var i,o=n+"",l;return function(){var s=this.getAttribute(t);return s===o?null:s===i?l:l=e(i=s,n)}}function Ru(t,e,n){var i,o=n+"",l;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?l:l=e(i=s,n)}}function Wu(t,e,n){var i,o,l;return function(){var s,r=n(this),a;return r==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=r+"",s===a?null:s===i&&a===o?l:(o=a,l=e(i=s,r)))}}function Bu(t,e,n){var i,o,l;return function(){var s,r=n(this),a;return r==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=r+"",s===a?null:s===i&&a===o?l:(o=a,l=e(i=s,r)))}}function Lu(t,e){var n=ni(t),i=n==="transform"?ku:Ql;return this.attrTween(t,typeof e=="function"?(n.local?Bu:Wu)(n,i,Ki(this,"attr."+t,e)):e==null?(n.local?Xu:Vu)(n):(n.local?Ru:Yu)(n,i,e))}function Ku(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Fu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Zu(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Fu(t,l)),n}return o._value=e,o}function qu(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Ku(t,l)),n}return o._value=e,o}function Uu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=ni(t);return this.tween(n,(i.local?Zu:qu)(i,e))}function Gu(t,e){return function(){Li(this,t).delay=+e.apply(this,arguments)}}function Ju(t,e){return e=+e,function(){Li(this,t).delay=e}}function Qu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gu:Ju)(e,t)):rt(this.node(),e).delay}function ju(t,e){return function(){ht(this,t).duration=+e.apply(this,arguments)}}function xu(t,e){return e=+e,function(){ht(this,t).duration=e}}function $u(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ju:xu)(e,t)):rt(this.node(),e).duration}function ef(t,e){if(typeof e!="function")throw new Error;return function(){ht(this,t).ease=e}}function tf(t){var e=this._id;return arguments.length?this.each(ef(e,t)):rt(this.node(),e).ease}function nf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ht(this,t).ease=n}}function of(t){if(typeof t!="function")throw new Error;return this.each(nf(this._id,t))}function lf(t){typeof t!="function"&&(t=Nl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=[],a,u=0;u<s;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&r.push(a);return new vt(i,this._parents,this._name,this._id)}function rf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,l=Math.min(i,o),s=new Array(i),r=0;r<l;++r)for(var a=e[r],u=n[r],f=a.length,d=s[r]=new Array(f),c,h=0;h<f;++h)(c=a[h]||u[h])&&(d[h]=c);for(;r<i;++r)s[r]=e[r];return new vt(s,this._parents,this._name,this._id)}function sf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function af(t,e,n){var i,o,l=sf(e)?Li:ht;return function(){var s=l(this,t),r=s.on;r!==i&&(o=(i=r).copy()).on(e,n),s.on=o}}function uf(t,e){var n=this._id;return arguments.length<2?rt(this.node(),n).on.on(t):this.each(af(n,t,e))}function ff(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function cf(){return this.on("end.remove",ff(this._id))}function df(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Yi(t));for(var i=this._groups,o=i.length,l=new Array(o),s=0;s<o;++s)for(var r=i[s],a=r.length,u=l[s]=new Array(a),f,d,c=0;c<a;++c)(f=r[c])&&(d=t.call(f,f.__data__,c,r))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d,oi(u[c],e,n,c,u,rt(f,n)));return new vt(l,this._parents,e,n)}function hf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Pl(t));for(var i=this._groups,o=i.length,l=[],s=[],r=0;r<o;++r)for(var a=i[r],u=a.length,f,d=0;d<u;++d)if(f=a[d]){for(var c=t.call(f,f.__data__,d,a),h,m=rt(f,n),_=0,b=c.length;_<b;++_)(h=c[_])&&oi(h,e,n,_,c,m);l.push(c),s.push(f)}return new vt(l,s,e,n)}var gf=_n.prototype.constructor;function mf(){return new gf(this._groups,this._parents)}function _f(t,e){var n,i,o;return function(){var l=Ut(this,t),s=(this.style.removeProperty(t),Ut(this,t));return l===s?null:l===n&&s===i?o:o=e(n=l,i=s)}}function jl(t){return function(){this.style.removeProperty(t)}}function bf(t,e,n){var i,o=n+"",l;return function(){var s=Ut(this,t);return s===o?null:s===i?l:l=e(i=s,n)}}function yf(t,e,n){var i,o,l;return function(){var s=Ut(this,t),r=n(this),a=r+"";return r==null&&(a=r=(this.style.removeProperty(t),Ut(this,t))),s===a?null:s===i&&a===o?l:(o=a,l=e(i=s,r))}}function wf(t,e){var n,i,o,l="style."+e,s="end."+l,r;return function(){var a=ht(this,t),u=a.on,f=a.value[l]==null?r||(r=jl(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function kf(t,e,n){var i=(t+="")=="transform"?wu:Ql;return e==null?this.styleTween(t,_f(t,i)).on("end.style."+t,jl(t)):typeof e=="function"?this.styleTween(t,yf(t,i,Ki(this,"style."+t,e))).each(wf(this._id,t)):this.styleTween(t,bf(t,i,e),n).on("end.style."+t,null)}function vf(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Sf(t,e,n){var i,o;function l(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&vf(t,s,n)),i}return l._value=e,l}function Ef(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Sf(t,e,n==null?"":n))}function Cf(t){return function(){this.textContent=t}}function zf(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Mf(t){return this.tween("text",typeof t=="function"?zf(Ki(this,"text",t)):Cf(t==null?"":t+""))}function Pf(t){return function(e){this.textContent=t.call(this,e)}}function Nf(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Pf(o)),e}return i._value=t,i}function Hf(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Nf(t))}function Af(){for(var t=this._name,e=this._id,n=xl(),i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,a,u=0;u<r;++u)if(a=s[u]){var f=rt(a,e);oi(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new vt(i,this._parents,t,n)}function Of(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(l,s){var r={value:s},a={value:function(){--o===0&&l()}};n.each(function(){var u=ht(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(r),e._.interrupt.push(r),e._.end.push(a)),u.on=e}),o===0&&l()})}var If=0;function vt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function xl(){return++If}var mt=_n.prototype;vt.prototype={constructor:vt,select:df,selectAll:hf,selectChild:mt.selectChild,selectChildren:mt.selectChildren,filter:lf,merge:rf,selection:mf,transition:Af,call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:uf,attr:Lu,attrTween:Uu,style:kf,styleTween:Ef,text:Mf,textTween:Hf,remove:cf,tween:pu,delay:Qu,duration:$u,ease:tf,easeVarying:of,end:Of,[Symbol.iterator]:mt[Symbol.iterator]};function Df(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tf={time:null,delay:0,duration:250,ease:Df};function pf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Vf(t){var e,n;t instanceof vt?(e=t._id,t=t._name):(e=xl(),(n=Tf).time=Bi(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,a,u=0;u<r;++u)(a=s[u])&&oi(a,t,e,u,s,n||pf(a,e));return new vt(i,this._parents,t,e)}_n.prototype.interrupt=Iu;_n.prototype.transition=Vf;const Mn=t=>()=>t;function Xf(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function bt(t,e,n){this.k=t,this.x=e,this.y=n}bt.prototype={constructor:bt,scale:function(t){return t===1?this:new bt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var li=new bt(1,0,0);$l.prototype=bt.prototype;function $l(t){for(;!t.__zoom;)if(!(t=t.parentNode))return li;return t.__zoom}function mi(t){t.stopImmediatePropagation()}function nn(t){t.preventDefault(),t.stopImmediatePropagation()}function Yf(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Rf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function wo(){return this.__zoom||li}function Wf(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lf(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>l?(l+s)/2:Math.min(0,l)||Math.max(0,s))}function er(){var t=Yf,e=Rf,n=Lf,i=Wf,o=Bf,l=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],r=250,a=Cu,u=ti("start","zoom","end"),f,d,c,h=500,m=150,_=0,b=10;function g(w){w.property("__zoom",wo).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",p).filter(o).on("touchstart.zoom",y).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(w,I,C,V){var B=w.selection?w.selection():w;B.property("__zoom",wo),w!==B?M(w,I,C,V):B.interrupt().each(function(){z(this,arguments).event(V).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},g.scaleBy=function(w,I,C,V){g.scaleTo(w,function(){var B=this.__zoom.k,K=typeof I=="function"?I.apply(this,arguments):I;return B*K},C,V)},g.scaleTo=function(w,I,C,V){g.transform(w,function(){var B=e.apply(this,arguments),K=this.__zoom,Y=C==null?k(B):typeof C=="function"?C.apply(this,arguments):C,F=K.invert(Y),H=typeof I=="function"?I.apply(this,arguments):I;return n(N(E(K,H),Y,F),B,s)},C,V)},g.translateBy=function(w,I,C,V){g.transform(w,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),s)},null,V)},g.translateTo=function(w,I,C,V,B){g.transform(w,function(){var K=e.apply(this,arguments),Y=this.__zoom,F=V==null?k(K):typeof V=="function"?V.apply(this,arguments):V;return n(li.translate(F[0],F[1]).scale(Y.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof C=="function"?-C.apply(this,arguments):-C),K,s)},V,B)};function E(w,I){return I=Math.max(l[0],Math.min(l[1],I)),I===w.k?w:new bt(I,w.x,w.y)}function N(w,I,C){var V=I[0]-C[0]*w.k,B=I[1]-C[1]*w.k;return V===w.x&&B===w.y?w:new bt(w.k,V,B)}function k(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function M(w,I,C,V){w.on("start.zoom",function(){z(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(V).end()}).tween("zoom",function(){var B=this,K=arguments,Y=z(B,K).event(V),F=e.apply(B,K),H=C==null?k(F):typeof C=="function"?C.apply(B,K):C,$=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),le=B.__zoom,ae=typeof I=="function"?I.apply(B,K):I,q=a(le.invert(H).concat($/le.k),ae.invert(H).concat($/ae.k));return function(se){if(se===1)se=ae;else{var ke=q(se),ze=$/ke[2];se=new bt(ze,H[0]-ke[0]*ze,H[1]-ke[1]*ze)}Y.zoom(null,se)}})}function z(w,I,C){return!C&&w.__zooming||new P(w,I)}function P(w,I){this.that=w,this.args=I,this.active=0,this.sourceEvent=null,this.extent=e.apply(w,I),this.taps=0}P.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,I){return this.mouse&&w!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var I=nt(this.that).datum();u.call(w,this.that,new Xf(w,{sourceEvent:this.sourceEvent,target:g,type:w,transform:this.that.__zoom,dispatch:u}),I)}};function S(w,...I){if(!t.apply(this,arguments))return;var C=z(this,I).event(w),V=this.__zoom,B=Math.max(l[0],Math.min(l[1],V.k*Math.pow(2,i.apply(this,arguments)))),K=ot(w);if(C.wheel)(C.mouse[0][0]!==K[0]||C.mouse[0][1]!==K[1])&&(C.mouse[1]=V.invert(C.mouse[0]=K)),clearTimeout(C.wheel);else{if(V.k===B)return;C.mouse=[K,V.invert(K)],Tn(this),C.start()}nn(w),C.wheel=setTimeout(Y,m),C.zoom("mouse",n(N(E(V,B),C.mouse[0],C.mouse[1]),C.extent,s));function Y(){C.wheel=null,C.end()}}function D(w,...I){if(c||!t.apply(this,arguments))return;var C=w.currentTarget,V=z(this,I,!0).event(w),B=nt(w.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",$,!0),K=ot(w,C),Y=w.clientX,F=w.clientY;Yl(w.view),mi(w),V.mouse=[K,this.__zoom.invert(K)],Tn(this),V.start();function H(le){if(nn(le),!V.moved){var ae=le.clientX-Y,q=le.clientY-F;V.moved=ae*ae+q*q>_}V.event(le).zoom("mouse",n(N(V.that.__zoom,V.mouse[0]=ot(le,C),V.mouse[1]),V.extent,s))}function $(le){B.on("mousemove.zoom mouseup.zoom",null),Rl(le.view,V.moved),nn(le),V.event(le).end()}}function p(w,...I){if(t.apply(this,arguments)){var C=this.__zoom,V=ot(w.changedTouches?w.changedTouches[0]:w,this),B=C.invert(V),K=C.k*(w.shiftKey?.5:2),Y=n(N(E(C,K),V,B),e.apply(this,I),s);nn(w),r>0?nt(this).transition().duration(r).call(M,Y,V,w):nt(this).call(g.transform,Y,V,w)}}function y(w,...I){if(t.apply(this,arguments)){var C=w.touches,V=C.length,B=z(this,I,w.changedTouches.length===V).event(w),K,Y,F,H;for(mi(w),Y=0;Y<V;++Y)F=C[Y],H=ot(F,this),H=[H,this.__zoom.invert(H),F.identifier],B.touch0?!B.touch1&&B.touch0[2]!==H[2]&&(B.touch1=H,B.taps=0):(B.touch0=H,K=!0,B.taps=1+!!f);f&&(f=clearTimeout(f)),K&&(B.taps<2&&(d=H[0],f=setTimeout(function(){f=null},h)),Tn(this),B.start())}}function W(w,...I){if(this.__zooming){var C=z(this,I).event(w),V=w.changedTouches,B=V.length,K,Y,F,H;for(nn(w),K=0;K<B;++K)Y=V[K],F=ot(Y,this),C.touch0&&C.touch0[2]===Y.identifier?C.touch0[0]=F:C.touch1&&C.touch1[2]===Y.identifier&&(C.touch1[0]=F);if(Y=C.that.__zoom,C.touch1){var $=C.touch0[0],le=C.touch0[1],ae=C.touch1[0],q=C.touch1[1],se=(se=ae[0]-$[0])*se+(se=ae[1]-$[1])*se,ke=(ke=q[0]-le[0])*ke+(ke=q[1]-le[1])*ke;Y=E(Y,Math.sqrt(se/ke)),F=[($[0]+ae[0])/2,($[1]+ae[1])/2],H=[(le[0]+q[0])/2,(le[1]+q[1])/2]}else if(C.touch0)F=C.touch0[0],H=C.touch0[1];else return;C.zoom("touch",n(N(Y,F,H),C.extent,s))}}function T(w,...I){if(this.__zooming){var C=z(this,I).event(w),V=w.changedTouches,B=V.length,K,Y;for(mi(w),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),K=0;K<B;++K)Y=V[K],C.touch0&&C.touch0[2]===Y.identifier?delete C.touch0:C.touch1&&C.touch1[2]===Y.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(Y=ot(Y,this),Math.hypot(d[0]-Y[0],d[1]-Y[1])<b)){var F=nt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(w){return arguments.length?(i=typeof w=="function"?w:Mn(+w),g):i},g.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Mn(!!w),g):t},g.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Mn(!!w),g):o},g.extent=function(w){return arguments.length?(e=typeof w=="function"?w:Mn([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),g):e},g.scaleExtent=function(w){return arguments.length?(l[0]=+w[0],l[1]=+w[1],g):[l[0],l[1]]},g.translateExtent=function(w){return arguments.length?(s[0][0]=+w[0][0],s[1][0]=+w[1][0],s[0][1]=+w[0][1],s[1][1]=+w[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(w){return arguments.length?(n=w,g):n},g.duration=function(w){return arguments.length?(r=+w,g):r},g.interpolate=function(w){return arguments.length?(a=w,g):a},g.on=function(){var w=u.on.apply(u,arguments);return w===u?g:w},g.clickDistance=function(w){return arguments.length?(_=(w=+w)*w,g):Math.sqrt(_)},g.tapDistance=function(w){return arguments.length?(b=+w,g):b},g}const yn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},He=Symbol.for("internals"),ko=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Pt;(function(t){t.Strict="strict",t.Loose="loose"})(Pt||(Pt={}));var dt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(dt||(dt={}));var qn;(function(t){t.Partial="partial",t.Full="full"})(qn||(qn={}));var Lt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Lt||(Lt={}));var Un;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Un||(Un={}));var ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ye||(ye={}));function Kf(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function vo(t,e,n){if(!n)return;const i=[];t.forEach((o,l)=>{e!=null&&e.has(l)||i.push(o)}),i.length&&n(i)}const Ff=t=>"id"in t&&"source"in t&&"target"in t,xt=(t,e=[0,0])=>{var r;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:i}=kn(t),o=n*e[0],l=i*e[1],s={x:t.position.x-o,y:t.position.y-l};return{position:s,positionAbsolute:(r=t.computed)!=null&&r.positionAbsolute?{x:t.computed.positionAbsolute.x-o,y:t.computed.positionAbsolute.y-l}:s}},wn=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const l=xt(o,o.origin||e.nodeOrigin);return Fi(i,Gn({...l[e.useRelativePosition?"position":"positionAbsolute"],...kn(o)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zi(n)},tr=(t,e,[n,i,o]=[0,0,1],l=!1,s=!1,r=[0,0])=>{const a={...Ui(e,[n,i,o]),width:e.width/o,height:e.height/o};return t.reduce((f,d)=>{var z,P,S,D,p,y;const{computed:c,selectable:h=!0,hidden:m=!1}=d,_=(S=(P=(z=c==null?void 0:c.width)!=null?z:d.width)!=null?P:d.initialWidth)!=null?S:null,b=(y=(p=(D=c==null?void 0:c.height)!=null?D:d.height)!=null?p:d.initialHeight)!=null?y:null;if(s&&!h||m)return f;const g=ir(a,Qf(d,r)),E=_===null||b===null,N=l&&g>0,k=(_!=null?_:0)*(b!=null?b:0);return(E||N||g>=k||d.dragging)&&f.push(d),f},[])},Ii=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Zf({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:l,nodeOrigin:s=[0,0]},r){var u,f,d;const a=t.filter(c=>{var m,_,b;const h=((m=c.computed)==null?void 0:m.width)&&((_=c.computed)==null?void 0:_.height)&&((r==null?void 0:r.includeHiddenNodes)||!c.hidden);return(b=r==null?void 0:r.nodes)!=null&&b.length?h&&(r==null?void 0:r.nodes.some(g=>g.id===c.id)):h});if(a.length>0){const c=wn(a,{nodeOrigin:s}),h=or(c,e,n,(u=r==null?void 0:r.minZoom)!=null?u:o,(f=r==null?void 0:r.maxZoom)!=null?f:l,(d=r==null?void 0:r.padding)!=null?d:.1);return i.setViewport(h,{duration:r==null?void 0:r.duration}),!0}return!1}function qf(t,e){var n,i,o,l;return!e||e==="parent"?e:[e[0],[e[1][0]-((i=(n=t.computed)==null?void 0:n.width)!=null?i:0),e[1][1]-((l=(o=t.computed)==null?void 0:o.height)!=null?l:0)]]}function Uf({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:l}){var c,h,m,_;const s=n.get(t),r=s.parentNode?n.get(s.parentNode):void 0,{x:a,y:u}=r?xt(r,r.origin||i).positionAbsolute:{x:0,y:0};let f=qf(s,s.extent||o);if(s.extent==="parent"&&!s.expandParent)if(!r)l==null||l("005",yn.error005());else{const b=(c=s.computed)==null?void 0:c.width,g=(h=s.computed)==null?void 0:h.height,E=(m=r==null?void 0:r.computed)==null?void 0:m.width,N=(_=r==null?void 0:r.computed)==null?void 0:_.height;if(b&&g&&E&&N){const k=s.origin||i,M=a+b*k[0],z=u+g*k[1];f=[[M,z],[M+E-b,z+N-g]]}}else r&&Co(s.extent)&&(f=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=Co(f)?Jf(e,f):e;return{position:{x:d.x-a,y:d.y-u},positionAbsolute:d}}async function Gf({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const l=t.map(c=>c.id),s=[];for(const c of n){if(c.deletable===!1)continue;const h=l.includes(c.id),m=!h&&c.parentNode&&s.find(_=>_.id===c.parentNode);(h||m)&&s.push(c)}const r=e.map(c=>c.id),a=i.filter(c=>c.deletable!==!1),f=Ii(s,a);for(const c of a)r.includes(c.id)&&!f.find(m=>m.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:s};const d=await o({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const Jt=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Jf=(t={x:0,y:0},e)=>({x:Jt(t.x,e[0][0],e[1][0]),y:Jt(t.y,e[0][1],e[1][1])}),So=(t,e,n)=>t<e?Jt(Math.abs(t-e),1,50)/50:t>n?-Jt(Math.abs(t-n),1,50)/50:0,nr=(t,e)=>{const n=So(t.x,35,e.width-35)*20,i=So(t.y,35,e.height-35)*20;return[n,i]},Fi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Gn=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Zi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Qf=(t,e=[0,0])=>{var i,o,l,s,r,a;const{positionAbsolute:n}=xt(t,t.origin||e);return{...n,width:(l=(o=(i=t.computed)==null?void 0:i.width)!=null?o:t.width)!=null?l:0,height:(a=(r=(s=t.computed)==null?void 0:s.height)!=null?r:t.height)!=null?a:0}},Eo=(t,e=[0,0])=>{var i,o,l,s,r,a;const{positionAbsolute:n}=xt(t,t.origin||e);return{...n,x2:n.x+((l=(o=(i=t.computed)==null?void 0:i.width)!=null?o:t.width)!=null?l:0),y2:n.y+((a=(r=(s=t.computed)==null?void 0:s.height)!=null?r:t.height)!=null?a:0)}},jf=(t,e)=>Zi(Fi(Gn(t),Gn(e))),ir=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},xf=t=>!isNaN(t)&&isFinite(t),$f=(t,e)=>{},ec=({x:t,y:e,width:n,height:i,origin:o=[0,0]})=>!n||!i||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:e}:{x:t-n*o[0],y:e-i*o[1]},qi=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Ui=({x:t,y:e},[n,i,o],l=!1,s=[1,1])=>{const r={x:(t-n)/o,y:(e-i)/o};return l?qi(r,s):r},tc=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),or=(t,e,n,i,o,l)=>{const s=e/(t.width*(1+l)),r=n/(t.height*(1+l)),a=Math.min(s,r),u=Jt(a,i,o),f=t.x+t.width/2,d=t.y+t.height/2,c=e/2-f*u,h=n/2-d*u;return{x:c,y:h,zoom:u}},Jn=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Co(t){return t!==void 0&&t!=="parent"}function kn(t){var e,n,i,o,l,s,r,a;return{width:(o=(i=(n=(e=t.computed)==null?void 0:e.width)!=null?n:t.width)!=null?i:t.initialWidth)!=null?o:0,height:(a=(r=(s=(l=t.computed)==null?void 0:l.height)!=null?s:t.height)!=null?r:t.initialHeight)!=null?a:0}}function Qn(t){var e,n,i,o,l,s;return((i=(n=(e=t.computed)==null?void 0:e.width)!=null?n:t.width)!=null?i:t.initialWidth)!==void 0&&((s=(l=(o=t.computed)==null?void 0:o.height)!=null?l:t.height)!=null?s:t.initialHeight)!==void 0}function _i(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:l}=yt(t),s=Ui({x:o,y:l},i),{x:r,y:a}=n?qi(s,e):s;return{xSnapped:r,ySnapped:a,...s}}const lr=t=>({width:t.offsetWidth,height:t.offsetHeight}),nc=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},ic=["INPUT","SELECT","TEXTAREA"];function oc(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return ic.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const rr=t=>"clientX"in t,yt=(t,e)=>{var l,s,r,a;const n=rr(t),i=n?t.clientX:(l=t.touches)==null?void 0:l[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((r=e==null?void 0:e.left)!=null?r:0),y:o-((a=e==null?void 0:e.top)!=null?a:0)}},zo=(t,e,n,i=[0,0])=>{const o=e.querySelectorAll(t);if(!o||!o.length)return null;const l=Array.from(o),s=e.getBoundingClientRect(),r={x:s.width*i[0],y:s.height*i[1]};return l.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-r.x)/n,y:(u.top-s.top-r.y)/n,...lr(a)}})};function lc({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:s,targetControlY:r}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+l*.375+r*.375+i*.125,f=Math.abs(a-t),d=Math.abs(u-e);return[a,u,f,d]}function Pn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Mo({pos:t,x1:e,y1:n,x2:i,y2:o,c:l}){switch(t){case ye.Left:return[e-Pn(e-i,l),n];case ye.Right:return[e+Pn(i-e,l),n];case ye.Top:return[e,n-Pn(n-o,l)];case ye.Bottom:return[e,n+Pn(o-n,l)]}}function sr({sourceX:t,sourceY:e,sourcePosition:n=ye.Bottom,targetX:i,targetY:o,targetPosition:l=ye.Top,curvature:s=.25}){const[r,a]=Mo({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=Mo({pos:l,x1:i,y1:o,x2:t,y2:e,c:s}),[d,c,h,m]=lc({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:r,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${r},${a} ${u},${f} ${i},${o}`,d,c,h,m]}function ar({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,l=n<t?n+o:n-o,s=Math.abs(i-e)/2,r=i<e?i+s:i-s;return[l,r,o,s]}function rc({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){var r,a;if(!o)return i;const l=n||e.selected||t.selected,s=Math.max(((r=t[He])==null?void 0:r.z)||0,((a=e[He])==null?void 0:a.z)||0,1e3);return i+(l?s:0)}function sc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const l=Fi(Eo(t),Eo(e));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return ir(s,Zi(l))>0}const ac=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,uc=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),fc=(t,e)=>{if(!t.source||!t.target)return e;let n;return Ff(t)?n={...t}:n={...t,id:ac(t)},uc(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function ur({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,l,s,r]=ar({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,l,s,r]}const Po={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},cc=({source:t,sourcePosition:e=ye.Bottom,target:n})=>e===ye.Left||e===ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},No=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function dc({source:t,sourcePosition:e=ye.Bottom,target:n,targetPosition:i=ye.Top,center:o,offset:l}){var P,S;const s=Po[e],r=Po[i],a={x:t.x+s.x*l,y:t.y+s.y*l},u={x:n.x+r.x*l,y:n.y+r.y*l},f=cc({source:a,sourcePosition:e,target:u}),d=f.x!==0?"x":"y",c=f[d];let h=[],m,_;const b={x:0,y:0},g={x:0,y:0},[E,N,k,M]=ar({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*r[d]===-1){m=(P=o.x)!=null?P:E,_=(S=o.y)!=null?S:N;const D=[{x:m,y:a.y},{x:m,y:u.y}],p=[{x:a.x,y:_},{x:u.x,y:_}];s[d]===c?h=d==="x"?D:p:h=d==="x"?p:D}else{const D=[{x:a.x,y:u.y}],p=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===c?p:D:h=s.y===c?D:p,e===i){const I=Math.abs(t[d]-n[d]);if(I<=l){const C=Math.min(l-1,l-I);s[d]===c?b[d]=(a[d]>t[d]?-1:1)*C:g[d]=(u[d]>n[d]?-1:1)*C}}if(e!==i){const I=d==="x"?"y":"x",C=s[d]===r[I],V=a[I]>u[I],B=a[I]<u[I];(s[d]===1&&(!C&&V||C&&B)||s[d]!==1&&(!C&&B||C&&V))&&(h=d==="x"?D:p)}const y={x:a.x+b.x,y:a.y+b.y},W={x:u.x+g.x,y:u.y+g.y},T=Math.max(Math.abs(y.x-h[0].x),Math.abs(W.x-h[0].x)),w=Math.max(Math.abs(y.y-h[0].y),Math.abs(W.y-h[0].y));T>=w?(m=(y.x+W.x)/2,_=h[0].y):(m=h[0].x,_=(y.y+W.y)/2)}return[[t,{x:a.x+b.x,y:a.y+b.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,_,k,M]}function hc(t,e,n,i){const o=Math.min(No(t,e)/2,No(e,n)/2,i),{x:l,y:s}=e;if(t.x===l&&l===n.x||t.y===s&&s===n.y)return`L${l} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${l+o*u},${s}Q ${l},${s} ${l},${s+o*f}`}const r=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${l},${s+o*a}Q ${l},${s} ${l+o*r},${s}`}function jn({sourceX:t,sourceY:e,sourcePosition:n=ye.Bottom,targetX:i,targetY:o,targetPosition:l=ye.Top,borderRadius:s=5,centerX:r,centerY:a,offset:u=20}){const[f,d,c,h,m]=dc({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:l,center:{x:r,y:a},offset:u});return[f.reduce((b,g,E)=>{let N="";return E>0&&E<f.length-1?N=hc(f[E-1],g,f[E+1],s):N=`${E===0?"M":"L"}${g.x} ${g.y}`,b+=N,b},""),d,c,h,m]}function Ho(t){var e,n,i;return!!((e=t==null?void 0:t[He])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((i=t==null?void 0:t.computed)!=null&&i.width||t!=null&&t.width||t!=null&&t.initialWidth)}function gc(t){var h,m,_,b,g,E,N;const{sourceNode:e,targetNode:n}=t;if(!Ho(e)||!Ho(n))return null;const i=((h=e[He])==null?void 0:h.handleBounds)||Ao(e.handles),o=((m=n[He])==null?void 0:m.handleBounds)||Ao(n.handles),l=Io((_=i==null?void 0:i.source)!=null?_:[],t.sourceHandle),s=Io(t.connectionMode===Pt.Strict?(b=o==null?void 0:o.target)!=null?b:[]:((g=o==null?void 0:o.target)!=null?g:[]).concat((E=o==null?void 0:o.source)!=null?E:[]),t.targetHandle),r=(l==null?void 0:l.position)||ye.Bottom,a=(s==null?void 0:s.position)||ye.Top;if(!l||!s)return(N=t.onError)==null||N.call(t,"008",yn.error008(l?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[u,f]=Oo(r,e,l),[d,c]=Oo(a,n,s);return{sourceX:u,sourceY:f,targetX:d,targetY:c,sourcePosition:r,targetPosition:a}}function Ao(t){var i,o;if(!t)return null;const e=[],n=[];for(const l of t)l.width=(i=l.width)!=null?i:1,l.height=(o=l.height)!=null?o:1,l.type==="source"?e.push(l):l.type==="target"&&n.push(l);return{source:e,target:n}}function Oo(t,e,n=null){var r,a,u,f,d,c,h,m;const i=((r=n==null?void 0:n.x)!=null?r:0)+((f=(u=(a=e.computed)==null?void 0:a.positionAbsolute)==null?void 0:u.x)!=null?f:0),o=((d=n==null?void 0:n.y)!=null?d:0)+((m=(h=(c=e.computed)==null?void 0:c.positionAbsolute)==null?void 0:h.y)!=null?m:0),{width:l,height:s}=n!=null?n:kn(e);switch(t){case ye.Top:return[i+l/2,o];case ye.Right:return[i+l,o+s/2];case ye.Bottom:return[i+l/2,o+s];case ye.Left:return[i,o+s/2]}}function Io(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Di(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function mc(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const l=new Set;return t.reduce((s,r)=>([r.markerStart||i,r.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Di(a,e);l.has(u)||(s.push({id:u,color:a.color||n,...a}),l.add(u))}}),s),[]).sort((s,r)=>s.id.localeCompare(r.id))}function _c(t,e,n=[0,0],i){return t.map(o=>{var l,s,r,a,u,f,d;if(o.parentNode&&!e.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||i!=null&&i[o.id]){const c=o.parentNode?e.get(o.parentNode):null,{x:h,y:m,z:_}=cr(o,t,e,{...o.position,z:(s=(l=o[He])==null?void 0:l.z)!=null?s:0},(c==null?void 0:c.origin)||n),b=h!==((a=(r=o.computed)==null?void 0:r.positionAbsolute)==null?void 0:a.x)||m!==((f=(u=o.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.y);o.computed.positionAbsolute=b?{x:h,y:m}:(d=o.computed)==null?void 0:d.positionAbsolute,o[He].z=_,i!=null&&i[o.id]&&(o[He].isParent=!0)}return o})}function fr(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(e);e.clear();const o={},l=n!=null&&n.elevateNodesOnSelect?1e3:0,s=t.map(a=>{var h,m,_;const u=i.get(a.id);if(a===((h=u==null?void 0:u[He])==null?void 0:h.userProvidedNode))return e.set(a.id,u),u;const f={...n.defaults,...a,computed:{positionAbsolute:a.position,width:(m=a.computed)==null?void 0:m.width,height:(_=a.computed)==null?void 0:_.height}},d=(xf(a.zIndex)?a.zIndex:0)+(a.selected?l:0),c=(a==null?void 0:a[He])||(u==null?void 0:u[He]);return f.parentNode&&(o[f.parentNode]=!0),Object.defineProperty(f,He,{enumerable:!1,value:{handleBounds:c==null?void 0:c.handleBounds,z:d,userProvidedNode:a}}),e.set(f.id,f),f});return _c(s,e,n.nodeOrigin,o)}function cr(t,e,n,i,o){var r,a,u,f,d,c,h,m;if(!t.parentNode)return i;const l=n.get(t.parentNode),{position:s}=xt(l,(l==null?void 0:l.origin)||o);return cr(l,e,n,{x:((r=i.x)!=null?r:0)+s.x,y:((a=i.y)!=null?a:0)+s.y,z:((f=(u=l[He])==null?void 0:u.z)!=null?f:0)>((d=i.z)!=null?d:0)?(h=(c=l[He])==null?void 0:c.z)!=null?h:0:(m=i.z)!=null?m:0},l.origin||o)}function bc(t,e,n,i,o,l){const s=i==null?void 0:i.querySelector(".xyflow__viewport");if(!s)return null;const r=window.getComputedStyle(s),{m22:a}=new window.DOMMatrixReadOnly(r.transform);return e.map(f=>{var c,h;const d=t.get(f.id);if(d){const m=lr(d.nodeElement);if(!!(m.width&&m.height&&(((c=f.computed)==null?void 0:c.width)!==m.width||((h=f.computed)==null?void 0:h.height)!==m.height||d.forceUpdate))){const b={...f,computed:{...f.computed,...m},[He]:{...f[He],handleBounds:{source:zo(".source",d.nodeElement,a,f.origin||o),target:zo(".target",d.nodeElement,a,f.origin||o)}}};return n.set(f.id,b),b}}return f})}function yc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:l}){if(!e||!t.x&&!t.y)return!1;const s=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,l]],i);return!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2])}function dr(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:l,sourceHandle:s=null,targetHandle:r=null}=i,a=`${o}-source-${s}`,u=`${l}-target-${r}`,f=t.get(a)||new Map,d=t.get(u)||new Map,c={edgeId:i.id,source:o,target:l,sourceHandle:s,targetHandle:r};e.set(i.id,i),t.set(a,f.set(`${l}-${r}`,c)),t.set(u,d.set(`${o}-${s}`,c))}}function bi(t){return(e,n,i)=>t==null?void 0:t(e,i)}function hr(t,e){if(!t.parentNode)return!1;const n=e.find(i=>i.id===i.parentNode);return n?n.selected?!0:hr(n,e):!1}function Do(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function wc(t,e,n,i){return t.filter(o=>(o.selected||o.id===i)&&(!o.parentNode||!hr(o,t))&&(o.draggable||e&&typeof o.draggable>"u")).map(o=>{var l,s,r,a,u,f,d,c,h;return{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-((r=(s=(l=o.computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)!=null?r:0),y:n.y-((f=(u=(a=o.computed)==null?void 0:a.positionAbsolute)==null?void 0:u.y)!=null?f:0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,origin:o.origin,expandParent:o.expandParent,computed:{positionAbsolute:((d=o.computed)==null?void 0:d.positionAbsolute)||{x:0,y:0},width:((c=o.computed)==null?void 0:c.width)||0,height:((h=o.computed)==null?void 0:h.height)||0}}})}function yi({nodeId:t,dragItems:e,nodeLookup:n}){const i=e.map(o=>({...n.get(o.id),position:o.position,computed:{...o.computed,positionAbsolute:o.computed.positionAbsolute}}));return[t?i.find(o=>o.id===t):i[0],i]}function kc({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let l={x:null,y:null},s=0,r=[],a=!1,u={x:0,y:0},f=null,d=!1,c=null;function h({noDragClassName:_,handleSelector:b,domNode:g,isSelectable:E,nodeId:N}){c=nt(g);function k({x:S,y:D},p){const{nodeLookup:y,nodeExtent:W,snapGrid:T,snapToGrid:w,nodeOrigin:I,onNodeDrag:C,onSelectionDrag:V,onError:B,updateNodePositions:K}=e();l={x:S,y:D};let Y=!1,F={x:0,y:0,x2:0,y2:0};if(r.length>1&&W){const H=wn(r,{nodeOrigin:I});F=Gn(H)}if(r=r.map(H=>{var se,ke,ze,Z;let $={x:S-H.distance.x,y:D-H.distance.y};w&&($=qi($,T));const le=[[W[0][0],W[0][1]],[W[1][0],W[1][1]]];r.length>1&&W&&!H.extent&&(le[0][0]=H.computed.positionAbsolute.x-F.x+W[0][0],le[1][0]=H.computed.positionAbsolute.x+((ke=(se=H.computed)==null?void 0:se.width)!=null?ke:0)-F.x2+W[1][0],le[0][1]=H.computed.positionAbsolute.y-F.y+W[0][1],le[1][1]=H.computed.positionAbsolute.y+((Z=(ze=H.computed)==null?void 0:ze.height)!=null?Z:0)-F.y2+W[1][1]);const{position:ae,positionAbsolute:q}=Uf({nodeId:H.id,nextPosition:$,nodeLookup:y,nodeExtent:le,nodeOrigin:I,onError:B});return Y=Y||H.position.x!==ae.x||H.position.y!==ae.y,H.position=ae,H.computed.positionAbsolute=q,H}),!!Y&&(K(r,!0),p&&(i||C||!N&&V))){const[H,$]=yi({nodeId:N,dragItems:r,nodeLookup:y});i==null||i(p,r,H,$),C==null||C(p,H,$),N||bi(V)(p,H,$)}}function M(){var p,y;if(!f)return;const[S,D]=nr(u,f);if(S!==0||D!==0){const{transform:W,panBy:T}=e();l.x=((p=l.x)!=null?p:0)-S/W[2],l.y=((y=l.y)!=null?y:0)-D/W[2],T({x:S,y:D})&&k(l,null)}s=requestAnimationFrame(M)}function z(S){var F;const{nodes:D,nodeLookup:p,multiSelectionActive:y,nodesDraggable:W,transform:T,snapGrid:w,snapToGrid:I,selectNodesOnDrag:C,onNodeDragStart:V,onSelectionDragStart:B,unselectNodesAndEdges:K}=e();d=!0,(!C||!E)&&!y&&N&&((F=p.get(N))!=null&&F.selected||K()),E&&C&&N&&(t==null||t(N));const Y=_i(S.sourceEvent,{transform:T,snapGrid:w,snapToGrid:I});if(l=Y,r=wc(D,W,Y,N),r.length>0&&(n||V||!N&&B)){const[H,$]=yi({nodeId:N,dragItems:r,nodeLookup:p});n==null||n(S.sourceEvent,r,H,$),V==null||V(S.sourceEvent,H,$),N||bi(B)(S.sourceEvent,H,$)}}const P=xa().on("start",S=>{const{domNode:D,nodeDragThreshold:p,transform:y,snapGrid:W,snapToGrid:T}=e();p===0&&z(S),l=_i(S.sourceEvent,{transform:y,snapGrid:W,snapToGrid:T}),f=(D==null?void 0:D.getBoundingClientRect())||null,u=yt(S.sourceEvent,f)}).on("drag",S=>{var I,C;const{autoPanOnNodeDrag:D,transform:p,snapGrid:y,snapToGrid:W,nodeDragThreshold:T}=e(),w=_i(S.sourceEvent,{transform:p,snapGrid:y,snapToGrid:W});if(!a&&D&&d&&(a=!0,M()),!d){const V=w.xSnapped-((I=l.x)!=null?I:0),B=w.ySnapped-((C=l.y)!=null?C:0);Math.sqrt(V*V+B*B)>T&&z(S)}(l.x!==w.xSnapped||l.y!==w.ySnapped)&&r&&d&&(u=yt(S.sourceEvent,f),k(w,S.sourceEvent))}).on("end",S=>{if(d&&(a=!1,d=!1,cancelAnimationFrame(s),r.length>0)){const{nodeLookup:D,updateNodePositions:p,onNodeDragStop:y,onSelectionDragStop:W}=e();if(p(r,!1),o||y||!N&&W){const[T,w]=yi({nodeId:N,dragItems:r,nodeLookup:D});o==null||o(S.sourceEvent,r,T,w),y==null||y(S.sourceEvent,T,w),N||bi(W)(S.sourceEvent,T,w)}}}).filter(S=>{const D=S.target;return!S.button&&(!_||!Do(D,`.${_}`,g))&&(!b||Do(D,b,g))});c.call(P)}function m(){c==null||c.on(".drag",null)}return{update:h,destroy:m}}function To(t,e,n,i){return(e[n]||[]).reduce((o,l)=>{var s,r,a,u,f,d;return`${t.id}-${l.id}-${n}`!==i&&o.push({id:l.id||null,type:n,nodeId:t.id,x:((a=(r=(s=t.computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)!=null?a:0)+l.x+l.width/2,y:((d=(f=(u=t.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.y)!=null?d:0)+l.y+l.height/2}),o},[])}function vc(t,e,n){let i=[],o=1/0;for(const l of n){const s=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2));s<=e&&(s<o?i=[l]:s===o&&i.push(l),o=s)}return i.length?i.length===1?i[0]:i.find(l=>l.type==="target")||i[0]:null}function Sc({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((o,l)=>{if(l[He]){const{handleBounds:s}=l[He];let r=[],a=[];s&&(r=To(l,s,"source",`${e}-${n}-${i}`),a=To(l,s,"target",`${e}-${n}-${i}`)),o.push(...r,...a)}return o},[])}function gr(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Ec(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const mr=()=>!0;let Nn=null;function Cc(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:l,isTarget:s,domNode:r,nodes:a,lib:u,autoPanOnConnect:f,flowId:d,panBy:c,cancelConnection:h,onConnectStart:m,onConnect:_,onConnectEnd:b,isValidConnection:g=mr,onEdgeUpdateEnd:E,updateConnection:N,getTransform:k,getConnectionStartHandle:M}){const z=nc(t.target);let P=0,S;const{x:D,y:p}=yt(t),y=z==null?void 0:z.elementFromPoint(D,p),W=gr(l,y),T=r==null?void 0:r.getBoundingClientRect();if(!T||!W)return;let w=yt(t,T),I=!1,C=null,V=!1,B=null;const K=Sc({nodes:a,nodeId:o,handleId:i,handleType:W});function Y(){if(!f||!T)return;const[$,le]=nr(w,T);c({x:$,y:le}),P=requestAnimationFrame(Y)}Nn={nodeId:o,handleId:i,type:W},N({connectionPosition:w,connectionStatus:null,connectionStartHandle:Nn,connectionEndHandle:null}),m==null||m(t,{nodeId:o,handleId:i,handleType:W});function F($){M()||H($);const le=k();w=yt($,T),S=vc(Ui(w,le,!1,[1,1]),n,K),I||(Y(),I=!0);const ae=_r($,{handle:S,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:z,lib:u,flowId:d});B=ae.handleDomNode,C=ae.connection,V=ae.isValid,N({connectionStartHandle:Nn,connectionPosition:S&&V?tc({x:S.x,y:S.y},le):w,connectionStatus:Ec(!!S,V),connectionEndHandle:ae.endHandle})}function H($){(S||B)&&C&&V&&(_==null||_(C)),b==null||b($),l&&(E==null||E($)),h(),cancelAnimationFrame(P),I=!1,V=!1,C=null,B=null,Nn=null,z.removeEventListener("mousemove",F),z.removeEventListener("mouseup",H),z.removeEventListener("touchmove",F),z.removeEventListener("touchend",H)}z.addEventListener("mousemove",F),z.addEventListener("mouseup",H),z.addEventListener("touchmove",F),z.addEventListener("touchend",H)}function _r(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:l,doc:s,lib:r,flowId:a,isValidConnection:u=mr}){const f=l==="target",d=e?s.querySelector(`.${r}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:c,y:h}=yt(t),m=s.elementFromPoint(c,h),_=m!=null&&m.classList.contains(`${r}-flow__handle`)?m:d,b={handleDomNode:_,isValid:!1,connection:null,endHandle:null};if(_){const g=gr(void 0,_),E=_.getAttribute("data-nodeid"),N=_.getAttribute("data-handleid"),k=_.classList.contains("connectable"),M=_.classList.contains("connectableend");if(!E)return b;const z={source:f?E:i,sourceHandle:f?N:o,target:f?i:E,targetHandle:f?o:N};b.connection=z,k&&M&&(n===Pt.Strict?f&&g==="source"||!f&&g==="target":E!==i||N!==o)&&(b.endHandle={nodeId:E,handleId:N,type:g},b.isValid=u(z))}return b}const zc={onPointerDown:Cc,isValid:_r};function Mc({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=nt(t);function l({translateExtent:r,width:a,height:u,zoomStep:f=10,pannable:d=!0,zoomable:c=!0,inversePan:h=!1}){const m=g=>{const E=n();if(g.sourceEvent.type!=="wheel"||!e)return;const N=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*f,k=E[2]*Math.pow(2,N);e.scaleTo(k)},_=g=>{const E=n();if(g.sourceEvent.type!=="mousemove"||!e)return;const N=i()*Math.max(E[2],Math.log(E[2]))*(h?-1:1),k={x:E[0]-g.sourceEvent.movementX*N,y:E[1]-g.sourceEvent.movementY*N},M=[[0,0],[a,u]];e.setViewportConstrained({x:k.x,y:k.y,zoom:E[2]},M,r)},b=er().on("zoom",d?_:null).on("zoom.wheel",c?m:null);o.call(b,{})}function s(){o.on("zoom",null)}return{update:l,destroy:s,pointer:ot}}const Pc=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ri=t=>({x:t.x,y:t.y,zoom:t.k}),wi=({x:t,y:e,zoom:n})=>li.translate(t,e).scale(n),Rt=(t,e)=>t.target.closest(`.${e}`),br=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),ki=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,yr=t=>{const e=t.ctrlKey&&Jn()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Nc({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:l,zoomOnPinch:s,onPanZoomStart:r,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Rt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1,c=Jn();if(f.ctrlKey&&s&&c){const g=ot(f),E=yr(f),N=d*Math.pow(2,E);i.scaleTo(n,N,g,f);return}const h=f.deltaMode===1?20:1;let m=o===dt.Vertical?0:f.deltaX*h,_=o===dt.Horizontal?0:f.deltaY*h;!c&&f.shiftKey&&o!==dt.Vertical&&(m=f.deltaY*h,_=0),i.translateBy(n,-(m/d)*l,-(_/d)*l,{internal:!0});const b=ri(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,r==null||r(f,b)),t.isPanScrolling&&(a==null||a(f,b),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,b),t.isPanScrolling=!1},150))}}function Hc({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e||Rt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function Ac({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var l,s,r;if((l=i.sourceEvent)!=null&&l.internal)return;const o=ri(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((r=i.sourceEvent)==null?void 0:r.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function Oc({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return l=>{var s,r,a;t.usedRightMouseButton=!!(n&&br(e,(s=t.mouseButton)!=null?s:0)),(r=l.sourceEvent)!=null&&r.sync||i([l.transform.x,l.transform.y,l.transform.k]),o&&!((a=l.sourceEvent)!=null&&a.internal)&&(o==null||o(l.sourceEvent,ri(l.transform)))}}function Ic({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:l}){return s=>{var r,a;if(!((r=s.sourceEvent)!=null&&r.internal)&&(t.isZoomingOrPanning=!1,l&&br(e,(a=t.mouseButton)!=null?a:0)&&!t.usedRightMouseButton&&s.sourceEvent&&l(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Pc(t.prevViewport,s.transform))){const u=ri(s.transform);t.prevViewport=u,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,u)},n?150:0)}}}function Dc({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:l,userSelectionActive:s,noWheelClassName:r,noPanClassName:a,lib:u}){return f=>{const d=t||e,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Rt(f,`${u}-flow__node`)||Rt(f,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!l&&!n||s||!l&&f.type==="dblclick"||Rt(f,r)&&f.type==="wheel"||Rt(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel"||!d&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&(f.type==="mousedown"||f.type==="touchstart"))return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Tc({domNode:t,minZoom:e,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:l,onPanZoomStart:s,onPanZoomEnd:r,onTransformChange:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=er().scaleExtent([e,n]).translateExtent(i),h=nt(t).call(c);E({x:o.x,y:o.y,zoom:Jt(o.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom");c.wheelDelta(yr);function _(p,y){h&&(c==null||c.transform(ki(h,y==null?void 0:y.duration),p))}function b({noWheelClassName:p,noPanClassName:y,onPaneContextMenu:W,userSelectionActive:T,panOnScroll:w,panOnDrag:I,panOnScrollMode:C,panOnScrollSpeed:V,preventScrolling:B,zoomOnPinch:K,zoomOnScroll:Y,zoomOnDoubleClick:F,zoomActivationKeyPressed:H,lib:$}){T&&!f.isZoomingOrPanning&&g();const ae=w&&!H&&!T?Nc({zoomPanValues:f,noWheelClassName:p,d3Selection:h,d3Zoom:c,panOnScrollMode:C,panOnScrollSpeed:V,zoomOnPinch:K,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:r}):Hc({noWheelClassName:p,preventScrolling:B,d3ZoomHandler:m});if(h.on("wheel.zoom",ae,{passive:!1}),!T){const se=Ac({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:s});c.on("start",se);const ke=Oc({zoomPanValues:f,panOnDrag:I,onPaneContextMenu:!!W,onPanZoom:l,onTransformChange:a});c.on("zoom",ke);const ze=Ic({zoomPanValues:f,panOnDrag:I,panOnScroll:w,onPaneContextMenu:W,onPanZoomEnd:r,onDraggingChange:u});c.on("end",ze)}const q=Dc({zoomActivationKeyPressed:H,panOnDrag:I,zoomOnScroll:Y,panOnScroll:w,zoomOnDoubleClick:F,zoomOnPinch:K,userSelectionActive:T,noPanClassName:y,noWheelClassName:p,lib:$});c.filter(q)}function g(){c.on("zoom",null)}function E(p,y,W){const T=wi(p),w=c==null?void 0:c.constrain()(T,y,W);return w&&_(w),w}function N(p,y){const W=wi(p);return _(W,y),W}function k(p){if(h){const y=wi(p),W=h.property("__zoom");(W.k!==p.zoom||W.x!==p.x||W.y!==p.y)&&(c==null||c.transform(h,y,null,{sync:!0}))}}function M(){const p=h?$l(h.node()):{x:0,y:0,k:1};return{x:p.x,y:p.y,zoom:p.k}}function z(p,y){h&&(c==null||c.scaleTo(ki(h,y==null?void 0:y.duration),p))}function P(p,y){h&&(c==null||c.scaleBy(ki(h,y==null?void 0:y.duration),p))}function S(p){c==null||c.scaleExtent(p)}function D(p){c==null||c.translateExtent(p)}return{update:b,destroy:g,setViewport:N,setViewportConstrained:E,getViewport:M,scaleTo:z,scaleBy:P,setScaleExtent:S,setTranslateExtent:D,syncViewport:k}}var po;(function(t){t.Line="line",t.Handle="handle"})(po||(po={}));function pc(t){let e,n,i,o,l,s;const r=t[43].default,a=Ge(r,t,t[42],null);return{c(){e=ue("div"),a&&a.c(),this.h()},l(u){e=fe(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=Q(e);a&&a.l(f),f.forEach(O),this.h()},h(){v(e,"data-handleid",t[15]),v(e,"data-nodeid",t[13]),v(e,"data-handlepos",t[3]),v(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),v(e,"class",i=Me(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),v(e,"style",t[4]),v(e,"role","button"),v(e,"tabindex","-1"),ce(e,"valid",t[7]),ce(e,"connectingto",t[6]),ce(e,"connectingfrom",t[9]),ce(e,"source",!t[12]),ce(e,"target",t[12]),ce(e,"connectablestart",t[0]),ce(e,"connectableend",t[0]),ce(e,"connectable",t[0]),ce(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(u,f){L(u,e,f),a&&a.m(e,null),o=!0,l||(s=[Ne(e,"mousedown",t[32]),Ne(e,"touchstart",t[32])],l=!0)},p(u,f){a&&a.p&&(!o||f[1]&2048)&&Je(a,r,u,u[42],o?je(r,u[42],f,null):Qe(u[42]),null),(!o||f[0]&8)&&v(e,"data-handlepos",u[3]),(!o||f[0]&2054&&n!==(n=u[11]+"-"+u[13]+"-"+(u[1]||null)+"-"+u[2]))&&v(e,"data-id",n),(!o||f[0]&40&&i!==(i=Me(["svelte-flow__handle",`svelte-flow__handle-${u[3]}`,"nodrag","nopan",u[3],u[5]])))&&v(e,"class",i),(!o||f[0]&16)&&v(e,"style",u[4]),(!o||f[0]&168)&&ce(e,"valid",u[7]),(!o||f[0]&104)&&ce(e,"connectingto",u[6]),(!o||f[0]&552)&&ce(e,"connectingfrom",u[9]),(!o||f[0]&4136)&&ce(e,"source",!u[12]),(!o||f[0]&4136)&&ce(e,"target",u[12]),(!o||f[0]&41)&&ce(e,"connectablestart",u[0]),(!o||f[0]&41)&&ce(e,"connectableend",u[0]),(!o||f[0]&41)&&ce(e,"connectable",u[0]),(!o||f[0]&1321)&&ce(e,"connectionindicator",u[0]&&(!u[10]||u[8]))},i(u){o||(X(a,u),o=!0)},o(u){R(a,u),o=!1},d(u){u&&O(e),a&&a.d(u),l=!1,St(s)}}}function Vc(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,m,_,b,g,E,N,k,M,z,P,S,{$$slots:D={},$$scope:p}=e,{id:y=void 0}=e,{type:W="source"}=e,{position:T=ye.Top}=e,{style:w=void 0}=e,{isConnectable:I=void 0}=e,{onconnect:C=void 0}=e,{ondisconnect:V=void 0}=e,{class:B=void 0}=e;const K=W==="target",Y=pn("svelteflow__node_id"),F=pn("svelteflow__node_connectable");J(t,F,j=>n(41,S=j));const H=y||null,$=pe(),{connectionMode:le,domNode:ae,nodes:q,connectionRadius:se,viewport:ke,isValidConnection:ze,lib:Z,addEdge:Ie,onedgecreate:Ye,panBy:Re,cancelConnection:Be,updateConnection:it,autoPanOnConnect:et,edges:Pe,connectionLookup:st,onconnect:at,onconnectstart:te,onconnectend:Et,flowId:Ct,connection:Nt}=$;J(t,le,j=>n(38,u=j)),J(t,ae,j=>n(53,z=j)),J(t,q,j=>n(52,M=j)),J(t,se,j=>n(54,P=j)),J(t,ke,j=>n(44,c=j)),J(t,ze,j=>n(49,g=j)),J(t,Z,j=>n(51,k=j)),J(t,Ye,j=>n(48,b=j)),J(t,et,j=>n(50,N=j)),J(t,Pe,j=>n(40,d=j)),J(t,st,j=>n(39,f=j)),J(t,at,j=>n(47,_=j)),J(t,te,j=>n(46,m=j)),J(t,Et,j=>n(45,h=j)),J(t,Ct,j=>n(11,E=j)),J(t,Nt,j=>n(37,a=j));function U(j){const gt=rr(j);(gt&&j.button===0||!gt)&&zc.onPointerDown(j,{handleId:H,nodeId:Y,isTarget:K,connectionRadius:P,domNode:z,nodes:M,connectionMode:u,lib:k,autoPanOnConnect:N,flowId:E,isValidConnection:g,updateConnection:it,cancelConnection:Be,panBy:Re,onConnect:qe=>{const xe=b?b(qe):qe;xe&&(Ie(xe),_==null||_(qe))},onConnectStart:(qe,xe)=>{m==null||m(qe,{nodeId:xe.nodeId,handleId:xe.handleId,handleType:xe.handleType})},onConnectEnd:qe=>{h==null||h(qe)},getTransform:()=>[c.x,c.y,c.zoom],getConnectionStartHandle:()=>a.startHandle})}let tt=null,Te;return t.$$set=j=>{"id"in j&&n(1,y=j.id),"type"in j&&n(2,W=j.type),"position"in j&&n(3,T=j.position),"style"in j&&n(4,w=j.style),"isConnectable"in j&&n(0,I=j.isConnectable),"onconnect"in j&&n(33,C=j.onconnect),"ondisconnect"in j&&n(34,V=j.ondisconnect),"class"in j&&n(5,B=j.class),"$$scope"in j&&n(42,p=j.$$scope)},t.$$.update=()=>{var j,gt,qe,xe,Tt,pt,zt,Vt,$t;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,I=I!==void 0?I:S),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(C||V)&&n(36,Te=f.get(`${Y}-${W}-${y||null}`)),t.$$.dirty[1]&60){if(tt&&!Kf(Te,tt)){const en=Te!=null?Te:new Map;vo(tt,en,V),vo(en,tt,C)}n(35,tt=Te!=null?Te:new Map)}t.$$.dirty[1]&64&&n(10,i=!!a.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,o=((j=a.startHandle)==null?void 0:j.nodeId)===Y&&((gt=a.startHandle)==null?void 0:gt.type)===W&&((qe=a.startHandle)==null?void 0:qe.handleId)===H),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,l=((xe=a.endHandle)==null?void 0:xe.nodeId)===Y&&((Tt=a.endHandle)==null?void 0:Tt.type)===W&&((pt=a.endHandle)==null?void 0:pt.handleId)===H),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,s=u===Pt.Strict?((zt=a.startHandle)==null?void 0:zt.type)!==W:Y!==((Vt=a.startHandle)==null?void 0:Vt.nodeId)||H!==(($t=a.startHandle)==null?void 0:$t.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,r=l&&a.status==="valid")},[I,y,W,T,w,B,l,r,s,o,i,E,K,Y,F,H,le,ae,q,se,ke,ze,Z,Ye,et,Pe,st,at,te,Et,Ct,Nt,U,C,V,tt,Te,a,u,f,d,S,p,D]}class Qt extends ge{constructor(e){super(),me(this,e,Vc,pc,be,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}function Xc(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,l,s,r;return e=new Qt({props:{type:"target",position:t[1]}}),s=new Qt({props:{type:"source",position:t[2]}}),{c(){ne(e.$$.fragment),n=de(),o=Ve(i),l=de(),ne(s.$$.fragment)},l(u){re(e.$$.fragment,u),n=he(u),o=Xe(u,i),l=he(u),re(s.$$.fragment,u)},m(u,f){ie(e,u,f),L(u,n,f),L(u,o,f),L(u,l,f),ie(s,u,f),r=!0},p(u,[f]){var h;const d={};f&2&&(d.position=u[1]),e.$set(d),(!r||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Fe(o,i);const c={};f&4&&(c.position=u[2]),s.$set(c)},i(u){r||(X(e.$$.fragment,u),X(s.$$.fragment,u),r=!0)},o(u){R(e.$$.fragment,u),R(s.$$.fragment,u),r=!1},d(u){u&&(O(n),O(o),O(l)),oe(e,u),oe(s,u)}}}function Yc(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=ye.Top}=e,{sourcePosition:l=ye.Bottom}=e,{id:s=""}=e,{width:r=void 0}=e,{height:a=void 0}=e,{selected:u=void 0}=e,{type:f=void 0}=e,{dragging:d=!1}=e,{dragHandle:c=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:b}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"sourcePosition"in g&&n(2,l=g.sourcePosition),"id"in g&&n(3,s=g.id),"width"in g&&n(4,r=g.width),"height"in g&&n(5,a=g.height),"selected"in g&&n(6,u=g.selected),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,d=g.dragging),"dragHandle"in g&&n(9,c=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,b=g.zIndex)},[i,o,l,s,r,a,u,f,d,c,h,m,_,b]}class wr extends ge{constructor(e){super(),me(this,e,Yc,Xc,be,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function Rc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,l;return o=new Qt({props:{type:"source",position:t[1]}}),{c(){n=Ve(e),i=de(),ne(o.$$.fragment)},l(r){n=Xe(r,e),i=he(r),re(o.$$.fragment,r)},m(r,a){L(r,n,a),L(r,i,a),ie(o,r,a),l=!0},p(r,[a]){var f;(!l||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Fe(n,e);const u={};a&2&&(u.position=r[1]),o.$set(u)},i(r){l||(X(o.$$.fragment,r),l=!0)},o(r){R(o.$$.fragment,r),l=!1},d(r){r&&(O(n),O(i)),oe(o,r)}}}function Wc(t,e,n){let{data:i={label:"Node"}}=e,{sourcePosition:o=ye.Bottom}=e,{id:l=""}=e,{width:s=void 0}=e,{height:r=void 0}=e,{selected:a=void 0}=e,{targetPosition:u=void 0}=e,{type:f=void 0}=e,{dragging:d=!1}=e,{dragHandle:c=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:b}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"sourcePosition"in g&&n(1,o=g.sourcePosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,s=g.width),"height"in g&&n(4,r=g.height),"selected"in g&&n(5,a=g.selected),"targetPosition"in g&&n(6,u=g.targetPosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,d=g.dragging),"dragHandle"in g&&n(9,c=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,b=g.zIndex)},[i,o,l,s,r,a,u,f,d,c,h,m,_,b]}class Bc extends ge{constructor(e){super(),me(this,e,Wc,Rc,be,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function Lc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,l;return o=new Qt({props:{type:"target",position:t[1]}}),{c(){n=Ve(e),i=de(),ne(o.$$.fragment)},l(r){n=Xe(r,e),i=he(r),re(o.$$.fragment,r)},m(r,a){L(r,n,a),L(r,i,a),ie(o,r,a),l=!0},p(r,[a]){var f;(!l||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Fe(n,e);const u={};a&2&&(u.position=r[1]),o.$set(u)},i(r){l||(X(o.$$.fragment,r),l=!0)},o(r){R(o.$$.fragment,r),l=!1},d(r){r&&(O(n),O(i)),oe(o,r)}}}function Kc(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=ye.Top}=e,{id:l=""}=e,{width:s=void 0}=e,{height:r=void 0}=e,{selected:a=void 0}=e,{sourcePosition:u=void 0}=e,{type:f=void 0}=e,{dragging:d=!1}=e,{dragHandle:c=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:b}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,s=g.width),"height"in g&&n(4,r=g.height),"selected"in g&&n(5,a=g.selected),"sourcePosition"in g&&n(6,u=g.sourcePosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,d=g.dragging),"dragHandle"in g&&n(9,c=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,b=g.zIndex)},[i,o,l,s,r,a,u,f,d,c,h,m,_,b]}class Fc extends ge{constructor(e){super(),me(this,e,Kc,Lc,be,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function Zc(t,e,n){let{id:i=""}=e,{width:o=void 0}=e,{height:l=void 0}=e,{data:s={}}=e,{selected:r=void 0}=e,{sourcePosition:a=void 0}=e,{targetPosition:u=void 0}=e,{type:f=void 0}=e,{dragging:d=!1}=e,{dragHandle:c=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:b}=e;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"width"in g&&n(1,o=g.width),"height"in g&&n(2,l=g.height),"data"in g&&n(3,s=g.data),"selected"in g&&n(4,r=g.selected),"sourcePosition"in g&&n(5,a=g.sourcePosition),"targetPosition"in g&&n(6,u=g.targetPosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,d=g.dragging),"dragHandle"in g&&n(9,c=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,b=g.zIndex)},[i,o,l,s,r,a,u,f,d,c,h,m,_,b]}class qc extends ge{constructor(e){super(),me(this,e,Zc,null,be,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function Vo(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Uc(t,{target:e,domNode:n}){return Vo(t,n,e),{async update({target:i,domNode:o}){Vo(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Gc(t){let e,n,i,o,l;const s=t[3].default,r=Ge(s,t,t[2],null);return{c(){e=ue("div"),r&&r.c()},l(a){e=fe(a,"DIV",{});var u=Q(e);r&&r.l(u),u.forEach(O)},m(a,u){L(a,e,u),r&&r.m(e,null),i=!0,o||(l=Ke(n=Uc.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){r&&r.p&&(!i||u&4)&&Je(r,s,a,a[2],i?je(s,a[2],u,null):Qe(a[2]),null),n&&De(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(X(r,a),i=!0)},o(a){R(r,a),i=!1},d(a){a&&O(e),r&&r.d(a),o=!1,l()}}}function Jc(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{domNode:s}=pe();return J(t,s,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class Qc extends ge{constructor(e){super(),me(this,e,Jc,Gc,be,{})}}function kr(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:l,elementsSelectable:s}=pe();return r=>{const a=G(t).get(r);if(!a){console.warn("012",yn.error012(r));return}(a.selectable||G(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&G(i)&&l({nodes:[],edges:[a]}):o([r]))}}function jc(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,l,s;const r=t[5].default,a=Ge(r,t,t[7],null);return{c(){e=ue("div"),a&&a.c(),this.h()},l(u){e=fe(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=Q(e);a&&a.l(f),f.forEach(O),this.h()},h(){v(e,"class","svelte-flow__edge-label"),v(e,"style",n="pointer-events: all;"+t[0]),v(e,"role","button"),v(e,"tabindex","-1"),_e(e,"transform",i)},m(u,f){L(u,e,f),a&&a.m(e,null),o=!0,l||(s=[Ne(e,"keyup",$c),Ne(e,"click",t[6])],l=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Je(a,r,u,u[7],o?je(r,u[7],f,null):Qe(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&v(e,"style",n);const d=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&_e(e,"transform",i)},i(u){o||(X(a,u),o=!0)},o(u){R(a,u),o=!1},d(u){u&&O(e),a&&a.d(u),l=!1,St(s)}}}function xc(t){let e,n;return e=new Qc({props:{$$slots:{default:[jc]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&135&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}const $c=()=>{};function ed(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:l=void 0}=e,{x:s=void 0}=e,{y:r=void 0}=e;const a=kr(),u=pn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=d=>{"style"in d&&n(0,l=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,r=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[l,s,r,a,u,i,f,o]}class td extends ge{constructor(e){super(),me(this,e,ed,xc,be,{style:0,x:1,y:2})}}function nd(t){let e;return{c(){e=Se("path"),this.h()},l(n){e=Ee(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),Q(e).forEach(O),this.h()},h(){v(e,"d",t[1]),v(e,"stroke-opacity",0),v(e,"stroke-width",t[10]),v(e,"fill","none"),v(e,"class","svelte-flow__edge-interaction")},m(n,i){L(n,e,i)},p(n,i){i&2&&v(e,"d",n[1])},d(n){n&&O(e)}}}function Xo(t){let e,n;return e=new td({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[id]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&8&&(l.x=i[3]),o&16&&(l.y=i[4]),o&32&&(l.style=i[5]),o&4100&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function id(t){let e;return{c(){e=Ve(t[2])},l(n){e=Xe(n,t[2])},m(n,i){L(n,e,i)},p(n,i){i&4&&Fe(e,n[2])},d(n){n&&O(e)}}}function od(t){let e,n,i,o,l,s,r=t[10]&&nd(t),a=t[2]&&Xo(t);return{c(){e=Se("path"),i=de(),r&&r.c(),o=de(),a&&a.c(),l=ve(),this.h()},l(u){e=Ee(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),Q(e).forEach(O),i=he(u),r&&r.l(u),o=he(u),a&&a.l(u),l=ve(),this.h()},h(){v(e,"id",t[0]),v(e,"d",t[1]),v(e,"class",n=Me(["svelte-flow__edge-path",t[9]])),v(e,"marker-start",t[6]),v(e,"marker-end",t[7]),v(e,"fill","none"),v(e,"style",t[8])},m(u,f){L(u,e,f),L(u,i,f),r&&r.m(u,f),L(u,o,f),a&&a.m(u,f),L(u,l,f),s=!0},p(u,[f]){(!s||f&1)&&v(e,"id",u[0]),(!s||f&2)&&v(e,"d",u[1]),(!s||f&512&&n!==(n=Me(["svelte-flow__edge-path",u[9]])))&&v(e,"class",n),(!s||f&64)&&v(e,"marker-start",u[6]),(!s||f&128)&&v(e,"marker-end",u[7]),(!s||f&256)&&v(e,"style",u[8]),u[10]&&r.p(u,f),u[2]?a?(a.p(u,f),f&4&&X(a,1)):(a=Xo(u),a.c(),X(a,1),a.m(l.parentNode,l)):a&&(Ae(),R(a,1,1,()=>{a=null}),Oe())},i(u){s||(X(a),s=!0)},o(u){R(a),s=!1},d(u){u&&(O(e),O(i),O(o),O(l)),r&&r.d(u),a&&a.d(u)}}}function ld(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:l=void 0}=e,{labelX:s=void 0}=e,{labelY:r=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:d=void 0}=e,{interactionWidth:c=20}=e,{class:h=void 0}=e,m=c===void 0?20:c;return t.$$set=_=>{"id"in _&&n(0,i=_.id),"path"in _&&n(1,o=_.path),"label"in _&&n(2,l=_.label),"labelX"in _&&n(3,s=_.labelX),"labelY"in _&&n(4,r=_.labelY),"labelStyle"in _&&n(5,a=_.labelStyle),"markerStart"in _&&n(6,u=_.markerStart),"markerEnd"in _&&n(7,f=_.markerEnd),"style"in _&&n(8,d=_.style),"interactionWidth"in _&&n(11,c=_.interactionWidth),"class"in _&&n(9,h=_.class)},[i,o,l,s,r,a,u,f,d,h,m,c]}class si extends ge{constructor(e){super(),me(this,e,ld,od,be,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function rd(t){let e,n;return e=new si({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function sd(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:a=""}=e,{type:u="default"}=e,{animated:f=void 0}=e,{selected:d=void 0}=e,{label:c=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:_=void 0}=e,{markerStart:b=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:E=void 0}=e,{sourceX:N}=e,{sourceY:k}=e,{sourcePosition:M}=e,{sourceHandleId:z=void 0}=e,{targetX:P}=e,{targetY:S}=e,{targetPosition:D}=e,{targetHandleId:p=void 0}=e;return t.$$set=y=>{"id"in y&&n(9,s=y.id),"source"in y&&n(10,r=y.source),"target"in y&&n(11,a=y.target),"type"in y&&n(12,u=y.type),"animated"in y&&n(13,f=y.animated),"selected"in y&&n(14,d=y.selected),"label"in y&&n(0,c=y.label),"labelStyle"in y&&n(1,h=y.labelStyle),"data"in y&&n(15,m=y.data),"style"in y&&n(2,_=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,g=y.markerEnd),"interactionWidth"in y&&n(5,E=y.interactionWidth),"sourceX"in y&&n(16,N=y.sourceX),"sourceY"in y&&n(17,k=y.sourceY),"sourcePosition"in y&&n(18,M=y.sourcePosition),"sourceHandleId"in y&&n(19,z=y.sourceHandleId),"targetX"in y&&n(20,P=y.targetX),"targetY"in y&&n(21,S=y.targetY),"targetPosition"in y&&n(22,D=y.targetPosition),"targetHandleId"in y&&n(23,p=y.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=sr({sourceX:N,sourceY:k,targetX:P,targetY:S,sourcePosition:M,targetPosition:D}),i,(n(7,o),n(16,N),n(17,k),n(20,P),n(21,S),n(18,M),n(22,D)),(n(6,l),n(16,N),n(17,k),n(20,P),n(21,S),n(18,M),n(22,D)))},[c,h,_,b,g,E,l,o,i,s,r,a,u,f,d,m,N,k,M,z,P,S,D,p]}class vr extends ge{constructor(e){super(),me(this,e,sd,rd,be,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function ad(t){let e,n;return e=new si({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function ud(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:a=""}=e,{type:u="smoothstep"}=e,{animated:f=void 0}=e,{selected:d=void 0}=e,{label:c=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:_=void 0}=e,{markerStart:b=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:E=void 0}=e,{sourceX:N}=e,{sourceY:k}=e,{sourcePosition:M}=e,{sourceHandleId:z=void 0}=e,{targetX:P}=e,{targetY:S}=e,{targetPosition:D}=e,{targetHandleId:p=void 0}=e;return t.$$set=y=>{"id"in y&&n(9,s=y.id),"source"in y&&n(10,r=y.source),"target"in y&&n(11,a=y.target),"type"in y&&n(12,u=y.type),"animated"in y&&n(13,f=y.animated),"selected"in y&&n(14,d=y.selected),"label"in y&&n(0,c=y.label),"labelStyle"in y&&n(1,h=y.labelStyle),"data"in y&&n(15,m=y.data),"style"in y&&n(2,_=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,g=y.markerEnd),"interactionWidth"in y&&n(5,E=y.interactionWidth),"sourceX"in y&&n(16,N=y.sourceX),"sourceY"in y&&n(17,k=y.sourceY),"sourcePosition"in y&&n(18,M=y.sourcePosition),"sourceHandleId"in y&&n(19,z=y.sourceHandleId),"targetX"in y&&n(20,P=y.targetX),"targetY"in y&&n(21,S=y.targetY),"targetPosition"in y&&n(22,D=y.targetPosition),"targetHandleId"in y&&n(23,p=y.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=jn({sourceX:N,sourceY:k,targetX:P,targetY:S,sourcePosition:M,targetPosition:D}),i,(n(7,o),n(16,N),n(17,k),n(20,P),n(21,S),n(18,M),n(22,D)),(n(6,l),n(16,N),n(17,k),n(20,P),n(21,S),n(18,M),n(22,D)))},[c,h,_,b,g,E,l,o,i,s,r,a,u,f,d,m,N,k,M,z,P,S,D,p]}class fd extends ge{constructor(e){super(),me(this,e,ud,ad,be,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function cd(t){let e,n;return e=new si({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function dd(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:a=""}=e,{type:u="straight"}=e,{animated:f=void 0}=e,{selected:d=void 0}=e,{label:c=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:_=void 0}=e,{markerStart:b=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:E=void 0}=e,{sourceX:N}=e,{sourceY:k}=e,{sourcePosition:M}=e,{sourceHandleId:z=void 0}=e,{targetX:P}=e,{targetY:S}=e,{targetPosition:D}=e,{targetHandleId:p=void 0}=e;return t.$$set=y=>{"id"in y&&n(9,s=y.id),"source"in y&&n(10,r=y.source),"target"in y&&n(11,a=y.target),"type"in y&&n(12,u=y.type),"animated"in y&&n(13,f=y.animated),"selected"in y&&n(14,d=y.selected),"label"in y&&n(0,c=y.label),"labelStyle"in y&&n(1,h=y.labelStyle),"data"in y&&n(15,m=y.data),"style"in y&&n(2,_=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,g=y.markerEnd),"interactionWidth"in y&&n(5,E=y.interactionWidth),"sourceX"in y&&n(16,N=y.sourceX),"sourceY"in y&&n(17,k=y.sourceY),"sourcePosition"in y&&n(18,M=y.sourcePosition),"sourceHandleId"in y&&n(19,z=y.sourceHandleId),"targetX"in y&&n(20,P=y.targetX),"targetY"in y&&n(21,S=y.targetY),"targetPosition"in y&&n(22,D=y.targetPosition),"targetHandleId"in y&&n(23,p=y.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[i,o,l]=ur({sourceX:N,sourceY:k,targetX:P,targetY:S}),i,(n(7,o),n(16,N),n(17,k),n(20,P),n(21,S)),(n(6,l),n(16,N),n(17,k),n(20,P),n(21,S)))},[c,h,_,b,g,E,l,o,i,s,r,a,u,f,d,m,N,k,M,z,P,S,D,p]}class hd extends ge{constructor(e){super(),me(this,e,dd,cd,be,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function gd(t){let e,n;return e=new si({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function md(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:a=""}=e,{type:u="step"}=e,{animated:f=void 0}=e,{selected:d=void 0}=e,{label:c=void 0}=e,{data:h=void 0}=e,{labelStyle:m=void 0}=e,{style:_=void 0}=e,{markerStart:b=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:E=void 0}=e,{sourceX:N}=e,{sourceY:k}=e,{sourcePosition:M}=e,{sourceHandleId:z=void 0}=e,{targetX:P}=e,{targetY:S}=e,{targetPosition:D}=e,{targetHandleId:p=void 0}=e;return t.$$set=y=>{"id"in y&&n(9,s=y.id),"source"in y&&n(10,r=y.source),"target"in y&&n(11,a=y.target),"type"in y&&n(12,u=y.type),"animated"in y&&n(13,f=y.animated),"selected"in y&&n(14,d=y.selected),"label"in y&&n(0,c=y.label),"data"in y&&n(15,h=y.data),"labelStyle"in y&&n(1,m=y.labelStyle),"style"in y&&n(2,_=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,g=y.markerEnd),"interactionWidth"in y&&n(5,E=y.interactionWidth),"sourceX"in y&&n(16,N=y.sourceX),"sourceY"in y&&n(17,k=y.sourceY),"sourcePosition"in y&&n(18,M=y.sourcePosition),"sourceHandleId"in y&&n(19,z=y.sourceHandleId),"targetX"in y&&n(20,P=y.targetX),"targetY"in y&&n(21,S=y.targetY),"targetPosition"in y&&n(22,D=y.targetPosition),"targetHandleId"in y&&n(23,p=y.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=jn({sourceX:N,sourceY:k,targetX:P,targetY:S,sourcePosition:M,targetPosition:D,borderRadius:0}),i,(n(7,o),n(16,N),n(17,k),n(20,P),n(21,S),n(18,M),n(22,D)),(n(6,l),n(16,N),n(17,k),n(20,P),n(21,S),n(18,M),n(22,D)))},[c,m,_,b,g,E,l,o,i,s,r,a,u,f,d,h,N,k,M,z,P,S,D,p]}class _d extends ge{constructor(e){super(),me(this,e,md,gd,be,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function bd(t,e){const n=t.set,i=e.set,o=G(t),l=G(e);let r=o.length===0&&l.length>0?l:o;t.set(r);const a=u=>{const f=n(u);return r=f,i(r),f};t.set=e.set=a,t.update=e.update=u=>a(u(r))}function yd(t,e){const n=t.set,i=e.set;let o=G(e);t.set(o);const l=s=>{n(s),i(s),o=s};t.set=e.set=l,t.update=e.update=s=>l(s(o))}const wd=(t,e,n)=>{if(!n)return;const i=G(t),o=e.set,l=n.set;let s=n?G(n):{x:0,y:0,zoom:1};e.set(s),e.set=r=>(o(r),l(r),s=r,r),n.set=r=>(i==null||i.syncViewport(r),o(r),l(r),s=r,r),e.update=r=>{e.set(r(s))},n.update=r=>{n.set(r(s))}},kd=(t,e)=>{const{subscribe:n,set:i,update:o}=ee([]);let l=t,s={},r=!0;const a=c=>(l=fr(c,e,{elevateNodesOnSelect:r,defaults:s}),i(l),l),u=c=>a(c(l)),f=c=>{s=c},d=c=>{var h;r=(h=c.elevateNodesOnSelect)!=null?h:r};return a(l),{subscribe:n,set:a,update:u,setDefaultOptions:f,setOptions:d}},vd=(t,e,n,i)=>{const{subscribe:o,set:l,update:s}=ee([]);let r=t,a={};const u=c=>{const h=a?c.map(m=>({...a,...m})):c;dr(e,n,h),r=h,l(r)},f=c=>u(c(r)),d=c=>{a=c};return u(r),{subscribe:o,set:u,update:f,setDefaultOptions:d}},Sr={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},Sd={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top};function Ed(t,e){return Zt([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,i,o,l,s])=>{var M,z,P,S,D,p,y,W,T,w,I,C,V,B,K,Y,F,H,$;if(!((M=n.connectionStartHandle)!=null&&M.nodeId))return Sr;const r=l.get((z=n.connectionStartHandle)==null?void 0:z.nodeId),a=(P=r==null?void 0:r[He])==null?void 0:P.handleBounds,u=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],f=u||(a==null?void 0:a[((S=n==null?void 0:n.connectionStartHandle)==null?void 0:S.type)==="source"?"target":"source"]),d=o===Pt.Strict?u:f,c=(D=n.connectionStartHandle)!=null&&D.handleId?d.find(le=>{var ae;return le.id===((ae=n.connectionStartHandle)==null?void 0:ae.handleId)}):d[0],h=c?c.x+c.width/2:((y=(p=r==null?void 0:r.computed)==null?void 0:p.width)!=null?y:0)/2,m=c?c.y+c.height/2:(T=(W=r==null?void 0:r.computed)==null?void 0:W.height)!=null?T:0,_=((C=(I=(w=r==null?void 0:r.computed)==null?void 0:w.positionAbsolute)==null?void 0:I.x)!=null?C:0)+h,b=((K=(B=(V=r==null?void 0:r.computed)==null?void 0:V.positionAbsolute)==null?void 0:B.y)!=null?K:0)+m,g=c==null?void 0:c.position,E=g?Sd[g]:void 0,N={sourceX:_,sourceY:b,sourcePosition:g,targetX:(((F=(Y=n.connectionPosition)==null?void 0:Y.x)!=null?F:0)-s.x)/s.zoom,targetY:((($=(H=n.connectionPosition)==null?void 0:H.y)!=null?$:0)-s.y)/s.zoom,targetPosition:E};let k="";return i===Lt.Bezier?[k]=sr(N):i===Lt.Step?[k]=jn({...N,borderRadius:0}):i===Lt.SmoothStep?[k]=jn(N):[k]=ur(N),{path:k,...N,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const Er={input:Bc,output:Fc,default:wr,group:qc},Cr={straight:hd,smoothstep:fd,default:vr,step:_d},Cd=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o})=>{const l=new Map,s=fr(t,l,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),r=new Map,a=new Map;dr(r,a,e);let u={x:0,y:0,zoom:1};if(o&&n&&i){const f=s.filter(c=>c.width&&c.height||c.initialWidth&&c.initialHeight),d=wn(f,{nodeOrigin:[0,0]});u=or(d,n,i,.5,2,.1)}return{flowId:ee(null),nodes:kd(s,l),nodeLookup:ft(l),edgeLookup:ft(a),visibleNodes:ft([]),edges:vd(e,r,a),visibleEdges:ft([]),connectionLookup:ft(r),height:ee(500),width:ee(500),minZoom:ee(.5),maxZoom:ee(2),nodeOrigin:ee([0,0]),nodeDragThreshold:ee(1),nodeExtent:ee(ko),translateExtent:ee(ko),autoPanOnNodeDrag:ee(!0),autoPanOnConnect:ee(!0),fitViewOnInit:ee(!1),fitViewOnInitDone:ee(!1),fitViewOptions:ee(void 0),panZoom:ee(null),snapGrid:ee(null),dragging:ee(!1),selectionRect:ee(null),selectionKeyPressed:ee(!1),multiselectionKeyPressed:ee(!1),deleteKeyPressed:ee(!1),panActivationKeyPressed:ee(!1),zoomActivationKeyPressed:ee(!1),selectionRectMode:ee(null),selectionMode:ee(qn.Partial),nodeTypes:ee(Er),edgeTypes:ee(Cr),viewport:ee(u),connectionMode:ee(Pt.Strict),domNode:ee(null),connection:ft(Sr),connectionLineType:ee(Lt.Bezier),connectionRadius:ee(20),isValidConnection:ee(()=>!0),nodesDraggable:ee(!0),nodesConnectable:ee(!0),elementsSelectable:ee(!0),selectNodesOnDrag:ee(!0),markers:ft([]),defaultMarkerColor:ee("#b1b1b7"),lib:ft("svelte"),onlyRenderVisibleElements:ee(!1),onerror:ee($f),ondelete:ee(void 0),onedgecreate:ee(void 0),onconnect:ee(void 0),onconnectstart:ee(void 0),onconnectend:ee(void 0),onbeforedelete:ee(void 0),nodesInitialized:ee(!1),edgesInitialized:ee(!1),viewportInitialized:ee(!1),initialized:ft(!1)}};function zd(t){const e=Zt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,l,s,r])=>o&&s&&r?n.filter(u=>{const f=i.get(u.source),d=i.get(u.target);return f&&d&&sc({sourceNode:f,targetNode:d,width:s,height:r,transform:[l.x,l.y,l.zoom]})}):n);return Zt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,l])=>n.reduce((r,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return r;const d=gc({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:l});return d&&r.push({...a,zIndex:rc({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...d}),r},[]))}function Md(t){return Zt([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,i,o,l])=>{const s=[l.x,l.y,l.zoom];return n?tr(e,{x:0,y:0,width:i,height:o},s,!0):e})}const Gi=Symbol();function Pd({nodes:t,edges:e,width:n,height:i,fitView:o}){const l=Cd({nodes:t,edges:e,width:n,height:i,fitView:o});function s(T){l.nodeTypes.set({...Er,...T})}function r(T){l.edgeTypes.set({...Cr,...T})}function a(T){const w=G(l.edges);l.edges.set(fc(T,w))}const u=(T,w=!1)=>{const I=G(l.nodeLookup);T.forEach(C=>{var B;const V=I.get(C.id);V&&(V.position=C.position,V.dragging=w,V.computed={...V.computed,positionAbsolute:(B=C.computed)==null?void 0:B.positionAbsolute})}),l.nodes.set(G(l.nodes))};function f(T){const w=bc(T,G(l.nodes),G(l.nodeLookup),G(l.domNode),G(l.nodeOrigin));if(w){if(!G(l.fitViewOnInitDone)&&G(l.fitViewOnInit)){const I=G(l.fitViewOptions),C=d(w,{...I,nodes:(I==null?void 0:I.nodes)||w});l.fitViewOnInitDone.set(C)}l.nodes.set(w),G(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function d(T,w){const I=G(l.panZoom);return I?Zf({nodes:T,width:G(l.width),height:G(l.height),minZoom:G(l.minZoom),maxZoom:G(l.maxZoom),panZoom:I,nodeOrigin:G(l.nodeOrigin)},w):!1}function c(T,w){const I=G(l.panZoom);I&&I.scaleBy(T,w)}function h(T){c(1.2,T)}function m(T){c(1/1.2,T)}function _(T){const w=G(l.panZoom);w&&(w.setScaleExtent([T,G(l.maxZoom)]),l.minZoom.set(T))}function b(T){const w=G(l.panZoom);w&&(w.setScaleExtent([G(l.minZoom),T]),l.maxZoom.set(T))}function g(T){const w=G(l.panZoom);w&&(w.setTranslateExtent(T),l.translateExtent.set(T))}function E(T){let w=!1;return T.forEach(I=>{I.selected&&(I.selected=!1,w=!0)}),w}function N(T){E((T==null?void 0:T.nodes)||G(l.nodes))&&l.nodes.set(G(l.nodes)),E((T==null?void 0:T.edges)||G(l.edges))&&l.edges.set(G(l.edges))}l.deleteKeyPressed.subscribe(async T=>{var w;if(T){const I=G(l.nodes),C=G(l.edges),V=I.filter(F=>F.selected),B=C.filter(F=>F.selected),{nodes:K,edges:Y}=await Gf({nodesToRemove:V,edgesToRemove:B,nodes:I,edges:C,onBeforeDelete:G(l.onbeforedelete)});(K.length||Y.length)&&(l.nodes.update(F=>F.filter(H=>!K.some($=>$.id===H.id))),l.edges.update(F=>F.filter(H=>!Y.some($=>$.id===H.id))),(w=G(l.ondelete))==null||w({nodes:K,edges:Y}))}});function k(T){const w=G(l.multiselectionKeyPressed);l.nodes.update(I=>I.map(C=>{const V=T.includes(C.id),B=w&&C.selected||V;return C.selected=B,C})),w||l.edges.update(I=>I.map(C=>(C.selected=!1,C)))}function M(T){const w=G(l.multiselectionKeyPressed);l.edges.update(I=>I.map(C=>{const V=T.includes(C.id),B=w&&C.selected||V;return C.selected=B,C})),w||l.nodes.update(I=>I.map(C=>(C.selected=!1,C)))}function z(T){var I;const w=(I=G(l.nodes))==null?void 0:I.find(C=>C.id===T);if(!w){console.warn("012",yn.error012(T));return}l.selectionRect.set(null),l.selectionRectMode.set(null),w.selected?w.selected&&G(l.multiselectionKeyPressed)&&N({nodes:[w],edges:[]}):k([T])}function P(T){const w=G(l.viewport);return yc({delta:T,panZoom:G(l.panZoom),transform:[w.x,w.y,w.zoom],translateExtent:G(l.translateExtent),width:G(l.width),height:G(l.height)})}const S={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},D=ee(S),p=T=>{D.set(T)};function y(){p(S)}function W(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),l.nodes.set([]),l.edges.set([]),N(),y()}return{...l,connection:Ed(l,D),visibleEdges:zd(l),visibleNodes:Md(l),markers:Zt([l.edges,l.defaultMarkerColor,l.flowId],([T,w,I])=>mc(T,{defaultColor:w,id:I})),initialized:(()=>{let T=!1;const w=G(l.nodes).length,I=G(l.edges).length;return Zt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([C,V,B])=>T||(w===0?T=B:I===0?T=B&&C:T=B&&C&&V,T))})(),syncNodeStores:T=>bd(l.nodes,T),syncEdgeStores:T=>yd(l.edges,T),syncViewport:T=>wd(l.panZoom,l.viewport,T),setNodeTypes:s,setEdgeTypes:r,addEdge:a,updateNodePositions:u,updateNodeDimensions:f,zoomIn:h,zoomOut:m,fitView:T=>d(G(l.nodes),T),setMinZoom:_,setMaxZoom:b,setTranslateExtent:g,unselectNodesAndEdges:N,addSelectedNodes:k,addSelectedEdges:M,handleNodeSelection:z,panBy:P,updateConnection:p,cancelConnection:y,reset:W}}function pe(){const t=pn(Gi);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Nd({nodes:t,edges:e,width:n,height:i,fitView:o}){const l=Pd({nodes:t,edges:e,width:n,height:i,fitView:o});return Vn(Gi,{getStore:()=>l}),l}function Hd(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:l,viewport:s,dragging:r,translateExtent:a}=e,u=Tc({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:l,onTransformChange:d=>s.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:r.set}),f=u.getViewport();return s.set(f),n.set(u),u.update(e),{update(d){u.update(d)}}}function Ad(t){let e,n,i,o,l;const s=t[33].default,r=Ge(s,t,t[32],null);return{c(){e=ue("div"),r&&r.c(),this.h()},l(a){e=fe(a,"DIV",{class:!0});var u=Q(e);r&&r.l(u),u.forEach(O),this.h()},h(){v(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){L(a,e,u),r&&r.m(e,null),i=!0,o||(l=Ke(n=Hd.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||dt.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),o=!0)},p(a,u){r&&r.p&&(!i||u[1]&2)&&Je(r,s,a,a[32],i?je(s,a[32],u,null):Qe(a[32]),null),n&&De(n.update)&&u[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||dt.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){i||(X(r,a),i=!0)},o(a){R(r,a),i=!1},d(a){a&&O(e),r&&r.d(a),o=!1,l()}}}function Od(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,{$$slots:m={},$$scope:_}=e,{initialViewport:b}=e,{onMoveStart:g=void 0}=e,{onMove:E=void 0}=e,{onMoveEnd:N=void 0}=e,{panOnScrollMode:k}=e,{preventScrolling:M}=e,{zoomOnScroll:z}=e,{zoomOnDoubleClick:P}=e,{zoomOnPinch:S}=e,{panOnDrag:D}=e,{panOnScroll:p}=e;const{viewport:y,panZoom:W,selectionKeyPressed:T,minZoom:w,maxZoom:I,dragging:C,translateExtent:V,lib:B,panActivationKeyPressed:K,zoomActivationKeyPressed:Y,viewportInitialized:F}=pe();return J(t,T,H=>n(14,d=H)),J(t,w,H=>n(11,a=H)),J(t,I,H=>n(12,u=H)),J(t,V,H=>n(15,c=H)),J(t,B,H=>n(16,h=H)),J(t,K,H=>n(31,r=H)),J(t,Y,H=>n(13,f=H)),J(t,F,H=>n(34,s=H)),gn(()=>{Ei(F,s=!0,s)}),t.$$set=H=>{"initialViewport"in H&&n(28,b=H.initialViewport),"onMoveStart"in H&&n(0,g=H.onMoveStart),"onMove"in H&&n(1,E=H.onMove),"onMoveEnd"in H&&n(2,N=H.onMoveEnd),"panOnScrollMode"in H&&n(3,k=H.panOnScrollMode),"preventScrolling"in H&&n(4,M=H.preventScrolling),"zoomOnScroll"in H&&n(5,z=H.zoomOnScroll),"zoomOnDoubleClick"in H&&n(6,P=H.zoomOnDoubleClick),"zoomOnPinch"in H&&n(7,S=H.zoomOnPinch),"panOnDrag"in H&&n(29,D=H.panOnDrag),"panOnScroll"in H&&n(30,p=H.panOnScroll),"$$scope"in H&&n(32,_=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,i=b||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,o=r||D),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,l=r||p)},[g,E,N,k,M,z,P,S,l,o,i,a,u,f,d,c,h,y,W,T,w,I,C,V,B,K,Y,F,b,D,p,r,_,m]}class Id extends ge{constructor(e){super(),me(this,e,Od,Ad,be,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}function Dd(t){let e,n,i,o;const l=t[29].default,s=Ge(l,t,t[28],null);return{c(){e=ue("div"),s&&s.c(),this.h()},l(r){e=fe(r,"DIV",{class:!0});var a=Q(e);s&&s.l(a),a.forEach(O),this.h()},h(){v(e,"class","svelte-flow__pane svelte-1esy7hx"),ce(e,"draggable",t[0]),ce(e,"dragging",t[4]),ce(e,"selection",t[1])},m(r,a){L(r,e,a),s&&s.m(e,null),t[30](e),n=!0,i||(o=[Ne(e,"click",function(){De(t[3]?void 0:Hn(t[15],t[2]))&&(t[3]?void 0:Hn(t[15],t[2])).apply(this,arguments)}),Ne(e,"mousedown",function(){De(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Ne(e,"mousemove",function(){De(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Ne(e,"mouseup",function(){De(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Ne(e,"mouseleave",function(){De(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),Ne(e,"contextmenu",function(){De(Hn(t[20],t[2]))&&Hn(t[20],t[2]).apply(this,arguments)})],i=!0)},p(r,a){t=r,s&&s.p&&(!n||a[0]&268435456)&&Je(s,l,t,t[28],n?je(l,t[28],a,null):Qe(t[28]),null),(!n||a[0]&1)&&ce(e,"draggable",t[0]),(!n||a[0]&16)&&ce(e,"dragging",t[4]),(!n||a[0]&2)&&ce(e,"selection",t[1])},i(r){n||(X(s,r),n=!0)},o(r){R(s,r),n=!1},d(r){r&&O(e),s&&s.d(r),t[30](null),i=!1,St(o)}}}function Hn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Yo(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function Td(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,m,_,{$$slots:b={},$$scope:g}=e,{panOnDrag:E=void 0}=e,{selectionOnDrag:N=void 0}=e;const k=mn(),{nodes:M,edges:z,viewport:P,dragging:S,elementsSelectable:D,selectionRect:p,selectionRectMode:y,selectionKeyPressed:W,selectionMode:T,panActivationKeyPressed:w,unselectNodesAndEdges:I}=pe();J(t,M,q=>n(36,f=q)),J(t,z,q=>n(33,r=q)),J(t,P,q=>n(35,u=q)),J(t,S,q=>n(4,_=q)),J(t,D,q=>n(25,c=q)),J(t,p,q=>n(24,d=q)),J(t,y,q=>n(23,s=q)),J(t,W,q=>n(26,h=q)),J(t,T,q=>n(34,a=q)),J(t,w,q=>n(27,m=q));let C,V=null,B=[];function K(q){k("paneclick",{event:q}),I(),y.set(null)}function Y(q){if(V=C.getBoundingClientRect(),!D||!o||q.button!==0||q.target!==C||!V)return;const{x:se,y:ke}=yt(q,V);I(),p.set({width:0,height:0,startX:se,startY:ke,x:se,y:ke})}function F(q){var it,et;if(!o||!V||!d)return;const se=yt(q,V),ke=(it=d.startX)!=null?it:0,ze=(et=d.startY)!=null?et:0,Z={...d,x:se.x<ke?se.x:ke,y:se.y<ze?se.y:ze,width:Math.abs(se.x-ke),height:Math.abs(se.y-ze)},Ie=B.map(Pe=>Pe.id),Ye=Ii(B,r).map(Pe=>Pe.id);B=tr(f,Z,[u.x,u.y,u.zoom],a===qn.Partial,!0);const Re=Ii(B,r).map(Pe=>Pe.id),Be=B.map(Pe=>Pe.id);(Ie.length!==Be.length||Be.some(Pe=>!Ie.includes(Pe)))&&M.update(Pe=>Pe.map(Yo(Be))),(Ye.length!==Re.length||Re.some(Pe=>!Ye.includes(Pe)))&&z.update(Pe=>Pe.map(Yo(Re))),y.set("user"),p.set(Z)}function H(q){q.button===0&&(!o&&s==="user"&&q.target===C&&(K==null||K(q)),p.set(null),B.length>0&&y.set("nodes"))}const $=q=>{s==="user"&&y.set(B.length>0?"nodes":null),p.set(null)},le=q=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){q.preventDefault();return}k("panecontextmenu",{event:q})};function ae(q){jt[q?"unshift":"push"](()=>{C=q,n(2,C)})}return t.$$set=q=>{"panOnDrag"in q&&n(0,E=q.panOnDrag),"selectionOnDrag"in q&&n(21,N=q.selectionOnDrag),"$$scope"in q&&n(28,g=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,i=m||E),t.$$.dirty[0]&90177536&&n(1,o=h||d||N&&i!==!0),t.$$.dirty[0]&41943042&&n(3,l=c&&(o||s==="user"))},[E,o,C,l,_,M,z,P,S,D,p,y,W,T,w,K,Y,F,H,$,le,N,i,s,d,c,h,m,g,b,ae]}class pd extends ge{constructor(e){super(),me(this,e,Td,Dd,be,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}function Vd(t){let e,n;const i=t[3].default,o=Ge(i,t,t[2],null);return{c(){e=ue("div"),o&&o.c(),this.h()},l(l){e=fe(l,"DIV",{class:!0,style:!0});var s=Q(e);o&&o.l(s),s.forEach(O),this.h()},h(){v(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),_e(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(l,s){L(l,e,s),o&&o.m(e,null),n=!0},p(l,[s]){o&&o.p&&(!n||s&4)&&Je(o,i,l,l[2],n?je(i,l[2],s,null):Qe(l[2]),null),(!n||s&1)&&_e(e,"transform","translate("+l[0].x+"px, "+l[0].y+"px) scale("+l[0].zoom+")")},i(l){n||(X(o,l),n=!0)},o(l){R(o,l),n=!1},d(l){l&&O(e),o&&o.d(l)}}}function Xd(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{viewport:s}=pe();return J(t,s,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class Yd extends ge{constructor(e){super(),me(this,e,Xd,Vd,be,{})}}function zr(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s}=e,r=kc({onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s,getStoreItems:()=>{const u=G(n.snapGrid),f=G(n.viewport);return{nodes:G(n.nodes),nodeLookup:G(n.nodeLookup),edges:G(n.edges),nodeExtent:G(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:[0,0],multiSelectionActive:G(n.multiselectionKeyPressed),domNode:G(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:G(n.autoPanOnNodeDrag),nodesDraggable:G(n.nodesDraggable),selectNodesOnDrag:G(n.selectNodesOnDrag),nodeDragThreshold:G(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){r.destroy();return}r.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable})}return a(t,e),{update(u){a(t,u)},destroy(){r.destroy()}}}function Rd({width:t,height:e,initialWidth:n,initialHeight:i,computedWidth:o,computedHeight:l}){if(o===void 0&&l===void 0){const s=t!=null?t:n,r=e!=null?e:i;return{width:s?`width:${s}px;`:"",height:r?`height:${r}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Ro(t){let e,n,i,o,l,s=`translate(${t[13]}px, ${t[14]}px)`,r,a,u;var f=t[30];function d(c,h){return{props:{data:c[2],id:c[1],selected:c[3],sourcePosition:c[15],targetPosition:c[16],zIndex:c[17],dragging:c[8],dragHandle:c[20],type:c[29],isConnectable:c[25],positionAbsoluteX:c[11],positionAbsoluteY:c[12],width:c[18],height:c[19]}}}return f&&(n=Xn(f,d(t))),{c(){e=ue("div"),n&&ne(n.$$.fragment),this.h()},l(c){e=fe(c,"DIV",{"data-id":!0,class:!0,style:!0});var h=Q(e);n&&re(n.$$.fragment,h),h.forEach(O),this.h()},h(){var c;v(e,"data-id",t[1]),v(e,"class",i=Me(["svelte-flow__node",`svelte-flow__node-${t[29]}`,t[22]])),v(e,"style",o=((c=t[9])!=null?c:"")+";"+t[24].width+t[24].height),ce(e,"dragging",t[8]),ce(e,"selected",t[3]),ce(e,"draggable",t[4]),ce(e,"connectable",t[6]),ce(e,"selectable",t[5]),ce(e,"nopan",t[4]),ce(e,"parent",t[10]),_e(e,"z-index",t[17]),_e(e,"transform",s),_e(e,"visibility",t[21]?"visible":"hidden")},m(c,h){L(c,e,h),n&&ie(n,e,null),t[47](e),r=!0,a||(u=[Ke(l=zr.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[28],onDrag:t[44],onDragStart:t[45],onDragStop:t[46],store:t[26]})),Ne(e,"click",t[33]),Ne(e,"mouseenter",t[48]),Ne(e,"mouseleave",t[49]),Ne(e,"mousemove",t[50]),Ne(e,"contextmenu",t[51])],a=!0)},p(c,h){var _;if(f!==(f=c[30])){if(n){Ae();const b=n;R(b.$$.fragment,1,0,()=>{oe(b,1)}),Oe()}f?(n=Xn(f,d(c)),ne(n.$$.fragment),X(n.$$.fragment,1),ie(n,e,null)):n=null}else if(f){const b={};h[0]&4&&(b.data=c[2]),h[0]&2&&(b.id=c[1]),h[0]&8&&(b.selected=c[3]),h[0]&32768&&(b.sourcePosition=c[15]),h[0]&65536&&(b.targetPosition=c[16]),h[0]&131072&&(b.zIndex=c[17]),h[0]&256&&(b.dragging=c[8]),h[0]&1048576&&(b.dragHandle=c[20]),h[0]&33554432&&(b.isConnectable=c[25]),h[0]&2048&&(b.positionAbsoluteX=c[11]),h[0]&4096&&(b.positionAbsoluteY=c[12]),h[0]&262144&&(b.width=c[18]),h[0]&524288&&(b.height=c[19]),n.$set(b)}(!r||h[0]&2)&&v(e,"data-id",c[1]),(!r||h[0]&4194304&&i!==(i=Me(["svelte-flow__node",`svelte-flow__node-${c[29]}`,c[22]])))&&v(e,"class",i),(!r||h[0]&16777728&&o!==(o=((_=c[9])!=null?_:"")+";"+c[24].width+c[24].height))&&v(e,"style",o),l&&De(l.update)&&h[0]&1048610&&l.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[20],noDragClass:"nodrag",onNodeMouseDown:c[28],onDrag:c[44],onDragStart:c[45],onDragStop:c[46],store:c[26]}),(!r||h[0]&4194560)&&ce(e,"dragging",c[8]),(!r||h[0]&4194312)&&ce(e,"selected",c[3]),(!r||h[0]&4194320)&&ce(e,"draggable",c[4]),(!r||h[0]&4194368)&&ce(e,"connectable",c[6]),(!r||h[0]&4194336)&&ce(e,"selectable",c[5]),(!r||h[0]&4194320)&&ce(e,"nopan",c[4]),(!r||h[0]&4195328)&&ce(e,"parent",c[10]);const m=h[0]&16777728;(h[0]&16908800||m)&&_e(e,"z-index",c[17]),(h[0]&16802304&&s!==(s=`translate(${c[13]}px, ${c[14]}px)`)||m)&&_e(e,"transform",s),(h[0]&18874880||m)&&_e(e,"visibility",c[21]?"visible":"hidden")},i(c){r||(n&&X(n.$$.fragment,c),r=!0)},o(c){n&&R(n.$$.fragment,c),r=!1},d(c){c&&O(e),n&&oe(n),t[47](null),a=!1,St(u)}}}function Wd(t){let e,n,i=!t[7]&&Ro(t);return{c(){i&&i.c(),e=ve()},l(o){i&&i.l(o),e=ve()},m(o,l){i&&i.m(o,l),L(o,e,l),n=!0},p(o,l){o[7]?i&&(Ae(),R(i,1,1,()=>{i=null}),Oe()):i?(i.p(o,l),l[0]&128&&X(i,1)):(i=Ro(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function Bd(t,e,n){let i,o,l,{node:s}=e,{id:r}=e,{data:a={}}=e,{selected:u=!1}=e,{draggable:f=void 0}=e,{selectable:d=void 0}=e,{connectable:c=!0}=e,{hidden:h=!1}=e,{dragging:m=!1}=e,{resizeObserver:_=null}=e,{style:b=void 0}=e,{type:g="default"}=e,{isParent:E=!1}=e,{positionX:N}=e,{positionY:k}=e,{positionOriginX:M}=e,{positionOriginY:z}=e,{sourcePosition:P=void 0}=e,{targetPosition:S=void 0}=e,{zIndex:D}=e,{computedWidth:p=void 0}=e,{computedHeight:y=void 0}=e,{initialWidth:W=void 0}=e,{initialHeight:T=void 0}=e,{width:w=void 0}=e,{height:I=void 0}=e,{dragHandle:C=void 0}=e,{initialized:V=!1}=e,{class:B=""}=e;const K=pe(),{nodeTypes:Y,nodeDragThreshold:F,selectNodesOnDrag:H,handleNodeSelection:$,updateNodeDimensions:le}=K;J(t,Y,U=>n(52,o=U));const ae=g||"default";let q,se;!!o[ae]||console.warn("003",yn.error003(g));const ze=o[ae]||wr,Z=Nr(),Ie=ee(c);J(t,Ie,U=>n(25,l=U));let Ye,Re,Be;Vn("svelteflow__node_id",r),Vn("svelteflow__node_connectable",Ie),El(()=>{_==null||_.unobserve(q)});function it(U){d&&(!G(H)||!f||G(F)>0)&&$(r),Z("nodeclick",{node:s,event:U})}const et=(U,tt,Te,j)=>{Z("nodedrag",{event:U,targetNode:Te,nodes:j})},Pe=(U,tt,Te,j)=>{Z("nodedragstart",{event:U,targetNode:Te,nodes:j})},st=(U,tt,Te,j)=>{Z("nodedragstop",{event:U,targetNode:Te,nodes:j})};function at(U){jt[U?"unshift":"push"](()=>{q=U,n(23,q)})}const te=U=>Z("nodemouseenter",{node:s,event:U}),Et=U=>Z("nodemouseleave",{node:s,event:U}),Ct=U=>Z("nodemousemove",{node:s,event:U}),Nt=U=>Z("nodecontextmenu",{node:s,event:U});return t.$$set=U=>{"node"in U&&n(0,s=U.node),"id"in U&&n(1,r=U.id),"data"in U&&n(2,a=U.data),"selected"in U&&n(3,u=U.selected),"draggable"in U&&n(4,f=U.draggable),"selectable"in U&&n(5,d=U.selectable),"connectable"in U&&n(6,c=U.connectable),"hidden"in U&&n(7,h=U.hidden),"dragging"in U&&n(8,m=U.dragging),"resizeObserver"in U&&n(34,_=U.resizeObserver),"style"in U&&n(9,b=U.style),"type"in U&&n(35,g=U.type),"isParent"in U&&n(10,E=U.isParent),"positionX"in U&&n(11,N=U.positionX),"positionY"in U&&n(12,k=U.positionY),"positionOriginX"in U&&n(13,M=U.positionOriginX),"positionOriginY"in U&&n(14,z=U.positionOriginY),"sourcePosition"in U&&n(15,P=U.sourcePosition),"targetPosition"in U&&n(16,S=U.targetPosition),"zIndex"in U&&n(17,D=U.zIndex),"computedWidth"in U&&n(36,p=U.computedWidth),"computedHeight"in U&&n(37,y=U.computedHeight),"initialWidth"in U&&n(38,W=U.initialWidth),"initialHeight"in U&&n(39,T=U.initialHeight),"width"in U&&n(18,w=U.width),"height"in U&&n(19,I=U.height),"dragHandle"in U&&n(20,C=U.dragHandle),"initialized"in U&&n(21,V=U.initialized),"class"in U&&n(22,B=U.class)},t.$$.update=()=>{t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(24,i=Rd({width:w,height:I,initialWidth:W,initialHeight:T,computedWidth:p,computedHeight:y})),t.$$.dirty[0]&64&&Ie.set(!!c),t.$$.dirty[0]&8486914|t.$$.dirty[1]&7168&&((Ye&&ae!==Ye||Re&&P!==Re||Be&&S!==Be)&&requestAnimationFrame(()=>le(new Map([[r,{id:r,nodeElement:q,forceUpdate:!0}]]))),n(41,Ye=ae),n(42,Re=P),n(43,Be=S)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&616&&q&&(se?(se!==q||!p&&!y)&&(_==null||_.unobserve(se),_==null||_.observe(q),n(40,se=q)):(_==null||_.observe(q),n(40,se=q)))},[s,r,a,u,f,d,c,h,m,b,E,N,k,M,z,P,S,D,w,I,C,V,B,q,i,l,K,Y,$,ae,ze,Z,Ie,it,_,g,p,y,W,T,se,Ye,Re,Be,et,Pe,st,at,te,Et,Ct,Nt]}class Ld extends ge{constructor(e){super(),me(this,e,Bd,Wd,Sl,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const{Map:Kd}=os;function Wo(t,e,n){var s,r,a,u,f,d;const i=t.slice();i[18]=e[n];const o=kn(i[18]);i[19]=o;const l=ec({x:(a=(r=(s=i[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)!=null?a:0,y:(d=(f=(u=i[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:f.y)!=null?d:0,...i[19],origin:i[18].origin});return i[20]=l,i}function Bo(t,e){var l,s,r,a,u,f,d,c,h,m,_,b,g,E;let n,i,o;return i=new Ld({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:(r=(s=(l=e[18].computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)!=null?r:0,positionY:(f=(u=(a=e[18].computed)==null?void 0:a.positionAbsolute)==null?void 0:u.y)!=null?f:0,positionOriginX:(d=e[20].x)!=null?d:0,positionOriginY:(c=e[20].y)!=null?c:0,isParent:!!((h=e[18][He])!=null&&h.isParent),style:e[18].style,class:e[18].class,type:(m=e[18].type)!=null?m:"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:(b=(_=e[18][He])==null?void 0:_.z)!=null?b:0,dragHandle:e[18].dragHandle,initialized:Qn(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(g=e[18].computed)==null?void 0:g.width,computedHeight:(E=e[18].computed)==null?void 0:E.height,resizeObserver:e[8]}}),i.$on("nodeclick",e[9]),i.$on("nodemouseenter",e[10]),i.$on("nodemousemove",e[11]),i.$on("nodemouseleave",e[12]),i.$on("nodedrag",e[13]),i.$on("nodedragstart",e[14]),i.$on("nodedragstop",e[15]),i.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=ve(),ne(i.$$.fragment),this.h()},l(N){n=ve(),re(i.$$.fragment,N),this.h()},h(){this.first=n},m(N,k){L(N,n,k),ie(i,N,k),o=!0},p(N,k){var z,P,S,D,p,y,W,T,w,I,C,V,B,K;e=N;const M={};k&1&&(M.node=e[18]),k&1&&(M.id=e[18].id),k&1&&(M.data=e[18].data),k&1&&(M.selected=!!e[18].selected),k&1&&(M.hidden=!!e[18].hidden),k&3&&(M.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),k&5&&(M.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),k&9&&(M.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),k&1&&(M.positionX=(S=(P=(z=e[18].computed)==null?void 0:z.positionAbsolute)==null?void 0:P.x)!=null?S:0),k&1&&(M.positionY=(y=(p=(D=e[18].computed)==null?void 0:D.positionAbsolute)==null?void 0:p.y)!=null?y:0),k&1&&(M.positionOriginX=(W=e[20].x)!=null?W:0),k&1&&(M.positionOriginY=(T=e[20].y)!=null?T:0),k&1&&(M.isParent=!!((w=e[18][He])!=null&&w.isParent)),k&1&&(M.style=e[18].style),k&1&&(M.class=e[18].class),k&1&&(M.type=(I=e[18].type)!=null?I:"default"),k&1&&(M.sourcePosition=e[18].sourcePosition),k&1&&(M.targetPosition=e[18].targetPosition),k&1&&(M.dragging=e[18].dragging),k&1&&(M.zIndex=(V=(C=e[18][He])==null?void 0:C.z)!=null?V:0),k&1&&(M.dragHandle=e[18].dragHandle),k&1&&(M.initialized=Qn(e[18])),k&1&&(M.width=e[18].width),k&1&&(M.height=e[18].height),k&1&&(M.initialWidth=e[18].initialWidth),k&1&&(M.initialHeight=e[18].initialHeight),k&1&&(M.computedWidth=(B=e[18].computed)==null?void 0:B.width),k&1&&(M.computedHeight=(K=e[18].computed)==null?void 0:K.height),i.$set(M)},i(N){o||(X(i.$$.fragment,N),o=!0)},o(N){R(i.$$.fragment,N),o=!1},d(N){N&&O(n),oe(i,N)}}}function Fd(t){let e,n=[],i=new Kd,o,l=We(t[0]);const s=r=>r[18].id;for(let r=0;r<l.length;r+=1){let a=Wo(t,l,r),u=s(a);i.set(u,n[r]=Bo(u,a))}return{c(){e=ue("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=fe(r,"DIV",{class:!0});var a=Q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(O),this.h()},h(){v(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(r,a){L(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&271&&(l=We(r[0]),Ae(),n=ei(n,a,s,1,r,l,i,e,$n,Bo,null,Wo),Oe())},i(r){if(!o){for(let a=0;a<l.length;a+=1)X(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)R(n[a]);o=!1},d(r){r&&O(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Zd(t,e,n){let i,o,l,s;const{visibleNodes:r,nodesDraggable:a,nodesConnectable:u,elementsSelectable:f,updateNodeDimensions:d}=pe();J(t,r,M=>n(0,i=M)),J(t,a,M=>n(1,o=M)),J(t,u,M=>n(3,s=M)),J(t,f,M=>n(2,l=M));const c=typeof ResizeObserver>"u"?null:new ResizeObserver(M=>{const z=new Map;M.forEach(P=>{const S=P.target.getAttribute("data-id");z.set(S,{id:S,nodeElement:P.target,forceUpdate:!0})}),d(z)});El(()=>{c==null||c.disconnect()});function h(M){Ce.call(this,t,M)}function m(M){Ce.call(this,t,M)}function _(M){Ce.call(this,t,M)}function b(M){Ce.call(this,t,M)}function g(M){Ce.call(this,t,M)}function E(M){Ce.call(this,t,M)}function N(M){Ce.call(this,t,M)}function k(M){Ce.call(this,t,M)}return[i,o,l,s,r,a,u,f,c,h,m,_,b,g,E,N,k]}class qd extends ge{constructor(e){super(),me(this,e,Zd,Fd,be,{})}}function Lo(t){let e,n,i,o,l,s,r,a;var u=t[25];function f(d,c){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[13],sourceY:d[14],targetX:d[15],targetY:d[16],sourcePosition:d[17],targetPosition:d[18],animated:d[6],selected:d[7],label:d[9],labelStyle:d[10],data:d[3],style:d[4],interactionWidth:d[20],type:d[30],sourceHandleId:d[11],targetHandleId:d[12],markerStart:d[24],markerEnd:d[23]}}}return u&&(i=Xn(u,f(t))),{c(){e=Se("svg"),n=Se("g"),i&&ne(i.$$.fragment),this.h()},l(d){e=Ee(d,"svg",{});var c=Q(e);n=Ee(c,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=Q(n);i&&re(i.$$.fragment,h),h.forEach(O),c.forEach(O),this.h()},h(){v(n,"class",o=Me(["svelte-flow__edge",t[21]])),v(n,"data-id",t[0]),v(n,"aria-label",l=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),v(n,"role","img"),ce(n,"animated",t[6]),ce(n,"selected",t[7]),ce(n,"selectable",t[22]),_e(e,"zIndex",t[5])},m(d,c){L(d,e,c),x(e,n),i&&ie(i,n,null),s=!0,r||(a=[Ne(n,"click",t[31]),Ne(n,"contextmenu",t[32])],r=!0)},p(d,c){if(c[0]&33554432&&u!==(u=d[25])){if(i){Ae();const h=i;R(h.$$.fragment,1,0,()=>{oe(h,1)}),Oe()}u?(i=Xn(u,f(d)),ne(i.$$.fragment),X(i.$$.fragment,1),ie(i,n,null)):i=null}else if(u){const h={};c[0]&1&&(h.id=d[0]),c[0]&2&&(h.source=d[1]),c[0]&4&&(h.target=d[2]),c[0]&8192&&(h.sourceX=d[13]),c[0]&16384&&(h.sourceY=d[14]),c[0]&32768&&(h.targetX=d[15]),c[0]&65536&&(h.targetY=d[16]),c[0]&131072&&(h.sourcePosition=d[17]),c[0]&262144&&(h.targetPosition=d[18]),c[0]&64&&(h.animated=d[6]),c[0]&128&&(h.selected=d[7]),c[0]&512&&(h.label=d[9]),c[0]&1024&&(h.labelStyle=d[10]),c[0]&8&&(h.data=d[3]),c[0]&16&&(h.style=d[4]),c[0]&1048576&&(h.interactionWidth=d[20]),c[0]&2048&&(h.sourceHandleId=d[11]),c[0]&4096&&(h.targetHandleId=d[12]),c[0]&16777216&&(h.markerStart=d[24]),c[0]&8388608&&(h.markerEnd=d[23]),i.$set(h)}(!s||c[0]&2097152&&o!==(o=Me(["svelte-flow__edge",d[21]])))&&v(n,"class",o),(!s||c[0]&1)&&v(n,"data-id",d[0]),(!s||c[0]&524294&&l!==(l=d[19]===null?void 0:d[19]?d[19]:`Edge from ${d[1]} to ${d[2]}`))&&v(n,"aria-label",l),(!s||c[0]&2097216)&&ce(n,"animated",d[6]),(!s||c[0]&2097280)&&ce(n,"selected",d[7]),(!s||c[0]&6291456)&&ce(n,"selectable",d[22]),c[0]&32&&_e(e,"zIndex",d[5])},i(d){s||(i&&X(i.$$.fragment,d),s=!0)},o(d){i&&R(i.$$.fragment,d),s=!1},d(d){d&&O(e),i&&oe(i),r=!1,St(a)}}}function Ud(t){let e,n,i=!t[8]&&Lo(t);return{c(){i&&i.c(),e=ve()},l(o){i&&i.l(o),e=ve()},m(o,l){i&&i.m(o,l),L(o,e,l),n=!0},p(o,l){o[8]?i&&(Ae(),R(i,1,1,()=>{i=null}),Oe()):i?(i.p(o,l),l[0]&256&&X(i,1)):(i=Lo(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function Gd(t,e,n){let i,o,l,s,r,a,u,f,{id:d}=e,{type:c="default"}=e,{source:h=""}=e,{target:m=""}=e,{data:_={}}=e,{style:b=void 0}=e,{zIndex:g=void 0}=e,{animated:E=!1}=e,{selected:N=!1}=e,{selectable:k=void 0}=e,{hidden:M=!1}=e,{label:z=void 0}=e,{labelStyle:P=void 0}=e,{markerStart:S=void 0}=e,{markerEnd:D=void 0}=e,{sourceHandle:p=void 0}=e,{targetHandle:y=void 0}=e,{sourceX:W}=e,{sourceY:T}=e,{targetX:w}=e,{targetY:I}=e,{sourcePosition:C}=e,{targetPosition:V}=e,{ariaLabel:B=void 0}=e,{interactionWidth:K=void 0}=e,{class:Y=""}=e;Vn("svelteflow__edge_id",d);const{edgeLookup:F,edgeTypes:H,flowId:$,elementsSelectable:le}=pe();J(t,F,Z=>n(40,r=Z)),J(t,H,Z=>n(39,f=Z)),J(t,$,Z=>n(38,u=Z)),J(t,le,Z=>n(37,a=Z));const ae=mn(),q=c||"default",se=kr();function ke(Z){const Ie=r.get(d);Ie&&(se(d),ae("edgeclick",{event:Z,edge:Ie}))}function ze(Z){const Ie=r.get(d);Ie&&ae("edgecontextmenu",{event:Z,edge:Ie})}return t.$$set=Z=>{"id"in Z&&n(0,d=Z.id),"type"in Z&&n(33,c=Z.type),"source"in Z&&n(1,h=Z.source),"target"in Z&&n(2,m=Z.target),"data"in Z&&n(3,_=Z.data),"style"in Z&&n(4,b=Z.style),"zIndex"in Z&&n(5,g=Z.zIndex),"animated"in Z&&n(6,E=Z.animated),"selected"in Z&&n(7,N=Z.selected),"selectable"in Z&&n(34,k=Z.selectable),"hidden"in Z&&n(8,M=Z.hidden),"label"in Z&&n(9,z=Z.label),"labelStyle"in Z&&n(10,P=Z.labelStyle),"markerStart"in Z&&n(35,S=Z.markerStart),"markerEnd"in Z&&n(36,D=Z.markerEnd),"sourceHandle"in Z&&n(11,p=Z.sourceHandle),"targetHandle"in Z&&n(12,y=Z.targetHandle),"sourceX"in Z&&n(13,W=Z.sourceX),"sourceY"in Z&&n(14,T=Z.sourceY),"targetX"in Z&&n(15,w=Z.targetX),"targetY"in Z&&n(16,I=Z.targetY),"sourcePosition"in Z&&n(17,C=Z.sourcePosition),"targetPosition"in Z&&n(18,V=Z.targetPosition),"ariaLabel"in Z&&n(19,B=Z.ariaLabel),"interactionWidth"in Z&&n(20,K=Z.interactionWidth),"class"in Z&&n(21,Y=Z.class)},t.$$.update=()=>{t.$$.dirty[1]&256&&n(25,i=f[q]||vr),t.$$.dirty[1]&144&&n(24,o=S?`url(#${Di(S,u)})`:void 0),t.$$.dirty[1]&160&&n(23,l=D?`url(#${Di(D,u)})`:void 0),t.$$.dirty[1]&72&&n(22,s=k||a&&typeof k>"u")},[d,h,m,_,b,g,E,N,M,z,P,p,y,W,T,w,I,C,V,B,K,Y,s,l,o,i,F,H,$,le,q,ke,ze,c,k,S,D,a,u,f]}class Jd extends ge{constructor(e){super(),me(this,e,Gd,Ud,Sl,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}function Qd(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return gn(()=>(i==null||i(),o)),t.$$set=l=>{"onMount"in l&&n(0,i=l.onMount),"onDestroy"in l&&n(1,o=l.onDestroy)},[i,o]}class jd extends ge{constructor(e){super(),me(this,e,Qd,null,be,{onMount:0,onDestroy:1})}}function Ko(t,e,n){const i=t.slice();return i[2]=e[n],i}function Fo(t,e){let n,i,o;const l=[e[2]];let s={};for(let r=0;r<l.length;r+=1)s=Ze(s,l[r]);return i=new lh({props:s}),{key:t,first:null,c(){n=ve(),ne(i.$$.fragment),this.h()},l(r){n=ve(),re(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,a){L(r,n,a),ie(i,r,a),o=!0},p(r,a){e=r;const u=a&1?kt(l,[qt(e[2])]):{};i.$set(u)},i(r){o||(X(i.$$.fragment,r),o=!0)},o(r){R(i.$$.fragment,r),o=!1},d(r){r&&O(n),oe(i,r)}}}function xd(t){let e,n=[],i=new Map,o,l=We(t[0]);const s=r=>r[2].id;for(let r=0;r<l.length;r+=1){let a=Ko(t,l,r),u=s(a);i.set(u,n[r]=Fo(u,a))}return{c(){e=Se("defs");for(let r=0;r<n.length;r+=1)n[r].c()},l(r){e=Ee(r,"defs",{});var a=Q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(O)},m(r,a){L(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&1&&(l=We(r[0]),Ae(),n=ei(n,a,s,1,r,l,i,e,$n,Fo,null,Ko),Oe())},i(r){if(!o){for(let a=0;a<l.length;a+=1)X(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)R(n[a]);o=!1},d(r){r&&O(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function $d(t,e,n){let i;const{markers:o}=pe();return J(t,o,l=>n(0,i=l)),[i,o]}class eh extends ge{constructor(e){super(),me(this,e,$d,xd,be,{})}}function th(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),Q(e).forEach(O),this.h()},h(){v(e,"stroke",t[6]),v(e,"stroke-linecap","round"),v(e,"stroke-linejoin","round"),v(e,"stroke-width",t[7]),v(e,"fill",t[6]),v(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){L(n,e,i)},p(n,i){i&64&&v(e,"stroke",n[6]),i&128&&v(e,"stroke-width",n[7]),i&64&&v(e,"fill",n[6])},d(n){n&&O(e)}}}function nh(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),Q(e).forEach(O),this.h()},h(){v(e,"stroke",t[6]),v(e,"stroke-linecap","round"),v(e,"stroke-linejoin","round"),v(e,"stroke-width",t[7]),v(e,"fill","none"),v(e,"points","-5,-4 0,0 -5,4")},m(n,i){L(n,e,i)},p(n,i){i&64&&v(e,"stroke",n[6]),i&128&&v(e,"stroke-width",n[7])},d(n){n&&O(e)}}}function ih(t){let e,n,i;function o(r,a){if(r[1]===Un.Arrow)return nh;if(r[1]===Un.ArrowClosed)return th}let l=o(t),s=l&&l(t);return{c(){e=Se("marker"),s&&s.c(),this.h()},l(r){e=Ee(r,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=Q(e);s&&s.l(a),a.forEach(O),this.h()},h(){v(e,"class","svelte-flow__arrowhead"),v(e,"id",t[0]),v(e,"markerWidth",n=`${t[2]}`),v(e,"markerHeight",i=`${t[3]}`),v(e,"viewBox","-10 -10 20 20"),v(e,"markerUnits",t[4]),v(e,"orient",t[5]),v(e,"refX","0"),v(e,"refY","0")},m(r,a){L(r,e,a),s&&s.m(e,null)},p(r,[a]){l===(l=o(r))&&s?s.p(r,a):(s&&s.d(1),s=l&&l(r),s&&(s.c(),s.m(e,null))),a&1&&v(e,"id",r[0]),a&4&&n!==(n=`${r[2]}`)&&v(e,"markerWidth",n),a&8&&i!==(i=`${r[3]}`)&&v(e,"markerHeight",i),a&16&&v(e,"markerUnits",r[4]),a&32&&v(e,"orient",r[5])},i:we,o:we,d(r){r&&O(e),s&&s.d()}}}function oh(t,e,n){let{id:i}=e,{type:o}=e,{width:l=12.5}=e,{height:s=12.5}=e,{markerUnits:r="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,l=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,r=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,f=d.strokeWidth)},[i,o,l,s,r,a,u,f]}class lh extends ge{constructor(e){super(),me(this,e,oh,ih,be,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Zo(t,e,n){const i=t.slice();return i[10]=e[n],i}function qo(t,e){let n,i,o;return i=new Jd({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),i.$on("edgeclick",e[5]),i.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=ve(),ne(i.$$.fragment),this.h()},l(l){n=ve(),re(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,s){L(l,n,s),ie(i,l,s),o=!0},p(l,s){e=l;const r={};s&1&&(r.id=e[10].id),s&1&&(r.source=e[10].source),s&1&&(r.target=e[10].target),s&1&&(r.data=e[10].data),s&1&&(r.style=e[10].style),s&1&&(r.animated=e[10].animated),s&1&&(r.selected=e[10].selected),s&1&&(r.selectable=e[10].selectable),s&1&&(r.hidden=e[10].hidden),s&1&&(r.label=e[10].label),s&1&&(r.labelStyle=e[10].labelStyle),s&1&&(r.markerStart=e[10].markerStart),s&1&&(r.markerEnd=e[10].markerEnd),s&1&&(r.sourceHandle=e[10].sourceHandle),s&1&&(r.targetHandle=e[10].targetHandle),s&1&&(r.sourceX=e[10].sourceX),s&1&&(r.sourceY=e[10].sourceY),s&1&&(r.targetX=e[10].targetX),s&1&&(r.targetY=e[10].targetY),s&1&&(r.sourcePosition=e[10].sourcePosition),s&1&&(r.targetPosition=e[10].targetPosition),s&1&&(r.ariaLabel=e[10].ariaLabel),s&1&&(r.interactionWidth=e[10].interactionWidth),s&1&&(r.class=e[10].class),s&1&&(r.type=e[10].type||"default"),s&1&&(r.zIndex=e[10].zIndex),i.$set(r)},i(l){o||(X(i.$$.fragment,l),o=!0)},o(l){R(i.$$.fragment,l),o=!1},d(l){l&&O(n),oe(i,l)}}}function Uo(t){let e,n;return e=new jd({props:{onMount:t[7],onDestroy:t[8]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.onMount=i[7]),o&2&&(l.onDestroy=i[8]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function rh(t){let e,n,i,o,l=[],s=new Map,r,a;i=new eh({});let u=We(t[0]);const f=c=>c[10].id;for(let c=0;c<u.length;c+=1){let h=Zo(t,u,c),m=f(h);s.set(m,l[c]=qo(m,h))}let d=t[0].length>0&&Uo(t);return{c(){e=ue("div"),n=Se("svg"),ne(i.$$.fragment),o=de();for(let c=0;c<l.length;c+=1)l[c].c();r=de(),d&&d.c(),this.h()},l(c){e=fe(c,"DIV",{class:!0});var h=Q(e);n=Ee(h,"svg",{class:!0});var m=Q(n);re(i.$$.fragment,m),m.forEach(O),o=he(h);for(let _=0;_<l.length;_+=1)l[_].l(h);r=he(h),d&&d.l(h),h.forEach(O),this.h()},h(){v(n,"class","svelte-flow__marker"),v(e,"class","svelte-flow__edges")},m(c,h){L(c,e,h),x(e,n),ie(i,n,null),x(e,o);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);x(e,r),d&&d.m(e,null),a=!0},p(c,[h]){h&1&&(u=We(c[0]),Ae(),l=ei(l,h,f,1,c,u,s,e,$n,qo,r,Zo),Oe()),c[0].length>0?d?(d.p(c,h),h&1&&X(d,1)):(d=Uo(c),d.c(),X(d,1),d.m(e,null)):d&&(Ae(),R(d,1,1,()=>{d=null}),Oe())},i(c){if(!a){X(i.$$.fragment,c);for(let h=0;h<u.length;h+=1)X(l[h]);X(d),a=!0}},o(c){R(i.$$.fragment,c);for(let h=0;h<l.length;h+=1)R(l[h]);R(d),a=!1},d(c){c&&O(e),oe(i);for(let h=0;h<l.length;h+=1)l[h].d();d&&d.d()}}}function sh(t,e,n){let i,o,{defaultEdgeOptions:l}=e;const{visibleEdges:s,edgesInitialized:r,edges:{setDefaultOptions:a}}=pe();J(t,s,h=>n(0,i=h)),J(t,r,h=>n(1,o=h)),gn(()=>{l&&a(l)});function u(h){Ce.call(this,t,h)}function f(h){Ce.call(this,t,h)}const d=()=>{Ei(r,o=!0,o)},c=()=>{Ei(r,o=!1,o)};return t.$$set=h=>{"defaultEdgeOptions"in h&&n(4,l=h.defaultEdgeOptions)},[i,o,s,r,l,u,f,d,c]}class ah extends ge{constructor(e){super(),me(this,e,sh,rh,be,{defaultEdgeOptions:4})}}function Go(t){let e;return{c(){e=ue("div"),this.h()},l(n){e=fe(n,"DIV",{class:!0}),Q(e).forEach(O),this.h()},h(){v(e,"class","svelte-flow__selection svelte-1iugwpu"),_e(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),_e(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),_e(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){L(n,e,i)},p(n,i){i&4&&_e(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&_e(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&_e(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&O(e)}}}function uh(t){let e,n=t[4]&&Go(t);return{c(){n&&n.c(),e=ve()},l(i){n&&n.l(i),e=ve()},m(i,o){n&&n.m(i,o),L(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Go(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:we,o:we,d(i){i&&O(e),n&&n.d(i)}}}function fh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:l=0}=e,{height:s=0}=e,{isVisible:r=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,l=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,r=a.isVisible)},[i,o,l,s,r]}class Mr extends ge{constructor(e){super(),me(this,e,fh,uh,be,{x:0,y:1,width:2,height:3,isVisible:4})}}function ch(t){var i,o,l,s;let e,n;return e=new Mr({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(l=t[0])==null?void 0:l.x,y:(s=t[0])==null?void 0:s.y}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,a){ie(e,r,a),n=!0},p(r,[a]){var f,d,c,h;const u={};a&3&&(u.isVisible=!!(r[0]&&r[1]==="user")),a&1&&(u.width=(f=r[0])==null?void 0:f.width),a&1&&(u.height=(d=r[0])==null?void 0:d.height),a&1&&(u.x=(c=r[0])==null?void 0:c.x),a&1&&(u.y=(h=r[0])==null?void 0:h.y),e.$set(u)},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function dh(t,e,n){let i,o;const{selectionRect:l,selectionRectMode:s}=pe();return J(t,l,r=>n(0,i=r)),J(t,s,r=>n(1,o=r)),[i,o,l,s]}class hh extends ge{constructor(e){super(),me(this,e,dh,ch,be,{})}}function Jo(t){let e,n,i,o,l;return n=new Mr({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=ue("div"),ne(n.$$.fragment),this.h()},l(s){e=fe(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var r=Q(e);re(n.$$.fragment,r),r.forEach(O),this.h()},h(){v(e,"class","selection-wrapper nopan svelte-5pxri"),_e(e,"width",t[1].width+"px"),_e(e,"height",t[1].height+"px"),_e(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),v(e,"role","button"),v(e,"tabindex","-1")},m(s,r){L(s,e,r),ie(n,e,null),i=!0,o||(l=[Ke(zr.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),Ne(e,"contextmenu",t[7]),Ne(e,"click",t[8]),Ne(e,"keyup",mh)],o=!0)},p(s,r){(!i||r&2)&&_e(e,"width",s[1].width+"px"),(!i||r&2)&&_e(e,"height",s[1].height+"px"),(!i||r&2)&&_e(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(X(n.$$.fragment,s),i=!0)},o(s){R(n.$$.fragment,s),i=!1},d(s){s&&O(e),oe(n),o=!1,St(l)}}}function gh(t){let e,n,i=t[0]&&t[2]==="nodes"&&Jo(t);return{c(){i&&i.c(),e=ve()},l(o){i&&i.l(o),e=ve()},m(o,l){i&&i.m(o,l),L(o,e,l),n=!0},p(o,[l]){o[0]&&o[2]==="nodes"?i?(i.p(o,l),l&5&&X(i,1)):(i=Jo(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(Ae(),R(i,1,1,()=>{i=null}),Oe())},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}const mh=()=>{};function _h(t,e,n){let i,o,l,s;const r=pe(),{selectionRectMode:a,nodes:u}=r;J(t,a,g=>n(2,s=g)),J(t,u,g=>n(9,l=g));const f=mn(),d=Nr();function c(g){f("selectioncontextmenu",{nodes:i,event:g})}function h(g){f("selectionclick",{nodes:i,event:g})}const m=(g,E,N,k)=>{d("nodedrag",{event:g,targetNode:null,nodes:k})},_=(g,E,N,k)=>{d("nodedragstart",{event:g,targetNode:null,nodes:k})},b=(g,E,N,k)=>{d("nodedragstop",{event:g,targetNode:null,nodes:k})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,i=l.filter(g=>g.selected)),t.$$.dirty&1&&n(1,o=wn(i))},[i,o,s,r,a,u,d,c,h,l,m,_,b]}class bh extends ge{constructor(e){super(),me(this,e,_h,gh,be,{})}}function ut(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function l(s){const r=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of r){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:c,callback:h,preventDefault:m,enabled:_}=f;if(_){if(d.length&&!(Array.isArray(d)?d:[d]).map(E=>typeof E=="string"?[E]:E).some(E=>E.every(N=>a[N])))continue;if(s.key===c){m&&s.preventDefault();const b={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:b})),h==null||h(b)}}}}return n&&t.addEventListener(o,l),{update:s=>{const{enabled:r=!0,type:a="keydown"}=s;n&&(!r||o!==a)?t.removeEventListener(o,l):!n&&r&&t.addEventListener(a,l),n=r,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,l)}}}function yh(t){let e,n,i,o,l,s,r,a,u,f,d,c;return{c:we,l:we,m(h,m){d||(c=[Ke(e=ut.call(null,window,{trigger:[{...t[4],enabled:t[4].key!==null,callback:t[15]}],type:"keydown"})),Ke(n=ut.call(null,window,{trigger:[{...t[4],enabled:t[4].key!==null,callback:t[16]}],type:"keyup"})),Ke(i=ut.call(null,window,{trigger:[{...t[3],enabled:t[3].key!==null,callback:t[17]}],type:"keydown"})),Ke(o=ut.call(null,window,{trigger:[{...t[3],enabled:t[3].key!==null,callback:t[18]}],type:"keyup"})),Ke(l=ut.call(null,window,{trigger:[{...t[2],enabled:t[2].key!==null,callback:t[19]}],type:"keydown"})),Ke(s=ut.call(null,window,{trigger:[{...t[2],enabled:t[2].key!==null,callback:t[20]}],type:"keyup"})),Ke(r=ut.call(null,window,{trigger:[{...t[1],enabled:t[1].key!==null,callback:t[21]}],type:"keydown"})),Ke(a=ut.call(null,window,{trigger:[{...t[1],enabled:t[1].key!==null,callback:t[22]}],type:"keyup"})),Ke(u=ut.call(null,window,{trigger:[{...t[0],enabled:t[0].key!==null,callback:t[23]}],type:"keydown"})),Ke(f=ut.call(null,window,{trigger:[{...t[0],enabled:t[0].key!==null,callback:t[24]}],type:"keyup"}))],d=!0)},p(h,[m]){e&&De(e.update)&&m&16&&e.update.call(null,{trigger:[{...h[4],enabled:h[4].key!==null,callback:h[15]}],type:"keydown"}),n&&De(n.update)&&m&16&&n.update.call(null,{trigger:[{...h[4],enabled:h[4].key!==null,callback:h[16]}],type:"keyup"}),i&&De(i.update)&&m&8&&i.update.call(null,{trigger:[{...h[3],enabled:h[3].key!==null,callback:h[17]}],type:"keydown"}),o&&De(o.update)&&m&8&&o.update.call(null,{trigger:[{...h[3],enabled:h[3].key!==null,callback:h[18]}],type:"keyup"}),l&&De(l.update)&&m&4&&l.update.call(null,{trigger:[{...h[2],enabled:h[2].key!==null,callback:h[19]}],type:"keydown"}),s&&De(s.update)&&m&4&&s.update.call(null,{trigger:[{...h[2],enabled:h[2].key!==null,callback:h[20]}],type:"keyup"}),r&&De(r.update)&&m&2&&r.update.call(null,{trigger:[{...h[1],enabled:h[1].key!==null,callback:h[21]}],type:"keydown"}),a&&De(a.update)&&m&2&&a.update.call(null,{trigger:[{...h[1],enabled:h[1].key!==null,callback:h[22]}],type:"keyup"}),u&&De(u.update)&&m&1&&u.update.call(null,{trigger:[{...h[0],enabled:h[0].key!==null,callback:h[23]}],type:"keydown"}),f&&De(f.update)&&m&1&&f.update.call(null,{trigger:[{...h[0],enabled:h[0].key!==null,callback:h[24]}],type:"keyup"})},i:we,o:we,d(h){d=!1,St(c)}}}function Pr(t){return t!==null&&typeof t=="object"}function on(t){return Pr(t)?t.modifier||[]:[]}function ln(t){return t==null?"":Pr(t)?t.key:t}function wh(t,e,n){let i,o,l,s,r,{selectionKey:a="Shift"}=e,{multiSelectionKey:u=Jn()?"Meta":"Control"}=e,{deleteKey:f="Backspace"}=e,{panActivationKey:d=" "}=e,{zoomActivationKey:c=Jn()?"Meta":"Control"}=e;const{selectionKeyPressed:h,multiselectionKeyPressed:m,deleteKeyPressed:_,panActivationKeyPressed:b,zoomActivationKeyPressed:g}=pe(),E=()=>h.set(!0),N=()=>h.set(!1),k=()=>m.set(!0),M=()=>m.set(!1),z=W=>{!(W.originalEvent.ctrlKey||W.originalEvent.metaKey||W.originalEvent.shiftKey)&&!oc(W.originalEvent)&&_.set(!0)},P=()=>_.set(!1),S=()=>b.set(!0),D=()=>b.set(!1),p=()=>g.set(!0),y=()=>g.set(!1);return t.$$set=W=>{"selectionKey"in W&&n(10,a=W.selectionKey),"multiSelectionKey"in W&&n(11,u=W.multiSelectionKey),"deleteKey"in W&&n(12,f=W.deleteKey),"panActivationKey"in W&&n(13,d=W.panActivationKey),"zoomActivationKey"in W&&n(14,c=W.zoomActivationKey)},t.$$.update=()=>{t.$$.dirty&1024&&n(4,i={key:ln(a),modifier:on(a)}),t.$$.dirty&2048&&n(3,o={key:ln(u),modifier:on(u)}),t.$$.dirty&4096&&n(2,l={key:ln(f),modifier:on(f)}),t.$$.dirty&8192&&n(1,s={key:ln(d),modifier:on(d)}),t.$$.dirty&16384&&n(0,r={key:ln(c),modifier:on(c)})},[r,s,l,o,i,h,m,_,b,g,a,u,f,d,c,E,N,k,M,z,P,S,D,p,y]}class kh extends ge{constructor(e){super(),me(this,e,wh,yh,be,{selectionKey:10,multiSelectionKey:11,deleteKey:12,panActivationKey:13,zoomActivationKey:14})}}const vh=t=>({}),Qo=t=>({});function jo(t){let e,n,i,o;const l=t[10].connectionLine,s=Ge(l,t,t[9],Qo);let r=!t[2]&&xo(t);return{c(){e=Se("svg"),n=Se("g"),s&&s.c(),r&&r.c(),this.h()},l(a){e=Ee(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=Q(e);n=Ee(u,"g",{class:!0});var f=Q(n);s&&s.l(f),r&&r.l(f),f.forEach(O),u.forEach(O),this.h()},h(){v(n,"class",i=Me(["svelte-flow__connection",t[3].status])),v(e,"width",t[4]),v(e,"height",t[5]),v(e,"class","svelte-flow__connectionline"),v(e,"style",t[0])},m(a,u){L(a,e,u),x(e,n),s&&s.m(n,null),r&&r.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&512)&&Je(s,l,a,a[9],o?je(l,a[9],u,vh):Qe(a[9]),Qo),a[2]?r&&(r.d(1),r=null):r?r.p(a,u):(r=xo(a),r.c(),r.m(n,null)),(!o||u&8&&i!==(i=Me(["svelte-flow__connection",a[3].status])))&&v(n,"class",i),(!o||u&16)&&v(e,"width",a[4]),(!o||u&32)&&v(e,"height",a[5]),(!o||u&1)&&v(e,"style",a[0])},i(a){o||(X(s,a),o=!0)},o(a){R(s,a),o=!1},d(a){a&&O(e),s&&s.d(a),r&&r.d()}}}function xo(t){let e,n;return{c(){e=Se("path"),this.h()},l(i){e=Ee(i,"path",{d:!0,style:!0,fill:!0,class:!0}),Q(e).forEach(O),this.h()},h(){v(e,"d",n=t[3].path),v(e,"style",t[1]),v(e,"fill","none"),v(e,"class","svelte-flow__connection-path")},m(i,o){L(i,e,o)},p(i,o){o&8&&n!==(n=i[3].path)&&v(e,"d",n),o&2&&v(e,"style",i[1])},d(i){i&&O(e)}}}function Sh(t){let e,n,i=t[3].path&&jo(t);return{c(){i&&i.c(),e=ve()},l(o){i&&i.l(o),e=ve()},m(o,l){i&&i.m(o,l),L(o,e,l),n=!0},p(o,[l]){o[3].path?i?(i.p(o,l),l&8&&X(i,1)):(i=jo(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(Ae(),R(i,1,1,()=>{i=null}),Oe())},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function Eh(t,e,n){let i,o,l,{$$slots:s={},$$scope:r}=e,{containerStyle:a=""}=e,{style:u=""}=e,{isCustomComponent:f=!1}=e;const{width:d,height:c,connection:h}=pe();return J(t,d,m=>n(4,o=m)),J(t,c,m=>n(5,l=m)),J(t,h,m=>n(3,i=m)),t.$$set=m=>{"containerStyle"in m&&n(0,a=m.containerStyle),"style"in m&&n(1,u=m.style),"isCustomComponent"in m&&n(2,f=m.isCustomComponent),"$$scope"in m&&n(9,r=m.$$scope)},[a,u,f,i,o,l,d,c,h,r,s]}class Ch extends ge{constructor(e){super(),me(this,e,Eh,Sh,be,{containerStyle:0,style:1,isCustomComponent:2})}}function zh(t){let e,n,i;const o=t[6].default,l=Ge(o,t,t[5],null);let s=[{class:n=Me(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],r={};for(let a=0;a<s.length;a+=1)r=Ze(r,s[a]);return{c(){e=ue("div"),l&&l.c(),this.h()},l(a){e=fe(a,"DIV",{class:!0,style:!0});var u=Q(e);l&&l.l(u),u.forEach(O),this.h()},h(){Kt(e,r)},m(a,u){L(a,e,u),l&&l.m(e,null),i=!0},p(a,[u]){l&&l.p&&(!i||u&32)&&Je(l,o,a,a[5],i?je(o,a[5],u,null):Qe(a[5]),null),Kt(e,r=kt(s,[(!i||u&6&&n!==(n=Me(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&8&&a[3]]))},i(a){i||(X(l,a),i=!0)},o(a){R(l,a),i=!1},d(a){a&&O(e),l&&l.d(a)}}}function Mh(t,e,n){let i;const o=["position","style","class"];let l=Ft(e,o),{$$slots:s={},$$scope:r}=e,{position:a="top-right"}=e,{style:u=void 0}=e,{class:f=void 0}=e;return t.$$set=d=>{e=Ze(Ze({},e),Ti(d)),n(3,l=Ft(e,o)),"position"in d&&n(4,a=d.position),"style"in d&&n(0,u=d.style),"class"in d&&n(1,f=d.class),"$$scope"in d&&n(5,r=d.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,i=`${a}`.split("-"))},[u,f,i,l,a,r,s]}class Ji extends ge{constructor(e){super(),me(this,e,Mh,zh,be,{position:4,style:0,class:1})}}function $o(t){let e,n;return e=new Ji({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Ph]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.position=i[1]),o&4&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ph(t){let e,n="Svelte Flow";return{c(){e=ue("a"),e.textContent=n,this.h()},l(i){e=fe(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),Dt(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){v(e,"href","https://svelteflow.dev"),v(e,"target","_blank"),v(e,"rel","noopener noreferrer"),v(e,"aria-label","Svelte Flow attribution")},m(i,o){L(i,e,o)},p:we,d(i){i&&O(e)}}}function Nh(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&$o(t);return{c(){i&&i.c(),e=ve()},l(l){i&&i.l(l),e=ve()},m(l,s){i&&i.m(l,s),L(l,e,s),n=!0},p(l,[s]){var r;(r=l[0])!=null&&r.hideAttribution?i&&(Ae(),R(i,1,1,()=>{i=null}),Oe()):i?(i.p(l,s),s&1&&X(i,1)):(i=$o(l),i.c(),X(i,1),i.m(e.parentNode,e))},i(l){n||(X(i),n=!0)},o(l){R(i),n=!1},d(l){l&&O(e),i&&i.d(l)}}}function Hh(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=l=>{"proOptions"in l&&n(0,i=l.proOptions),"position"in l&&n(1,o=l.position)},[i,o]}class Ah extends ge{constructor(e){super(),me(this,e,Hh,Nh,be,{proOptions:0,position:1})}}function el(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:l}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),l!==void 0&&t.setTranslateExtent(l)}const Oh=t=>Object.keys(t);function Ih(t,e){Oh(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Dh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Th(t="light"){return ft("light",n=>{if(t!=="system"){n(t);return}const i=Dh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const ph=t=>({}),tl=t=>({slot:"connectionLine"});function Vh(t){let e;const n=t[70].connectionLine,i=Ge(n,t,t[92],tl);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l[2]&1073741824)&&Je(i,n,o,o[92],e?je(n,o[92],l,ph):Qe(o[92]),tl)},i(o){e||(X(i,o),e=!0)},o(o){R(i,o),e=!1},d(o){i&&i.d(o)}}}function Xh(t){let e,n,i,o,l,s,r,a,u,f,d,c;return e=new ah({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),i=new Ch({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[Vh]},$$scope:{ctx:t}}}),u=new qd({}),u.$on("nodeclick",t[75]),u.$on("nodemouseenter",t[76]),u.$on("nodemousemove",t[77]),u.$on("nodemouseleave",t[78]),u.$on("nodedragstart",t[79]),u.$on("nodedrag",t[80]),u.$on("nodedragstop",t[81]),u.$on("nodecontextmenu",t[82]),d=new bh({}),d.$on("selectionclick",t[83]),d.$on("selectioncontextmenu",t[84]),d.$on("nodedragstart",t[85]),d.$on("nodedrag",t[86]),d.$on("nodedragstop",t[87]),{c(){ne(e.$$.fragment),n=de(),ne(i.$$.fragment),o=de(),l=ue("div"),s=de(),r=ue("div"),a=de(),ne(u.$$.fragment),f=de(),ne(d.$$.fragment),this.h()},l(h){re(e.$$.fragment,h),n=he(h),re(i.$$.fragment,h),o=he(h),l=fe(h,"DIV",{class:!0}),Q(l).forEach(O),s=he(h),r=fe(h,"DIV",{class:!0}),Q(r).forEach(O),a=he(h),re(u.$$.fragment,h),f=he(h),re(d.$$.fragment,h),this.h()},h(){v(l,"class","svelte-flow__edgelabel-renderer"),v(r,"class","svelte-flow__viewport-portal")},m(h,m){ie(e,h,m),L(h,n,m),ie(i,h,m),L(h,o,m),L(h,l,m),L(h,s,m),L(h,r,m),L(h,a,m),ie(u,h,m),L(h,f,m),ie(d,h,m),c=!0},p(h,m){const _={};m[0]&2097152&&(_.defaultEdgeOptions=h[21]),e.$set(_);const b={};m[0]&128&&(b.containerStyle=h[7]),m[0]&64&&(b.style=h[6]),m[1]&1&&(b.isCustomComponent=h[31].connectionLine),m[2]&1073741824&&(b.$$scope={dirty:m,ctx:h}),i.$set(b)},i(h){c||(X(e.$$.fragment,h),X(i.$$.fragment,h),X(u.$$.fragment,h),X(d.$$.fragment,h),c=!0)},o(h){R(e.$$.fragment,h),R(i.$$.fragment,h),R(u.$$.fragment,h),R(d.$$.fragment,h),c=!1},d(h){h&&(O(n),O(o),O(l),O(s),O(r),O(a),O(f)),oe(e,h),oe(i,h),oe(u,h),oe(d,h)}}}function Yh(t){let e,n,i,o;return e=new Yd({props:{$$slots:{default:[Xh]},$$scope:{ctx:t}}}),i=new hh({}),{c(){ne(e.$$.fragment),n=de(),ne(i.$$.fragment)},l(l){re(e.$$.fragment,l),n=he(l),re(i.$$.fragment,l)},m(l,s){ie(e,l,s),L(l,n,s),ie(i,l,s),o=!0},p(l,s){const r={};s[0]&2097344|s[1]&1|s[2]&1073741824&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){o||(X(e.$$.fragment,l),X(i.$$.fragment,l),o=!0)},o(l){R(e.$$.fragment,l),R(i.$$.fragment,l),o=!1},d(l){l&&O(n),oe(e,l),oe(i,l)}}}function Rh(t){let e,n;return e=new pd({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[Yh]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o[0]&131072&&(l.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(l.selectionOnDrag=i[18]),o[0]&2097344|o[1]&1|o[2]&1073741824&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Wh(t){let e,n,i,o,l,s,r,a,u,f,d,c;n=new kh({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new Id({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?dt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[Rh]},$$scope:{ctx:t}}}),s=new Ah({props:{proOptions:t[20],position:t[19]}});const h=t[70].default,m=Ge(h,t,t[92],null);let _=[{style:t[22]},{class:a=Me(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],b={};for(let g=0;g<_.length;g+=1)b=Ze(b,_[g]);return{c(){e=ue("div"),ne(n.$$.fragment),i=de(),ne(o.$$.fragment),l=de(),ne(s.$$.fragment),r=de(),m&&m.c(),this.h()},l(g){e=fe(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var E=Q(e);re(n.$$.fragment,E),i=he(E),re(o.$$.fragment,E),l=he(E),re(s.$$.fragment,E),r=he(E),m&&m.l(E),E.forEach(O),this.h()},h(){Kt(e,b),xr(()=>t[91].call(e)),ce(e,"svelte-12wlba6",!0)},m(g,E){L(g,e,E),ie(n,e,null),x(e,i),ie(o,e,null),x(e,l),ie(s,e,null),x(e,r),m&&m.m(e,null),t[90](e),u=$r(e,t[91].bind(e)),f=!0,d||(c=[Ne(e,"dragover",t[71]),Ne(e,"drop",t[72])],d=!0)},p(g,E){const N={};E[0]&2&&(N.selectionKey=g[1]),E[0]&32&&(N.deleteKey=g[5]),E[0]&4&&(N.panActivationKey=g[2]),E[0]&8&&(N.multiSelectionKey=g[3]),E[0]&16&&(N.zoomActivationKey=g[4]),n.$set(N);const k={};E[0]&1&&(k.initialViewport=g[0]),E[0]&256&&(k.onMoveStart=g[8]),E[0]&512&&(k.onMove=g[9]),E[0]&1024&&(k.onMoveEnd=g[10]),E[0]&2048&&(k.panOnScrollMode=g[11]===void 0?dt.Free:g[11]),E[0]&4096&&(k.preventScrolling=g[12]===void 0?!0:g[12]),E[0]&8192&&(k.zoomOnScroll=g[13]===void 0?!0:g[13]),E[0]&16384&&(k.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),E[0]&32768&&(k.zoomOnPinch=g[15]===void 0?!0:g[15]),E[0]&65536&&(k.panOnScroll=g[16]===void 0?!1:g[16]),E[0]&131072&&(k.panOnDrag=g[17]===void 0?!0:g[17]),E[0]&2490560|E[1]&1|E[2]&1073741824&&(k.$$scope={dirty:E,ctx:g}),o.$set(k);const M={};E[0]&1048576&&(M.proOptions=g[20]),E[0]&524288&&(M.position=g[19]),s.$set(M),m&&m.p&&(!f||E[2]&1073741824)&&Je(m,h,g,g[92],f?je(h,g[92],E,null):Qe(g[92]),null),Kt(e,b=kt(_,[(!f||E[0]&4194304)&&{style:g[22]},(!f||E[0]&276824064&&a!==(a=Me(["svelte-flow",g[23],g[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},E[0]&1073741824&&g[30],{role:"application"}])),ce(e,"svelte-12wlba6",!0)},i(g){f||(X(n.$$.fragment,g),X(o.$$.fragment,g),X(s.$$.fragment,g),X(m,g),f=!0)},o(g){R(n.$$.fragment,g),R(o.$$.fragment,g),R(s.$$.fragment,g),R(m,g),f=!1},d(g){g&&O(e),oe(n),oe(o),oe(s),m&&m.d(g),t[90](null),u(),d=!1,St(c)}}}function Bh(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let l=Ft(e,o),s,r,a=we,u=()=>(a(),a=ns(i,A=>n(28,r=A)),i);t.$$.on_destroy.push(()=>a());let{$$slots:f={},$$scope:d}=e;const c=es(f);let{id:h="1"}=e,{nodes:m}=e,{edges:_}=e,{fitView:b=void 0}=e,{fitViewOptions:g=void 0}=e,{minZoom:E=void 0}=e,{maxZoom:N=void 0}=e,{initialViewport:k={x:0,y:0,zoom:1}}=e,{viewport:M=void 0}=e,{nodeTypes:z=void 0}=e,{edgeTypes:P=void 0}=e,{selectionKey:S=void 0}=e,{selectionMode:D=void 0}=e,{panActivationKey:p=void 0}=e,{multiSelectionKey:y=void 0}=e,{zoomActivationKey:W=void 0}=e,{nodesDraggable:T=void 0}=e,{nodesConnectable:w=void 0}=e,{nodeDragThreshold:I=void 0}=e,{elementsSelectable:C=void 0}=e,{snapGrid:V=void 0}=e,{deleteKey:B=void 0}=e,{connectionRadius:K=void 0}=e,{connectionLineType:Y=void 0}=e,{connectionMode:F=Pt.Strict}=e,{connectionLineStyle:H=""}=e,{connectionLineContainerStyle:$=""}=e,{onMoveStart:le=void 0}=e,{onMove:ae=void 0}=e,{onMoveEnd:q=void 0}=e,{isValidConnection:se=void 0}=e,{translateExtent:ke=void 0}=e,{onlyRenderVisibleElements:ze=void 0}=e,{panOnScrollMode:Z=dt.Free}=e,{preventScrolling:Ie=!0}=e,{zoomOnScroll:Ye=!0}=e,{zoomOnDoubleClick:Re=!0}=e,{zoomOnPinch:Be=!0}=e,{panOnScroll:it=!1}=e,{panOnDrag:et=!0}=e,{selectionOnDrag:Pe=void 0}=e,{autoPanOnConnect:st=!0}=e,{autoPanOnNodeDrag:at=!0}=e,{onerror:te=void 0}=e,{ondelete:Et=void 0}=e,{onedgecreate:Ct=void 0}=e,{attributionPosition:Nt=void 0}=e,{proOptions:U=void 0}=e,{defaultEdgeOptions:tt=void 0}=e,{width:Te=void 0}=e,{height:j=void 0}=e,{colorMode:gt="light"}=e,{onconnect:qe=void 0}=e,{onconnectstart:xe=void 0}=e,{onconnectend:Tt=void 0}=e,{onbeforedelete:pt=void 0}=e,{oninit:zt=void 0}=e,{defaultMarkerColor:Vt="#b1b1b7"}=e,{style:$t=void 0}=e,{class:en=void 0}=e,vn,Xt,Yt;const Le=ts(Gi)?pe():Nd({nodes:G(m),edges:G(_),width:Te,height:j,fitView:b});gn(()=>(Le.width.set(Xt),Le.height.set(Yt),Le.domNode.set(vn),Le.syncNodeStores(m),Le.syncEdgeStores(_),Le.syncViewport(M),b!==void 0&&Le.fitViewOnInit.set(b),g&&Le.fitViewOptions.set(g),el(Le,{nodeTypes:z,edgeTypes:P,minZoom:E,maxZoom:N,translateExtent:ke}),()=>{Le.reset()}));const{initialized:ji}=Le;J(t,ji,A=>n(69,s=A));let ai=!1;function Hr(A){Ce.call(this,t,A)}function Ar(A){Ce.call(this,t,A)}function Or(A){Ce.call(this,t,A)}function Ir(A){Ce.call(this,t,A)}function Dr(A){Ce.call(this,t,A)}function Tr(A){Ce.call(this,t,A)}function pr(A){Ce.call(this,t,A)}function Vr(A){Ce.call(this,t,A)}function Xr(A){Ce.call(this,t,A)}function Yr(A){Ce.call(this,t,A)}function Rr(A){Ce.call(this,t,A)}function Wr(A){Ce.call(this,t,A)}function Br(A){Ce.call(this,t,A)}function Lr(A){Ce.call(this,t,A)}function Kr(A){Ce.call(this,t,A)}function Fr(A){Ce.call(this,t,A)}function Zr(A){Ce.call(this,t,A)}function qr(A){Ce.call(this,t,A)}function Ur(A){Ce.call(this,t,A)}function Gr(A){jt[A?"unshift":"push"](()=>{vn=A,n(26,vn)})}function Jr(){Xt=this.clientWidth,Yt=this.clientHeight,n(24,Xt),n(25,Yt)}return t.$$set=A=>{e=Ze(Ze({},e),Ti(A)),n(30,l=Ft(e,o)),"id"in A&&n(32,h=A.id),"nodes"in A&&n(33,m=A.nodes),"edges"in A&&n(34,_=A.edges),"fitView"in A&&n(35,b=A.fitView),"fitViewOptions"in A&&n(36,g=A.fitViewOptions),"minZoom"in A&&n(37,E=A.minZoom),"maxZoom"in A&&n(38,N=A.maxZoom),"initialViewport"in A&&n(0,k=A.initialViewport),"viewport"in A&&n(39,M=A.viewport),"nodeTypes"in A&&n(40,z=A.nodeTypes),"edgeTypes"in A&&n(41,P=A.edgeTypes),"selectionKey"in A&&n(1,S=A.selectionKey),"selectionMode"in A&&n(42,D=A.selectionMode),"panActivationKey"in A&&n(2,p=A.panActivationKey),"multiSelectionKey"in A&&n(3,y=A.multiSelectionKey),"zoomActivationKey"in A&&n(4,W=A.zoomActivationKey),"nodesDraggable"in A&&n(43,T=A.nodesDraggable),"nodesConnectable"in A&&n(44,w=A.nodesConnectable),"nodeDragThreshold"in A&&n(45,I=A.nodeDragThreshold),"elementsSelectable"in A&&n(46,C=A.elementsSelectable),"snapGrid"in A&&n(47,V=A.snapGrid),"deleteKey"in A&&n(5,B=A.deleteKey),"connectionRadius"in A&&n(48,K=A.connectionRadius),"connectionLineType"in A&&n(49,Y=A.connectionLineType),"connectionMode"in A&&n(50,F=A.connectionMode),"connectionLineStyle"in A&&n(6,H=A.connectionLineStyle),"connectionLineContainerStyle"in A&&n(7,$=A.connectionLineContainerStyle),"onMoveStart"in A&&n(8,le=A.onMoveStart),"onMove"in A&&n(9,ae=A.onMove),"onMoveEnd"in A&&n(10,q=A.onMoveEnd),"isValidConnection"in A&&n(51,se=A.isValidConnection),"translateExtent"in A&&n(52,ke=A.translateExtent),"onlyRenderVisibleElements"in A&&n(53,ze=A.onlyRenderVisibleElements),"panOnScrollMode"in A&&n(11,Z=A.panOnScrollMode),"preventScrolling"in A&&n(12,Ie=A.preventScrolling),"zoomOnScroll"in A&&n(13,Ye=A.zoomOnScroll),"zoomOnDoubleClick"in A&&n(14,Re=A.zoomOnDoubleClick),"zoomOnPinch"in A&&n(15,Be=A.zoomOnPinch),"panOnScroll"in A&&n(16,it=A.panOnScroll),"panOnDrag"in A&&n(17,et=A.panOnDrag),"selectionOnDrag"in A&&n(18,Pe=A.selectionOnDrag),"autoPanOnConnect"in A&&n(54,st=A.autoPanOnConnect),"autoPanOnNodeDrag"in A&&n(55,at=A.autoPanOnNodeDrag),"onerror"in A&&n(56,te=A.onerror),"ondelete"in A&&n(57,Et=A.ondelete),"onedgecreate"in A&&n(58,Ct=A.onedgecreate),"attributionPosition"in A&&n(19,Nt=A.attributionPosition),"proOptions"in A&&n(20,U=A.proOptions),"defaultEdgeOptions"in A&&n(21,tt=A.defaultEdgeOptions),"width"in A&&n(59,Te=A.width),"height"in A&&n(60,j=A.height),"colorMode"in A&&n(61,gt=A.colorMode),"onconnect"in A&&n(62,qe=A.onconnect),"onconnectstart"in A&&n(63,xe=A.onconnectstart),"onconnectend"in A&&n(64,Tt=A.onconnectend),"onbeforedelete"in A&&n(65,pt=A.onbeforedelete),"oninit"in A&&n(66,zt=A.oninit),"defaultMarkerColor"in A&&n(67,Vt=A.defaultMarkerColor),"style"in A&&n(22,$t=A.style),"class"in A&&n(23,en=A.class),"$$scope"in A&&n(92,d=A.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&Xt!==void 0&&Yt!==void 0&&(Le.width.set(Xt),Le.height.set(Yt)),t.$$.dirty[2]&208&&!ai&&s&&(zt==null||zt(),n(68,ai=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&Ih(Le,{flowId:h,connectionLineType:Y,connectionRadius:K,selectionMode:D,snapGrid:V,defaultMarkerColor:Vt,nodesDraggable:T,nodesConnectable:w,elementsSelectable:C,onlyRenderVisibleElements:ze,isValidConnection:se,autoPanOnConnect:st,autoPanOnNodeDrag:at,onerror:te,ondelete:Et,onedgecreate:Ct,connectionMode:F,nodeDragThreshold:I,onconnect:qe,onconnectstart:xe,onconnectend:Tt,onbeforedelete:pt}),t.$$.dirty[1]&2098880&&el(Le,{nodeTypes:z,edgeTypes:P,minZoom:E,maxZoom:N,translateExtent:ke}),t.$$.dirty[1]&1073741824&&u(n(27,i=Th(gt)))},[k,S,p,y,W,B,H,$,le,ae,q,Z,Ie,Ye,Re,Be,it,et,Pe,Nt,U,tt,$t,en,Xt,Yt,vn,i,r,ji,l,c,h,m,_,b,g,E,N,M,z,P,D,T,w,I,C,V,K,Y,F,se,ke,ze,st,at,te,Et,Ct,Te,j,gt,qe,xe,Tt,pt,zt,Vt,ai,s,f,Hr,Ar,Or,Ir,Dr,Tr,pr,Vr,Xr,Yr,Rr,Wr,Br,Lr,Kr,Fr,Zr,qr,Ur,Gr,Jr,d]}class Lh extends ge{constructor(e){super(),me(this,e,Bh,Wh,be,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}const Kh=t=>({}),nl=t=>({class:"button-svg"});function Fh(t){let e,n,i,o,l;const s=t[8].default,r=Ge(s,t,t[7],nl);let a=[{type:"button"},{class:n=Me(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Ze(u,a[f]);return{c(){e=ue("button"),r&&r.c(),this.h()},l(f){e=fe(f,"BUTTON",{type:!0,class:!0});var d=Q(e);r&&r.l(d),d.forEach(O),this.h()},h(){Kt(e,u),_e(e,"--xy-controls-button-background-color-props",t[1]),_e(e,"--xy-controls-button-background-color-hover-props",t[2]),_e(e,"--xy-controls-button-color-props",t[3]),_e(e,"--xy-controls-button-color-hover-props",t[4]),_e(e,"--xy-controls-button-border-color-props",t[5])},m(f,d){L(f,e,d),r&&r.m(e,null),e.autofocus&&e.focus(),i=!0,o||(l=Ne(e,"click",t[9]),o=!0)},p(f,[d]){r&&r.p&&(!i||d&128)&&Je(r,s,f,f[7],i?je(s,f[7],d,Kh):Qe(f[7]),nl),Kt(e,u=kt(a,[{type:"button"},(!i||d&1&&n!==(n=Me(["svelte-flow__controls-button",f[0]])))&&{class:n},d&64&&f[6]])),_e(e,"--xy-controls-button-background-color-props",f[1]),_e(e,"--xy-controls-button-background-color-hover-props",f[2]),_e(e,"--xy-controls-button-color-props",f[3]),_e(e,"--xy-controls-button-color-hover-props",f[4]),_e(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(X(r,f),i=!0)},o(f){R(r,f),i=!1},d(f){f&&O(e),r&&r.d(f),o=!1,l()}}}function Zh(t,e,n){const i=["class"];let o=Ft(e,i),{$$slots:l={},$$scope:s}=e,{class:r=void 0}=e,a,u,f,d,c;function h(m){Ce.call(this,t,m)}return t.$$set=m=>{e=Ze(Ze({},e),Ti(m)),n(6,o=Ft(e,i)),"class"in m&&n(0,r=m.class),"$$scope"in m&&n(7,s=m.$$scope)},[r,a,u,f,d,c,o,s,l,h]}class xn extends ge{constructor(e){super(),me(this,e,Zh,Fh,be,{class:0})}}function qh(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=Q(e);n=Ee(o,"path",{d:!0}),Q(n).forEach(O),o.forEach(O),this.h()},h(){v(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(i,o){L(i,e,o),x(e,n)},p:we,i:we,o:we,d(i){i&&O(e)}}}class Uh extends ge{constructor(e){super(),me(this,e,null,qh,be,{})}}function Gh(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=Q(e);n=Ee(o,"path",{d:!0}),Q(n).forEach(O),o.forEach(O),this.h()},h(){v(n,"d","M0 0h32v4.2H0z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 5")},m(i,o){L(i,e,o),x(e,n)},p:we,i:we,o:we,d(i){i&&O(e)}}}class Jh extends ge{constructor(e){super(),me(this,e,null,Gh,be,{})}}function Qh(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=Q(e);n=Ee(o,"path",{d:!0}),Q(n).forEach(O),o.forEach(O),this.h()},h(){v(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 30")},m(i,o){L(i,e,o),x(e,n)},p:we,i:we,o:we,d(i){i&&O(e)}}}class jh extends ge{constructor(e){super(),me(this,e,null,Qh,be,{})}}function xh(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=Q(e);n=Ee(o,"path",{d:!0}),Q(n).forEach(O),o.forEach(O),this.h()},h(){v(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 25 32")},m(i,o){L(i,e,o),x(e,n)},p:we,i:we,o:we,d(i){i&&O(e)}}}class $h extends ge{constructor(e){super(),me(this,e,null,xh,be,{})}}function eg(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=Q(e);n=Ee(o,"path",{d:!0}),Q(n).forEach(O),o.forEach(O),this.h()},h(){v(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 25 32")},m(i,o){L(i,e,o),x(e,n)},p:we,i:we,o:we,d(i){i&&O(e)}}}class tg extends ge{constructor(e){super(),me(this,e,null,eg,be,{})}}const ng=t=>({}),il=t=>({}),ig=t=>({}),ol=t=>({});function ll(t){let e,n,i,o;const l=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[6]},t[14]];let s={$$slots:{default:[og]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)s=Ze(s,l[u]);e=new xn({props:s}),e.$on("click",t[15]);const r=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[7]},t[14]];let a={$$slots:{default:[lg]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)a=Ze(a,r[u]);return i=new xn({props:a}),i.$on("click",t[16]),{c(){ne(e.$$.fragment),n=de(),ne(i.$$.fragment)},l(u){re(e.$$.fragment,u),n=he(u),re(i.$$.fragment,u)},m(u,f){ie(e,u,f),L(u,n,f),ie(i,u,f),o=!0},p(u,f){const d=f[0]&16448?kt(l,[l[0],l[1],l[2],f[0]&64&&{disabled:u[6]},f[0]&16384&&qt(u[14])]):{};f[1]&1&&(d.$$scope={dirty:f,ctx:u}),e.$set(d);const c=f[0]&16512?kt(r,[r[0],r[1],r[2],f[0]&128&&{disabled:u[7]},f[0]&16384&&qt(u[14])]):{};f[1]&1&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){o||(X(e.$$.fragment,u),X(i.$$.fragment,u),o=!0)},o(u){R(e.$$.fragment,u),R(i.$$.fragment,u),o=!1},d(u){u&&O(n),oe(e,u),oe(i,u)}}}function og(t){let e,n;return e=new Uh({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function lg(t){let e,n;return e=new Jh({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function rl(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[14]];let o={$$slots:{default:[rg]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ze(o,i[l]);return e=new xn({props:o}),e.$on("click",t[17]),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){ie(e,l,s),n=!0},p(l,s){const r=s[0]&16384?kt(i,[i[0],i[1],i[2],qt(l[14])]):{};s[1]&1&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(X(e.$$.fragment,l),n=!0)},o(l){R(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function rg(t){let e,n;return e=new jh({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function sl(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[14]];let o={$$slots:{default:[ug]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ze(o,i[l]);return e=new xn({props:o}),e.$on("click",t[18]),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){ie(e,l,s),n=!0},p(l,s){const r=s[0]&16384?kt(i,[i[0],i[1],i[2],qt(l[14])]):{};s[0]&32|s[1]&1&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(X(e.$$.fragment,l),n=!0)},o(l){R(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function sg(t){let e,n;return e=new $h({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function ag(t){let e,n;return e=new tg({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function ug(t){let e,n,i,o;const l=[ag,sg],s=[];function r(a,u){return a[5]?0:1}return e=r(t),n=s[e]=l[e](t),{c(){n.c(),i=ve()},l(a){n.l(a),i=ve()},m(a,u){s[e].m(a,u),L(a,i,u),o=!0},p(a,u){let f=e;e=r(a),e!==f&&(Ae(),R(s[f],1,1,()=>{s[f]=null}),Oe(),n=s[e],n||(n=s[e]=l[e](a),n.c()),X(n,1),n.m(i.parentNode,i))},i(a){o||(X(n),o=!0)},o(a){R(n),o=!1},d(a){a&&O(i),s[e].d(a)}}}function fg(t){let e,n,i,o,l,s;const r=t[30].before,a=Ge(r,t,t[31],ol);let u=t[1]&&ll(t),f=t[2]&&rl(t),d=t[3]&&sl(t);const c=t[30].default,h=Ge(c,t,t[31],null),m=t[30].after,_=Ge(m,t,t[31],il);return{c(){a&&a.c(),e=de(),u&&u.c(),n=de(),f&&f.c(),i=de(),d&&d.c(),o=de(),h&&h.c(),l=de(),_&&_.c()},l(b){a&&a.l(b),e=he(b),u&&u.l(b),n=he(b),f&&f.l(b),i=he(b),d&&d.l(b),o=he(b),h&&h.l(b),l=he(b),_&&_.l(b)},m(b,g){a&&a.m(b,g),L(b,e,g),u&&u.m(b,g),L(b,n,g),f&&f.m(b,g),L(b,i,g),d&&d.m(b,g),L(b,o,g),h&&h.m(b,g),L(b,l,g),_&&_.m(b,g),s=!0},p(b,g){a&&a.p&&(!s||g[1]&1)&&Je(a,r,b,b[31],s?je(r,b[31],g,ig):Qe(b[31]),ol),b[1]?u?(u.p(b,g),g[0]&2&&X(u,1)):(u=ll(b),u.c(),X(u,1),u.m(n.parentNode,n)):u&&(Ae(),R(u,1,1,()=>{u=null}),Oe()),b[2]?f?(f.p(b,g),g[0]&4&&X(f,1)):(f=rl(b),f.c(),X(f,1),f.m(i.parentNode,i)):f&&(Ae(),R(f,1,1,()=>{f=null}),Oe()),b[3]?d?(d.p(b,g),g[0]&8&&X(d,1)):(d=sl(b),d.c(),X(d,1),d.m(o.parentNode,o)):d&&(Ae(),R(d,1,1,()=>{d=null}),Oe()),h&&h.p&&(!s||g[1]&1)&&Je(h,c,b,b[31],s?je(c,b[31],g,null):Qe(b[31]),null),_&&_.p&&(!s||g[1]&1)&&Je(_,m,b,b[31],s?je(m,b[31],g,ng):Qe(b[31]),il)},i(b){s||(X(a,b),X(u),X(f),X(d),X(h,b),X(_,b),s=!0)},o(b){R(a,b),R(u),R(f),R(d),R(h,b),R(_,b),s=!1},d(b){b&&(O(e),O(n),O(i),O(o),O(l)),a&&a.d(b),u&&u.d(b),f&&f.d(b),d&&d.d(b),h&&h.d(b),_&&_.d(b)}}}function cg(t){var i;let e,n;return e=new Ji({props:{class:"svelte-flow__controls",position:t[0],"data-testid":"svelte-flow__controls","aria-label":(i=t[4])!=null?i:"Svelte Flow controls",$$slots:{default:[fg]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(o){re(e.$$.fragment,o)},m(o,l){ie(e,o,l),n=!0},p(o,l){var r;const s={};l[0]&1&&(s.position=o[0]),l[0]&16&&(s["aria-label"]=(r=o[4])!=null?r:"Svelte Flow controls"),l[0]&238|l[1]&1&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){n||(X(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){oe(e,o)}}}function dg(t,e,n){let i,o,l,s,r,a,u,f,d,{$$slots:c={},$$scope:h}=e,{position:m="bottom-left"}=e,{showZoom:_=!0}=e,{showFitView:b=!0}=e,{showLock:g=!0}=e,{buttonBgColor:E=void 0}=e,{buttonBgColorHover:N=void 0}=e,{buttonColor:k=void 0}=e,{buttonColorHover:M=void 0}=e,{buttonBorderColor:z=void 0}=e,{ariaLabel:P=void 0}=e;const{zoomIn:S,zoomOut:D,fitView:p,viewport:y,minZoom:W,maxZoom:T,nodesDraggable:w,nodesConnectable:I,elementsSelectable:C}=pe();J(t,y,H=>n(25,r=H)),J(t,W,H=>n(26,a=H)),J(t,T,H=>n(24,s=H)),J(t,w,H=>n(29,d=H)),J(t,I,H=>n(28,f=H)),J(t,C,H=>n(27,u=H));const V={bgColor:E,bgColorHover:N,color:k,colorHover:M,borderColor:z},B=()=>{S()},K=()=>{D()},Y=()=>{p()},F=()=>{n(5,i=!i),w.set(i),I.set(i),C.set(i)};return t.$$set=H=>{"position"in H&&n(0,m=H.position),"showZoom"in H&&n(1,_=H.showZoom),"showFitView"in H&&n(2,b=H.showFitView),"showLock"in H&&n(3,g=H.showLock),"buttonBgColor"in H&&n(19,E=H.buttonBgColor),"buttonBgColorHover"in H&&n(20,N=H.buttonBgColorHover),"buttonColor"in H&&n(21,k=H.buttonColor),"buttonColorHover"in H&&n(22,M=H.buttonColorHover),"buttonBorderColor"in H&&n(23,z=H.buttonBorderColor),"ariaLabel"in H&&n(4,P=H.ariaLabel),"$$scope"in H&&n(31,h=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&939524096&&n(5,i=d||f||u),t.$$.dirty[0]&100663296&&n(7,o=r.zoom<=a),t.$$.dirty[0]&50331648&&n(6,l=r.zoom>=s)},[m,_,b,g,P,i,l,o,y,W,T,w,I,C,V,B,K,Y,F,E,N,k,M,z,s,r,a,u,f,d,c,h]}class hg extends ge{constructor(e){super(),me(this,e,dg,cg,be,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:19,buttonBgColorHover:20,buttonColor:21,buttonColorHover:22,buttonBorderColor:23,ariaLabel:4},null,[-1,-1])}}var wt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(wt||(wt={}));function gg(t){let e,n;return{c(){e=Se("circle"),this.h()},l(i){e=Ee(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),Q(e).forEach(O),this.h()},h(){v(e,"cx",t[0]),v(e,"cy",t[0]),v(e,"r",t[0]),v(e,"class",n=Me(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){L(i,e,o)},p(i,[o]){o&1&&v(e,"cx",i[0]),o&1&&v(e,"cy",i[0]),o&1&&v(e,"r",i[0]),o&2&&n!==(n=Me(["svelte-flow__background-pattern","dots",i[1]]))&&v(e,"class",n)},i:we,o:we,d(i){i&&O(e)}}}function mg(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=l=>{"radius"in l&&n(0,i=l.radius),"class"in l&&n(1,o=l.class)},[i,o]}class _g extends ge{constructor(e){super(),me(this,e,mg,gg,be,{radius:0,class:1})}}function bg(t){let e,n,i;return{c(){e=Se("path"),this.h()},l(o){e=Ee(o,"path",{"stroke-width":!0,d:!0,class:!0}),Q(e).forEach(O),this.h()},h(){v(e,"stroke-width",t[0]),v(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),v(e,"class",i=Me(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,l){L(o,e,l)},p(o,[l]){l&1&&v(e,"stroke-width",o[0]),l&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&v(e,"d",n),l&12&&i!==(i=Me(["svelte-flow__background-pattern",o[2],o[3]]))&&v(e,"class",i)},i:we,o:we,d(o){o&&O(e)}}}function yg(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:l=void 0}=e,{class:s=""}=e;return t.$$set=r=>{"lineWidth"in r&&n(0,i=r.lineWidth),"dimensions"in r&&n(1,o=r.dimensions),"variant"in r&&n(2,l=r.variant),"class"in r&&n(3,s=r.class)},[i,o,l,s]}class wg extends ge{constructor(e){super(),me(this,e,yg,bg,be,{lineWidth:0,dimensions:1,variant:2,class:3})}}function kg(t){let e,n;return e=new wg({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&64&&(l.dimensions=i[6]),o&1&&(l.variant=i[0]),o&2&&(l.lineWidth=i[1]),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function vg(t){let e,n;return e=new _g({props:{radius:t[7]/2,class:t[4]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&128&&(l.radius=i[7]/2),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Sg(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;const m=[vg,kg],_=[];function b(g,E){return g[14]?0:1}return i=b(t),o=_[i]=m[i](t),{c(){e=Se("svg"),n=Se("pattern"),o.c(),f=Se("rect"),this.h()},l(g){e=Ee(g,"svg",{class:!0,"data-testid":!0});var E=Q(e);n=Ee(E,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var N=Q(n);o.l(N),N.forEach(O),f=Ee(E,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),Q(f).forEach(O),E.forEach(O),this.h()},h(){v(n,"id",t[11]),v(n,"x",l=t[9].x%t[8][0]),v(n,"y",s=t[9].y%t[8][1]),v(n,"width",r=t[8][0]),v(n,"height",a=t[8][1]),v(n,"patternUnits","userSpaceOnUse"),v(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),v(f,"x","0"),v(f,"y","0"),v(f,"width","100%"),v(f,"height","100%"),v(f,"fill",d=`url(#${t[11]})`),v(e,"class",c=xi(Me(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),v(e,"data-testid","svelte-flow__background"),_e(e,"--xy-background-color-props",t[2]),_e(e,"--xy-background-pattern-color-props",t[3])},m(g,E){L(g,e,E),x(e,n),_[i].m(n,null),x(e,f),h=!0},p(g,[E]){o.p(g,E),(!h||E&2048)&&v(n,"id",g[11]),(!h||E&768&&l!==(l=g[9].x%g[8][0]))&&v(n,"x",l),(!h||E&768&&s!==(s=g[9].y%g[8][1]))&&v(n,"y",s),(!h||E&256&&r!==(r=g[8][0]))&&v(n,"width",r),(!h||E&256&&a!==(a=g[8][1]))&&v(n,"height",a),(!h||E&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&v(n,"patternTransform",u),(!h||E&2048&&d!==(d=`url(#${g[11]})`))&&v(f,"fill",d),(!h||E&32&&c!==(c=xi(Me(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&v(e,"class",c),E&4&&_e(e,"--xy-background-color-props",g[2]),E&8&&_e(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(X(o),h=!0)},o(g){R(o),h=!1},d(g){g&&O(e),_[i].d()}}}const Eg={[wt.Dots]:1,[wt.Lines]:1,[wt.Cross]:6};function Cg(t,e,n){let i,o,l,s,r,a,u,{id:f=void 0}=e,{variant:d=wt.Dots}=e,{gap:c=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:_=void 0}=e,{patternColor:b=void 0}=e,{patternClass:g=void 0}=e,{class:E=""}=e;const{viewport:N,flowId:k}=pe();J(t,N,D=>n(9,a=D)),J(t,k,D=>n(18,u=D));const M=h||Eg[d],z=d===wt.Dots,P=d===wt.Cross,S=Array.isArray(c)?c:[c,c];return t.$$set=D=>{"id"in D&&n(15,f=D.id),"variant"in D&&n(0,d=D.variant),"gap"in D&&n(16,c=D.gap),"size"in D&&n(17,h=D.size),"lineWidth"in D&&n(1,m=D.lineWidth),"bgColor"in D&&n(2,_=D.bgColor),"patternColor"in D&&n(3,b=D.patternColor),"patternClass"in D&&n(4,g=D.patternClass),"class"in D&&n(5,E=D.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[S[0]*a.zoom||1,S[1]*a.zoom||1]),t.$$.dirty&512&&n(7,l=M*a.zoom),t.$$.dirty&384&&n(6,s=P?[l,l]:o),t.$$.dirty&192&&n(10,r=z?[l/2,l/2]:[s[0]/2,s[1]/2])},[d,m,_,b,g,E,s,l,o,a,r,i,N,k,z,f,c,h,u]}class zg extends ge{constructor(e){super(),me(this,e,Cg,Sg,be,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function Mg(t){let e,n,i;return{c(){e=Se("rect"),this.h()},l(o){e=Ee(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),Q(e).forEach(O),this.h()},h(){v(e,"class",n=Me(["svelte-flow__minimap-node",t[10]])),v(e,"x",t[0]),v(e,"y",t[1]),v(e,"rx",t[4]),v(e,"ry",t[4]),v(e,"width",t[2]),v(e,"height",t[3]),v(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),v(e,"shape-rendering",t[6]),ce(e,"selected",t[9])},m(o,l){L(o,e,l)},p(o,[l]){l&1024&&n!==(n=Me(["svelte-flow__minimap-node",o[10]]))&&v(e,"class",n),l&1&&v(e,"x",o[0]),l&2&&v(e,"y",o[1]),l&16&&v(e,"rx",o[4]),l&16&&v(e,"ry",o[4]),l&4&&v(e,"width",o[2]),l&8&&v(e,"height",o[3]),l&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&v(e,"style",i),l&64&&v(e,"shape-rendering",o[6]),l&1536&&ce(e,"selected",o[9])},i:we,o:we,d(o){o&&O(e)}}}function Pg(t,e,n){let{x:i}=e,{y:o}=e,{width:l=0}=e,{height:s=0}=e,{borderRadius:r=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:d=2}=e,{selected:c=!1}=e,{class:h=""}=e;return t.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,l=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,r=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,d=m.strokeWidth),"selected"in m&&n(9,c=m.selected),"class"in m&&n(10,h=m.class)},[i,o,l,s,r,a,u,f,d,c,h]}class Ng extends ge{constructor(e){super(),me(this,e,Pg,Mg,be,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function Hg(t,e){const n=Mc({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=G(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function al(t,e,n){const i=t.slice();return i[53]=e[n],i}function vi(t){const e=t.slice(),n=xt(e[53]).positionAbsolute;e[56]=n;const i=kn(e[53]);return e[57]=i,e}function ul(t){let e,n,i=[],o=new Map,l,s,r,a,u,f,d,c=t[1]&&fl(t),h=We(t[19]);const m=_=>_[53].id;for(let _=0;_<h.length;_+=1){let b=al(t,h,_),g=m(b);o.set(g,i[_]=dl(g,b))}return{c(){e=Se("svg"),c&&c.c(),n=ve();for(let _=0;_<i.length;_+=1)i[_].c();l=Se("path"),this.h()},l(_){e=Ee(_,"svg",{width:!0,height:!0,viewBox:!0,class:!0,role:!0,"aria-labelledby":!0});var b=Q(e);c&&c.l(b),n=ve();for(let g=0;g<i.length;g+=1)i[g].l(b);l=Ee(b,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),Q(l).forEach(O),b.forEach(O),this.h()},h(){v(l,"class","svelte-flow__minimap-mask"),v(l,"d",s="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),v(l,"fill-rule","evenodd"),v(l,"pointer-events","none"),v(e,"width",t[17]),v(e,"height",t[16]),v(e,"viewBox",r=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),v(e,"class","svelte-flow__minimap-svg"),v(e,"role","img"),v(e,"aria-labelledby",t[39]),_e(e,"--xy-minimap-mask-background-color-props",t[5]),_e(e,"--xy-minimap-mask-stroke-color-props",t[6]),_e(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(_,b){L(_,e,b),c&&c.m(e,null),x(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);x(e,l),u=!0,f||(d=Ke(a=Hg.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(_,b){_[1]?c?c.p(_,b):(c=fl(_),c.c(),c.m(e,n)):c&&(c.d(1),c=null),b[0]&524300|b[1]&240&&(h=We(_[19]),Ae(),i=ei(i,b,m,1,_,h,o,e,$n,dl,l,al),Oe()),(!u||b[0]&63209472&&s!==(s="M"+(_[25]-_[15])+","+(_[24]-_[15])+"h"+(_[23]+_[15]*2)+"v"+(_[22]+_[15]*2)+"h"+(-_[23]-_[15]*2)+`z
      M`+_[18].x+","+_[18].y+"h"+_[18].width+"v"+_[18].height+"h"+-_[18].width+"z"))&&v(l,"d",s),(!u||b[0]&131072)&&v(e,"width",_[17]),(!u||b[0]&65536)&&v(e,"height",_[16]),(!u||b[0]&62914560&&r!==(r=_[25]+" "+_[24]+" "+_[23]+" "+_[22]))&&v(e,"viewBox",r),a&&De(a.update)&&b[0]&204476160&&a.update.call(null,{panZoom:_[26],viewport:_[29],getViewScale:_[40],translateExtent:_[27],width:_[21],height:_[20],inversePan:_[10],zoomStep:_[11],pannable:_[8],zoomable:_[9]}),b[0]&32&&_e(e,"--xy-minimap-mask-background-color-props",_[5]),b[0]&64&&_e(e,"--xy-minimap-mask-stroke-color-props",_[6]),b[0]&16512&&_e(e,"--xy-minimap-mask-stroke-width-props",_[7]?_[7]*_[14]:void 0)},i(_){if(!u){for(let b=0;b<h.length;b+=1)X(i[b]);u=!0}},o(_){for(let b=0;b<i.length;b+=1)R(i[b]);u=!1},d(_){_&&O(e),c&&c.d();for(let b=0;b<i.length;b+=1)i[b].d();f=!1,d()}}}function fl(t){let e,n;return{c(){e=Se("title"),n=Ve(t[1]),this.h()},l(i){e=Ee(i,"title",{id:!0});var o=Q(e);n=Xe(o,t[1]),o.forEach(O),this.h()},h(){v(e,"id",t[39])},m(i,o){L(i,e,o),x(e,n)},p(i,o){o[0]&2&&Fe(n,i[1])},d(i){i&&O(e)}}}function cl(t){var l;let e,n;const i=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(l=t[35])==null?void 0:l.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let o={};for(let s=0;s<i.length;s+=1)o=Ze(o,i[s]);return e=new Ng({props:o}),{c(){ne(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,r){ie(e,s,r),n=!0},p(s,r){var u;const a=r[0]&524300|r[1]&240?kt(i,[r[0]&524288&&{x:s[56].x},r[0]&524288&&{y:s[56].y},r[0]&524288&&qt(s[57]),r[0]&524288&&{selected:s[53].selected},r[0]&524288|r[1]&16&&{color:(u=s[35])==null?void 0:u.call(s,s[53])},r[0]&4&&{borderRadius:s[2]},r[0]&524288|r[1]&32&&{strokeColor:s[36](s[53])},r[0]&8&&{strokeWidth:s[3]},r[1]&128&&{shapeRendering:s[38]},r[0]&524288|r[1]&64&&{class:s[37](s[53])}]):{};e.$set(a)},i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){R(e.$$.fragment,s),n=!1},d(s){oe(e,s)}}}function dl(t,e){let n,i=Qn(e[53]),o,l,s=i&&cl(vi(e));return{key:t,first:null,c(){n=ve(),s&&s.c(),o=ve(),this.h()},l(r){n=ve(),s&&s.l(r),o=ve(),this.h()},h(){this.first=n},m(r,a){L(r,n,a),s&&s.m(r,a),L(r,o,a),l=!0},p(r,a){e=r,a[0]&524288&&(i=Qn(e[53])),i?s?(s.p(vi(e),a),a[0]&524288&&X(s,1)):(s=cl(vi(e)),s.c(),X(s,1),s.m(o.parentNode,o)):s&&(Ae(),R(s,1,1,()=>{s=null}),Oe())},i(r){l||(X(s),l=!0)},o(r){R(s),l=!1},d(r){r&&(O(n),O(o)),s&&s.d(r)}}}function Ag(t){let e,n,i=t[26]&&ul(t);return{c(){i&&i.c(),e=ve()},l(o){i&&i.l(o),e=ve()},m(o,l){i&&i.m(o,l),L(o,e,l),n=!0},p(o,l){o[26]?i?(i.p(o,l),l[0]&67108864&&X(i,1)):(i=ul(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(Ae(),R(i,1,1,()=>{i=null}),Oe())},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function Og(t){let e,n;return e=new Ji({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Me(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[Ag]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.position=i[0]),o[0]&4112&&(l.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(l.class=Me(["svelte-flow__minimap",i[13]])),o[0]&268423150|o[1]&134217728&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}const Si=t=>t instanceof Function?t:()=>t,Ig=200,Dg=150;function Tg(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,m,_,b,g,E,N,k,M,z,P,{position:S="bottom-right"}=e,{ariaLabel:D="Mini map"}=e,{nodeStrokeColor:p="transparent"}=e,{nodeColor:y=void 0}=e,{nodeClass:W=""}=e,{nodeBorderRadius:T=5}=e,{nodeStrokeWidth:w=2}=e,{bgColor:I=void 0}=e,{maskColor:C=void 0}=e,{maskStrokeColor:V=void 0}=e,{maskStrokeWidth:B=void 0}=e,{width:K=void 0}=e,{height:Y=void 0}=e,{pannable:F=!0}=e,{zoomable:H=!0}=e,{inversePan:$=void 0}=e,{zoomStep:le=void 0}=e,{style:ae=""}=e,{class:q=""}=e;const{nodes:se,viewport:ke,width:ze,height:Z,flowId:Ie,panZoom:Ye,translateExtent:Re}=pe();J(t,se,te=>n(19,g=te)),J(t,ke,te=>n(51,E=te)),J(t,ze,te=>n(21,k=te)),J(t,Z,te=>n(20,N=te)),J(t,Ie,te=>n(52,M=te)),J(t,Ye,te=>n(26,z=te)),J(t,Re,te=>n(27,P=te));const Be=y===void 0?void 0:Si(y),it=Si(p),et=Si(W),Pe=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",st=`svelte-flow__minimap-desc-${M}`,at=()=>u;return t.$$set=te=>{"position"in te&&n(0,S=te.position),"ariaLabel"in te&&n(1,D=te.ariaLabel),"nodeStrokeColor"in te&&n(41,p=te.nodeStrokeColor),"nodeColor"in te&&n(42,y=te.nodeColor),"nodeClass"in te&&n(43,W=te.nodeClass),"nodeBorderRadius"in te&&n(2,T=te.nodeBorderRadius),"nodeStrokeWidth"in te&&n(3,w=te.nodeStrokeWidth),"bgColor"in te&&n(4,I=te.bgColor),"maskColor"in te&&n(5,C=te.maskColor),"maskStrokeColor"in te&&n(6,V=te.maskStrokeColor),"maskStrokeWidth"in te&&n(7,B=te.maskStrokeWidth),"width"in te&&n(44,K=te.width),"height"in te&&n(45,Y=te.height),"pannable"in te&&n(8,F=te.pannable),"zoomable"in te&&n(9,H=te.zoomable),"inversePan"in te&&n(10,$=te.inversePan),"zoomStep"in te&&n(11,le=te.zoomStep),"style"in te&&n(12,ae=te.style),"class"in te&&n(13,q=te.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,i={x:-E.x/E.zoom,y:-E.y/E.zoom,width:k/E.zoom,height:N/E.zoom}),t.$$.dirty[0]&786432&&n(48,o=g.length>0?jf(wn(g),i):i),t.$$.dirty[1]&8192&&n(17,l=K!=null?K:Ig),t.$$.dirty[1]&16384&&n(16,s=Y!=null?Y:Dg),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,r=o.width/l),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,a=o.height/s),t.$$.dirty[1]&786432&&n(14,u=Math.max(r,a)),t.$$.dirty[0]&147456&&n(47,f=u*l),t.$$.dirty[0]&81920&&n(46,d=u*s),t.$$.dirty[0]&16384&&n(15,c=5*u),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,h=o.x-(f-o.width)/2-c),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,m=o.y-(d-o.height)/2-c),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,_=f+c*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,b=d+c*2)},[S,D,T,w,I,C,V,B,F,H,$,le,ae,q,u,c,s,l,i,g,N,k,b,_,m,h,z,P,se,ke,ze,Z,Ie,Ye,Re,Be,it,et,Pe,st,at,p,y,W,K,Y,d,f,o,a,r,E]}class pg extends ge{constructor(e){super(),me(this,e,Tg,Og,be,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const Nr=()=>mn();function Vg(t){if(!t.id.includes("->"))return null;let e=t.id.split("->")[0],n=t.id.split("->")[1];return{from:{node:e.split("~")[0],id:e.split("~")[1]},to:{node:n.split("~")[0],id:n.split("~")[1]}}}function Xg(t){return{id:`${t.from.node}~${t.from.id}->${t.to.node}~${t.to.id}`,source:`${t.from.node}`,target:`${t.to.node}`}}function Yg(t){return{id:t.id,name:t.data.name,type:t.data.type,position:t.position,properties:t.data.properties,inputs:t.data.inputs,outputs:t.data.outputs}}function Rg(t){return{id:t.id,position:t.position,type:"vla",data:{label:t.type.split("Node")[0],name:t.name,type:t.type,properties:t.properties,inputs:t.inputs,outputs:t.outputs}}}function Wg(t){let e,n,i,o,l;return{c(){e=ue("div"),n=Ve(t[0]),i=Ve(" ("),o=Ve(t[1]),l=Ve(")"),this.h()},l(s){e=fe(s,"DIV",{class:!0});var r=Q(e);n=Xe(r,t[0]),i=Xe(r," ("),o=Xe(r,t[1]),l=Xe(r,")"),r.forEach(O),this.h()},h(){v(e,"class","value svelte-1btiqlj")},m(s,r){L(s,e,r),x(e,n),x(e,i),x(e,o),x(e,l)},p(s,[r]){r&1&&Fe(n,s[0]),r&2&&Fe(o,s[1])},i:we,o:we,d(s){s&&O(e)}}}function Bg(t,e,n){let{value:i}=e,{type:o}=e;return t.$$set=l=>{"value"in l&&n(0,i=l.value),"type"in l&&n(1,o=l.type)},[i,o]}class Qi extends ge{constructor(e){super(),me(this,e,Bg,Wg,be,{value:0,type:1})}}function hl(t,e,n){const i=t.slice();return i[4]=e[n],i[5]=e,i[6]=n,i}function gl(t,e,n){const i=t.slice();return i[7]=e[n],i[8]=e,i[9]=n,i}function ml(t,e,n){const i=t.slice();return i[10]=e[n],i[11]=e,i[12]=n,i}function _l(t){let e,n,i=t[10].label+"",o,l,s,r,a,u;function f(c){t[1](c,t[10])}let d={type:t[10].type};return t[10].value!==void 0&&(d.value=t[10].value),s=new Qi({props:d}),jt.push(()=>Vi(s,"value",f)),{c(){e=ue("div"),n=ue("p"),o=Ve(i),l=de(),ne(s.$$.fragment),a=de(),this.h()},l(c){e=fe(c,"DIV",{class:!0});var h=Q(e);n=fe(h,"P",{class:!0});var m=Q(n);o=Xe(m,i),m.forEach(O),l=he(h),re(s.$$.fragment,h),a=he(h),h.forEach(O),this.h()},h(){v(n,"class","label svelte-6npku"),v(e,"class","property svelte-6npku")},m(c,h){L(c,e,h),x(e,n),x(n,o),x(e,l),ie(s,e,null),x(e,a),u=!0},p(c,h){t=c,(!u||h&1)&&i!==(i=t[10].label+"")&&Fe(o,i);const m={};h&1&&(m.type=t[10].type),!r&&h&1&&(r=!0,m.value=t[10].value,pi(()=>r=!1)),s.$set(m)},i(c){u||(X(s.$$.fragment,c),u=!0)},o(c){R(s.$$.fragment,c),u=!1},d(c){c&&O(e),oe(s)}}}function bl(t){let e,n,i=t[7].label+"",o,l,s,r,a,u,f,d;function c(m){t[2](m,t[7])}let h={type:t[7].type};return t[7].value!==void 0&&(h.value=t[7].value),s=new Qi({props:h}),jt.push(()=>Vi(s,"value",c)),u=new Qt({props:{type:"source",position:ye.Left,id:t[7].id}}),{c(){e=ue("div"),n=ue("p"),o=Ve(i),l=de(),ne(s.$$.fragment),a=de(),ne(u.$$.fragment),f=de(),this.h()},l(m){e=fe(m,"DIV",{class:!0});var _=Q(e);n=fe(_,"P",{class:!0});var b=Q(n);o=Xe(b,i),b.forEach(O),l=he(_),re(s.$$.fragment,_),a=he(_),re(u.$$.fragment,_),f=he(_),_.forEach(O),this.h()},h(){v(n,"class","label svelte-6npku"),v(e,"class","input svelte-6npku")},m(m,_){L(m,e,_),x(e,n),x(n,o),x(e,l),ie(s,e,null),x(e,a),ie(u,e,null),x(e,f),d=!0},p(m,_){t=m,(!d||_&1)&&i!==(i=t[7].label+"")&&Fe(o,i);const b={};_&1&&(b.type=t[7].type),!r&&_&1&&(r=!0,b.value=t[7].value,pi(()=>r=!1)),s.$set(b);const g={};_&1&&(g.id=t[7].id),u.$set(g)},i(m){d||(X(s.$$.fragment,m),X(u.$$.fragment,m),d=!0)},o(m){R(s.$$.fragment,m),R(u.$$.fragment,m),d=!1},d(m){m&&O(e),oe(s),oe(u)}}}function yl(t){let e,n,i=t[4].label+"",o,l,s,r,a,u,f,d;function c(m){t[3](m,t[4])}let h={type:t[4].type};return t[4].value!==void 0&&(h.value=t[4].value),s=new Qi({props:h}),jt.push(()=>Vi(s,"value",c)),u=new Qt({props:{type:"target",position:ye.Right,id:t[4].id}}),{c(){e=ue("div"),n=ue("p"),o=Ve(i),l=de(),ne(s.$$.fragment),a=de(),ne(u.$$.fragment),f=de(),this.h()},l(m){e=fe(m,"DIV",{class:!0});var _=Q(e);n=fe(_,"P",{class:!0});var b=Q(n);o=Xe(b,i),b.forEach(O),l=he(_),re(s.$$.fragment,_),a=he(_),re(u.$$.fragment,_),f=he(_),_.forEach(O),this.h()},h(){v(n,"class","label svelte-6npku"),v(e,"class","output svelte-6npku")},m(m,_){L(m,e,_),x(e,n),x(n,o),x(e,l),ie(s,e,null),x(e,a),ie(u,e,null),x(e,f),d=!0},p(m,_){t=m,(!d||_&1)&&i!==(i=t[4].label+"")&&Fe(o,i);const b={};_&1&&(b.type=t[4].type),!r&&_&1&&(r=!0,b.value=t[4].value,pi(()=>r=!1)),s.$set(b);const g={};_&1&&(g.id=t[4].id),u.$set(g)},i(m){d||(X(s.$$.fragment,m),X(u.$$.fragment,m),d=!0)},o(m){R(s.$$.fragment,m),R(u.$$.fragment,m),d=!1},d(m){m&&O(e),oe(s),oe(u)}}}function Lg(t){let e,n,i=t[0].name+"",o,l,s,r,a,u,f,d,c,h=We(t[0].properties),m=[];for(let z=0;z<h.length;z+=1)m[z]=_l(ml(t,h,z));const _=z=>R(m[z],1,1,()=>{m[z]=null});let b=We(t[0].inputs),g=[];for(let z=0;z<b.length;z+=1)g[z]=bl(gl(t,b,z));const E=z=>R(g[z],1,1,()=>{g[z]=null});let N=We(t[0].outputs),k=[];for(let z=0;z<N.length;z+=1)k[z]=yl(hl(t,N,z));const M=z=>R(k[z],1,1,()=>{k[z]=null});return{c(){e=ue("div"),n=ue("div"),o=Ve(i),l=de(),s=ue("div");for(let z=0;z<m.length;z+=1)m[z].c();r=de(),a=ue("div"),u=ue("div");for(let z=0;z<g.length;z+=1)g[z].c();f=de(),d=ue("div");for(let z=0;z<k.length;z+=1)k[z].c();this.h()},l(z){e=fe(z,"DIV",{class:!0});var P=Q(e);n=fe(P,"DIV",{class:!0});var S=Q(n);o=Xe(S,i),S.forEach(O),l=he(P),s=fe(P,"DIV",{class:!0});var D=Q(s);for(let T=0;T<m.length;T+=1)m[T].l(D);D.forEach(O),r=he(P),a=fe(P,"DIV",{class:!0});var p=Q(a);u=fe(p,"DIV",{class:!0});var y=Q(u);for(let T=0;T<g.length;T+=1)g[T].l(y);y.forEach(O),f=he(p),d=fe(p,"DIV",{class:!0});var W=Q(d);for(let T=0;T<k.length;T+=1)k[T].l(W);W.forEach(O),p.forEach(O),P.forEach(O),this.h()},h(){v(n,"class","title svelte-6npku"),v(s,"class","properties svelte-6npku"),v(u,"class","inputs svelte-6npku"),v(d,"class","outputs svelte-6npku"),v(a,"class","inputoutput svelte-6npku"),v(e,"class","node svelte-6npku")},m(z,P){L(z,e,P),x(e,n),x(n,o),x(e,l),x(e,s);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(s,null);x(e,r),x(e,a),x(a,u);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(u,null);x(a,f),x(a,d);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(d,null);c=!0},p(z,[P]){if((!c||P&1)&&i!==(i=z[0].name+"")&&Fe(o,i),P&1){h=We(z[0].properties);let S;for(S=0;S<h.length;S+=1){const D=ml(z,h,S);m[S]?(m[S].p(D,P),X(m[S],1)):(m[S]=_l(D),m[S].c(),X(m[S],1),m[S].m(s,null))}for(Ae(),S=h.length;S<m.length;S+=1)_(S);Oe()}if(P&1){b=We(z[0].inputs);let S;for(S=0;S<b.length;S+=1){const D=gl(z,b,S);g[S]?(g[S].p(D,P),X(g[S],1)):(g[S]=bl(D),g[S].c(),X(g[S],1),g[S].m(u,null))}for(Ae(),S=b.length;S<g.length;S+=1)E(S);Oe()}if(P&1){N=We(z[0].outputs);let S;for(S=0;S<N.length;S+=1){const D=hl(z,N,S);k[S]?(k[S].p(D,P),X(k[S],1)):(k[S]=yl(D),k[S].c(),X(k[S],1),k[S].m(d,null))}for(Ae(),S=N.length;S<k.length;S+=1)M(S);Oe()}},i(z){if(!c){for(let P=0;P<h.length;P+=1)X(m[P]);for(let P=0;P<b.length;P+=1)X(g[P]);for(let P=0;P<N.length;P+=1)X(k[P]);c=!0}},o(z){m=m.filter(Boolean);for(let P=0;P<m.length;P+=1)R(m[P]);g=g.filter(Boolean);for(let P=0;P<g.length;P+=1)R(g[P]);k=k.filter(Boolean);for(let P=0;P<k.length;P+=1)R(k[P]);c=!1},d(z){z&&O(e),An(m,z),An(g,z),An(k,z)}}}function Kg(t,e,n){let{data:i}=e;function o(r,a){t.$$.not_equal(a.value,r)&&(a.value=r,n(0,i))}function l(r,a){t.$$.not_equal(a.value,r)&&(a.value=r,n(0,i))}function s(r,a){t.$$.not_equal(a.value,r)&&(a.value=r,n(0,i))}return t.$$set=r=>{"data"in r&&n(0,i=r.data)},[i,o,l,s]}class Fg extends ge{constructor(e){super(),me(this,e,Kg,Lg,be,{data:0})}}function Zg(t){let e,n,i,o,l,s;return e=new hg({}),i=new zg({props:{variant:wt.Dots}}),l=new pg({}),{c(){ne(e.$$.fragment),n=de(),ne(i.$$.fragment),o=de(),ne(l.$$.fragment)},l(r){re(e.$$.fragment,r),n=he(r),re(i.$$.fragment,r),o=he(r),re(l.$$.fragment,r)},m(r,a){ie(e,r,a),L(r,n,a),ie(i,r,a),L(r,o,a),ie(l,r,a),s=!0},p:we,i(r){s||(X(e.$$.fragment,r),X(i.$$.fragment,r),X(l.$$.fragment,r),s=!0)},o(r){R(e.$$.fragment,r),R(i.$$.fragment,r),R(l.$$.fragment,r),s=!1},d(r){r&&(O(n),O(o)),oe(e,r),oe(i,r),oe(l,r)}}}function qg(t){let e,n;return e=new Lh({props:{nodeTypes:t[2],nodes:t[0],edges:t[1],colorMode:"dark",fitView:!0,$$slots:{default:[Zg]},$$scope:{ctx:t}}}),e.$on("nodeclick",t[4]),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&2048&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ug(t,e,n){let{web:i}=e,o,l="";const s=mn(),r=ee(),a=ee();r.subscribe(m=>f()),a.subscribe(m=>f());function u(m){let _=m.instances.map(Rg),b=m.connections.map(Xg);G(r)!=_&&r.set(_),G(a)!=b&&a.set(b)}function f(){clearTimeout(o),o=setTimeout(d,1e3)}function d(){let m=G(r),_=G(a),b=i;m&&(b.instances=G(r).map(Yg)),_&&(b.connections=G(a).map(Vg));let g=JSON.stringify(b);g!==l&&(l=g,s("changed",b))}const c={vla:Fg},h=m=>console.log("on node click",m);return t.$$set=m=>{"web"in m&&n(3,i=m.web)},t.$$.update=()=>{t.$$.dirty&8&&u(i)},[r,a,c,i,h]}class Gg extends ge{constructor(e){super(),me(this,e,Ug,qg,be,{web:3})}}function wl(t,e,n){const i=t.slice();return i[6]=e[n],i}function Jg(t){let e,n="No workspace selected";return{c(){e=ue("p"),e.textContent=n,this.h()},l(i){e=fe(i,"P",{class:!0,"data-svelte-h":!0}),Dt(e)!=="svelte-szchs9"&&(e.textContent=n),this.h()},h(){v(e,"class","not-selected svelte-1dczsk")},m(i,o){L(i,e,o)},p:we,d(i){i&&O(e)}}}function Qg(t){var a;let e,n="New web",i,o,l,s,r=((a=t[0])==null?void 0:a.webs)&&kl(t);return{c(){e=ue("button"),e.textContent=n,i=de(),r&&r.c(),o=ve(),this.h()},l(u){e=fe(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(e)!=="svelte-1xrf53d"&&(e.textContent=n),i=he(u),r&&r.l(u),o=ve(),this.h()},h(){v(e,"class","web create svelte-1dczsk")},m(u,f){L(u,e,f),L(u,i,f),r&&r.m(u,f),L(u,o,f),l||(s=Ne(e,"click",t[3]),l=!0)},p(u,f){var d;(d=u[0])!=null&&d.webs?r?r.p(u,f):(r=kl(u),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(u){u&&(O(e),O(i),O(o)),r&&r.d(u),l=!1,s()}}}function kl(t){var o;let e,n=We((o=t[0])==null?void 0:o.webs),i=[];for(let l=0;l<n.length;l+=1)i[l]=vl(wl(t,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ve()},l(l){for(let s=0;s<i.length;s+=1)i[s].l(l);e=ve()},m(l,s){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(l,s);L(l,e,s)},p(l,s){var r;if(s&1){n=We((r=l[0])==null?void 0:r.webs);let a;for(a=0;a<n.length;a+=1){const u=wl(l,n,a);i[a]?i[a].p(u,s):(i[a]=vl(u),i[a].c(),i[a].m(e.parentNode,e))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(l){l&&O(e),An(i,l)}}}function vl(t){let e,n=t[6].name+"",i,o,l,s;function r(...a){return t[4](t[6],...a)}return{c(){e=ue("button"),i=Ve(n),o=de(),this.h()},l(a){e=fe(a,"BUTTON",{class:!0});var u=Q(e);i=Xe(u,n),o=he(u),u.forEach(O),this.h()},h(){v(e,"class","web svelte-1dczsk")},m(a,u){L(a,e,u),x(e,i),x(e,o),l||(s=Ne(e,"click",r),l=!0)},p(a,u){t=a,u&1&&n!==(n=t[6].name+"")&&Fe(i,n)},d(a){a&&O(e),l=!1,s()}}}function jg(t){let e,n="No workspace or web selected";return{c(){e=ue("p"),e.textContent=n,this.h()},l(i){e=fe(i,"P",{class:!0,"data-svelte-h":!0}),Dt(e)!=="svelte-148htg6"&&(e.textContent=n),this.h()},h(){v(e,"class","not-selected svelte-1dczsk")},m(i,o){L(i,e,o)},p:we,d(i){i&&O(e)}}}function xg(t){var d,c;let e,n=((d=t[0])==null?void 0:d.name)+"",i,o,l,s="/",r,a,u=((c=t[1])==null?void 0:c.name)+"",f;return{c(){e=ue("span"),i=Ve(n),o=de(),l=ue("span"),l.textContent=s,r=de(),a=ue("span"),f=Ve(u),this.h()},l(h){e=fe(h,"SPAN",{class:!0});var m=Q(e);i=Xe(m,n),m.forEach(O),o=he(h),l=fe(h,"SPAN",{class:!0,"data-svelte-h":!0}),Dt(l)!=="svelte-e97den"&&(l.textContent=s),r=he(h),a=fe(h,"SPAN",{class:!0});var _=Q(a);f=Xe(_,u),_.forEach(O),this.h()},h(){v(e,"class","workspace-name"),v(l,"class","divider svelte-1dczsk"),v(a,"class","web-name svelte-1dczsk")},m(h,m){L(h,e,m),x(e,i),L(h,o,m),L(h,l,m),L(h,r,m),L(h,a,m),x(a,f)},p(h,m){var _,b;m&1&&n!==(n=((_=h[0])==null?void 0:_.name)+"")&&Fe(i,n),m&2&&u!==(u=((b=h[1])==null?void 0:b.name)+"")&&Fe(f,u)},d(h){h&&(O(e),O(o),O(l),O(r),O(a))}}}function $g(t){let e,n="No web selected";return{c(){e=ue("p"),e.textContent=n,this.h()},l(i){e=fe(i,"P",{class:!0,"data-svelte-h":!0}),Dt(e)!=="svelte-tpj5na"&&(e.textContent=n),this.h()},h(){v(e,"class","not-selected svelte-1dczsk")},m(i,o){L(i,e,o)},p:we,i:we,o:we,d(i){i&&O(e)}}}function e0(t){let e,n;return e=new Gg({props:{web:t[1]}}),e.$on("changed",t[5]),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.web=i[1]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function t0(t){var B,K;let e,n,i,o=((K=(B=t[0])==null?void 0:B.name)!=null?K:"No workspace selected")+"",l,s,r,a,u,f,d,c,h,m,_,b,g,E,N='<div class="miny">x</div> <div class="maxy">x</div> <div class="closy">x</div>',k,M,z,P,S;function D(Y,F){return Y[0]?Qg:Jg}let p=D(t),y=p(t);function W(Y,F){var H,$;return(H=Y[0])!=null&&H.name&&(($=Y[1])!=null&&$.name)?xg:jg}let T=W(t),w=T(t);const I=[e0,$g],C=[];function V(Y,F){return Y[1]?0:1}return z=V(t),P=C[z]=I[z](t),{c(){e=ue("main"),n=ue("div"),i=ue("div"),l=Ve(o),s=de(),r=ue("div"),y.c(),a=de(),u=ue("div"),f=ue("div"),d=ue("div"),c=ue("div"),h=de(),m=ue("div"),w.c(),_=de(),b=ue("div"),g=de(),E=ue("div"),E.innerHTML=N,k=de(),M=ue("div"),P.c(),this.h()},l(Y){e=fe(Y,"MAIN",{class:!0});var F=Q(e);n=fe(F,"DIV",{class:!0});var H=Q(n);i=fe(H,"DIV",{class:!0});var $=Q(i);l=Xe($,o),$.forEach(O),s=he(H),r=fe(H,"DIV",{class:!0});var le=Q(r);y.l(le),le.forEach(O),H.forEach(O),a=he(F),u=fe(F,"DIV",{class:!0});var ae=Q(u);f=fe(ae,"DIV",{class:!0});var q=Q(f);d=fe(q,"DIV",{class:!0});var se=Q(d);c=fe(se,"DIV",{class:!0}),Q(c).forEach(O),h=he(se),m=fe(se,"DIV",{class:!0});var ke=Q(m);w.l(ke),ke.forEach(O),_=he(se),b=fe(se,"DIV",{class:!0}),Q(b).forEach(O),se.forEach(O),g=he(q),E=fe(q,"DIV",{class:!0,"data-svelte-h":!0}),Dt(E)!=="svelte-3duh3w"&&(E.innerHTML=N),q.forEach(O),k=he(ae),M=fe(ae,"DIV",{class:!0});var ze=Q(M);P.l(ze),ze.forEach(O),ae.forEach(O),F.forEach(O),this.h()},h(){v(i,"class","active-workspace svelte-1dczsk"),v(r,"class","webs svelte-1dczsk"),v(n,"class","sidebar svelte-1dczsk"),v(c,"class","left"),v(m,"class","centre"),v(b,"class","right"),v(d,"class","top-bar-sections svelte-1dczsk"),v(E,"class","windows-controls svelte-1dczsk"),v(f,"class","top-bar svelte-1dczsk"),v(M,"class","canvas svelte-1dczsk"),v(u,"class","content svelte-1dczsk"),v(e,"class","svelte-1dczsk")},m(Y,F){L(Y,e,F),x(e,n),x(n,i),x(i,l),x(n,s),x(n,r),y.m(r,null),x(e,a),x(e,u),x(u,f),x(f,d),x(d,c),x(d,h),x(d,m),w.m(m,null),x(d,_),x(d,b),x(f,g),x(f,E),x(u,k),x(u,M),C[z].m(M,null),S=!0},p(Y,[F]){var $,le;(!S||F&1)&&o!==(o=((le=($=Y[0])==null?void 0:$.name)!=null?le:"No workspace selected")+"")&&Fe(l,o),p===(p=D(Y))&&y?y.p(Y,F):(y.d(1),y=p(Y),y&&(y.c(),y.m(r,null))),T===(T=W(Y))&&w?w.p(Y,F):(w.d(1),w=T(Y),w&&(w.c(),w.m(m,null)));let H=z;z=V(Y),z===H?C[z].p(Y,F):(Ae(),R(C[H],1,1,()=>{C[H]=null}),Oe(),P=C[z],P?P.p(Y,F):(P=C[z]=I[z](Y),P.c()),X(P,1),P.m(M,null))},i(Y){S||(X(P),S=!0)},o(Y){R(P),S=!1},d(Y){Y&&O(e),y.d(),w.d(),C[z].d()}}}function n0(t,e,n){let i,o;J(t,Rn,u=>n(0,i=u)),J(t,Cl,u=>n(1,o=u)),gn(()=>{zl()});function l(u){as(G(Rn),u)}return[i,o,l,()=>ss(i,"new"),(u,f)=>an.set(u.name),u=>l(u.detail)]}class a0 extends ge{constructor(e){super(),me(this,e,n0,t0,be,{})}}export{a0 as component};
