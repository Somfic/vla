function w(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function u(e,o=!1){const r=w(),t=`_${r}`;return Object.defineProperty(window,t,{value:n=>(o&&Reflect.deleteProperty(window,t),e==null?void 0:e(n)),writable:!1,configurable:!0}),r}async function l(e,o={}){return new Promise((r,t)=>{const n=u(i=>{r(i),Reflect.deleteProperty(window,`_${d}`)},!0),d=u(i=>{t(i),Reflect.deleteProperty(window,`_${n}`)},!0);window.__TAURI_IPC__({cmd:e,callback:n,error:d,...o})})}export{l as i};
