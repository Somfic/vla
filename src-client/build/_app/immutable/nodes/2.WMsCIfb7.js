import{q as te,r as x,u as G,v as se,w as ne,S as R,x as oe,y as Y,z as le,A as ae,B as T,C as re,D as v,d as z,g as P,s as b,h as X,l as Q}from"../chunks/disclose-version.Zfe8n07h.js";import{i as C,r as L,j as ce,E as Z,k as ie,l as A,m as ue,n as N,o as D,q as O,v as de,w as $,x as ve,y as fe,s as W,b as he,c as _e}from"../chunks/runtime.Eq_XOEv4.js";import{w,r as pe}from"../chunks/index.-ivAZcaO.js";import{o as me}from"../chunks/main-client.dla5hKLu.js";function we(){}function ge(e,t,s,n,o,l,i){const h=(s&A)!==0,a=se(s,e);let _=null;te(e,h);let p,k=null,g=null;a.r=r=>{const u=_,d=u.s;d.add(r),r.f(()=>{d.delete(r),d.size===0&&u.e!==null&&(u.d!==null&&(x(u.d),u.d=null),C(u.e),u.e=null)})};const c=()=>{const r={d:null,e:null,s:new Set,p:_},u=L(()=>{const d=a.d;d!==null&&(x(d),a.d=null);let m=a.a;(a.f&A)!==0&&(m=ne(),a.a.appendChild(m)),l(m),r.d=a.d,a.d=null},a,!0);r.e=u,_=r},y=r=>{const u=r.f,d=(u&A)!==0,m=r.a;i(p,r,m,d,o,u,!0,k)},f=L(()=>{const r=t();p=ce(r)?r:r==null?[]:Array.from(r),n!==null?k=p.map(n):s&Z||p.map(we);const u=p.length;if(l!==null){if(u===0){if(a.v.length!==0||g===null){y(a),c();return}}else if(a.v.length===0&&_!==null){const d=_,m=d.s;m.size===0?d.d!==null&&(x(d.d),d.d=null):G(m,"out")}}g!==null&&ue(g)},a,!1);g=L(y,a,!0),ie(f,()=>{const r=a.f,u=a.a,d=(r&A)!==0;let m=_;for(;m!==null;){const S=m.d;S!==null&&x(S);const M=m.e;M!==null&&C(M),m=m.p}i([],a,u,d,o,r,!1,k),C(g)}),a.e=f}function ye(e,t,s,n,o){ge(e,t,s,null,n,o,ke)}function ke(e,t,s,n,o,l,i){var h=R in e&&e[R].i,a=t.v,_=t.s;h&&(l&=~D);var p=a.length,k=e.length,g=Math.max(p,k),c=0,y,f;if(_.length!==0&&xe(_),k===0)for(y=[],n&&p!==0&&oe(s);c<g;)f=a[c++],H(f,_,i,n);else{var r;if(y=Array(k),Y!==null)for(var u=Y[0];c<g;c++){r=h?N(e,c):e[c];var d=le(u);ae(d),u=d.at(-1).nextSibling.nextSibling,f=q(r,null,c,o,l),y[c]=f}else for(;c<g;c++)c>=p?(r=h?N(e,c):e[c],f=q(r,null,c,o,l),y[c]=f,Ee(f,s,n,null)):c>=k?(f=a[c],H(f,_,i)):(r=e[c],f=a[c],y[c]=f,be(f,r,c,l))}t.v=y}function Ee(e,t,s,n){var o=e.d;return n===null?s?T(o,t,null):T(o,t.parentNode,t):T(o,null,n)}function xe(e){var t=e.length;if(t>0){for(var s=0,n,o;s<t;s++)n=e[s],o=n.r,o!==null&&(n.r=null,H(n,null,!1));e.length=0}}function be(e,t,s,n){n&D?O(e.v,t):de(e.v)&&(e.v.o[e.v.p]=t);const o=e.s,l=(n&$)!==0,i=e.a;o!==null&&n&Z&&i!==null&&i(e,o,s,l),l?O(e.i,s):e.i=s}function H(e,t,s,n=!1){const o=e.s;if(s&&o!==null){for(let i of o)i.r==="key"&&o.delete(i);if(o.size===0)e.s=null;else{G(o,"out"),t!==null&&t.push(e);return}}const l=e.d;!n&&l!==null&&x(l),C(e.e)}function q(e,t,s,n,o){const i=(o&D)===0?e:o&ve?W(e):fe(e),h=o&$?W(s):s,a=re(i,h,t),_=L(p=>{n(null,p.v,p.i)},a,!0);return a.e=_,a}let Ae=w([]),B=w([]),U=w({instances:[],values:[]}),V=w([]),Ce=w(""),E=null,I=w(!1),Le=w([]),j=w({percentage:0,label:"Initialising"}),J=w(!1);function ee(){I.set(!1),V.set([]),Ce.set(""),B.set([]),U.set({}),j.set({percentage:0,label:"Initialising"}),J.set(!1),console.log("Connecting to websocket..."),E=new WebSocket("ws://127.0.0.1:55155"),E.onopen=()=>{console.log("Connected"),I.set(!0)},E.onmessage=e=>{Le.update(s=>[...s,e.data]);const t=JSON.parse(e.data);switch(console.log("<",t),t.type){case"NodesStructure":B.set(t.data.types),Ae.set(t.data.nodes);break;case"WebResult":U.set(t.data.result);break;case"Progress":j.set(t.data);break;case"ReadyState":J.set(t.data.ready);break;case"Workspaces":V.set(t.data.workspaces);break}},E.onerror=e=>{console.log("Error",e)},E.onclose=e=>{console.log("Closed",e),I.set(!1),setTimeout(()=>{ee()},5e3)}}function Se(e,t){const s=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(s*s+n*n)}const K=w(0),F=w(!1);pe({x:0,y:0},e=>{const t=l=>{e({x:l.clientX,y:l.clientY})},s=l=>{if(l.touches.length===2){const i=Se(l.touches[0],l.touches[1]);K.set(i);const h={x:l.touches[0].clientX,y:l.touches[0].clientY};e(h)}else if(l.touches.length===1){const i=l.touches[0].clientX,h=l.touches[0].clientY;e({x:i,y:h}),F.set(!0)}},n=l=>{s(l),window.addEventListener("touchend",o),window.addEventListener("touchmove",s)},o=()=>{F.set(!1),K.set(0),window.removeEventListener("touchmove",s)};return document.addEventListener("mousemove",t),window.addEventListener("touchstart",n,!0),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchstart",n),window.removeEventListener("touchmove",s),window.removeEventListener("touchend",o)}});v(["mousedown"]);const Te=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];new Set(Te);v(["touchstart","mousedown"]);v(["mousedown"]);v(["mousedown","mouseup","touchstart","touchend"]);v(["contextmenu","click"]);v(["mousedown","touchend","touchstart","keydown","keyup"]);v(["mousedown","touchstart"]);v(["click"]);v(["keydown"]);v(["keydown","mousedown"]);v(["mousedown","touchstart"]);v(["mousedown"]);v(["keydown","click","mouseover"]);v(["click"]);v(["click"]);v(["click"]);v(["keydown"]);var Ie=Q("<p>Item</p>"),He=Q('<main class="svelte-1kalrhn"><div class="shortcuts panel svelte-1kalrhn"><div><p>Hello</p></div> <div><p>Hey</p> <p>Hey 2</p></div></div> <div class="explorer panel svelte-1kalrhn"><p>Workspace items</p> <!></div> <div class="editor svelte-1kalrhn"><div class="canvas panel svelte-1kalrhn"></div> <div class="output svelte-1kalrhn"><div class="console panel svelte-1kalrhn"></div> <div class="overview panel svelte-1kalrhn"></div></div></div></main>');function ze(e,t){_e(t,!1),me(()=>{ee()});var s=P(e,!0,He),n=X(s),o=b(b(n)),l=X(o),i=b(b(l));ye(i,()=>Array(200),1,(h,a,_)=>{var p=P(h,!0,Ie);z(h,p)},null),z(e,s),he()}export{ze as component};
